            try {
window.advBidxc = window.advBidxc || {};
window.advBidxc.isLoaded = true;
var configSettings = {provider:{388736527:{33:{prvid:"33",pvsh:10,pbsh:85,dpsh:0,sizes:[{size:"160x600",ext_pl_code:"10044884"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"8CU66J63J"},55:{prvid:"55",pvsh:17,pbsh:95,dpsh:0,sizes:[{size:"160x600",ext_pl_code:"538662343"}],test_mode:!1,hb:!0,prf:!0},99:{prvid:"99",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"160x600",ext_pl_code:""}],test_mode:!0,hb:!0,prf:!1},23:{prvid:"23",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"160x600",ext_pl_code:"11572293"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"1037255",cache:!0},34:{prvid:"34",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"160x600",ext_pl_code:"657827212"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"8CU3JVG7R"},56:{prvid:"56",pvsh:0,pbsh:85,dpsh:0,sizes:[{size:"160x600",ext_pl_code:"mnet-webmd-160x600-left"}],test_mode:!1,hb:!0,prf:!0},28:{prvid:"28",pvsh:0,pbsh:95,dpsh:0,sizes:[{size:"160x600",ext_pl_code:"464937"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"8CU66J63J"},29:{prvid:"29",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"160x600",ext_pl_code:"119516_564736_9"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"16268",cache:!0},10000:{prvid:"10000",pvsh:0,pbsh:80,dpsh:0,sizes:[{size:"160x600",ext_pl_code:"291947708"}],test_mode:!1,hb:!0,prf:!1,auto:100,ext_pub_code:"8CU12LGKP"},51:{prvid:"51",pvsh:10,pbsh:95,dpsh:5,sizes:[{size:"160x600",ext_pl_code:"10986549"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"965665"},20:{prvid:"20",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"160x600",ext_pl_code:"WebMdDisplay_924105"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"26151"}},356136642:{33:{prvid:"33",pvsh:10,pbsh:85,dpsh:0,sizes:[{size:"728x90",ext_pl_code:"10044882"},{size:"970x250",ext_pl_code:"10044882"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"8CU66J63J"},55:{prvid:"55",pvsh:17,pbsh:95,dpsh:0,sizes:[{size:"728x90",ext_pl_code:"538662336"},{size:"970x250",ext_pl_code:"538662336"}],test_mode:!1,hb:!0,prf:!0},99:{prvid:"99",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"728x90",ext_pl_code:""}],test_mode:!0,hb:!0,prf:!1},23:{prvid:"23",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"728x90",ext_pl_code:"11572292"},{size:"970x250",ext_pl_code:"11572292"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"1037255",cache:!0},34:{prvid:"34",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"728x90",ext_pl_code:"770681517"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"8CU3JVG7R"},56:{prvid:"56",pvsh:0,pbsh:85,dpsh:0,sizes:[{size:"728x90",ext_pl_code:"mnet-webmd-728x90-1"}],test_mode:!1,hb:!0,prf:!0},28:{prvid:"28",pvsh:0,pbsh:95,dpsh:0,sizes:[{size:"728x90",ext_pl_code:"464948"},{size:"970x250",ext_pl_code:"464953"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"8CU66J63J"},29:{prvid:"29",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"728x90",ext_pl_code:"119516_564736_2"},{size:"970x250",ext_pl_code:"119516_564736_2"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"16268",cache:!0},10000:{prvid:"10000",pvsh:0,pbsh:80,dpsh:0,sizes:[{size:"728x90",ext_pl_code:"544325350"}],test_mode:!1,hb:!0,prf:!1,auto:100,ext_pub_code:"8CU12LGKP"},51:{prvid:"51",pvsh:10,pbsh:95,dpsh:5,sizes:[{size:"728x90",ext_pl_code:"10986548"},{size:"970x250",ext_pl_code:"10986548"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"965665"},20:{prvid:"20",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"728x90",ext_pl_code:"WebMdDisplay_924108"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"26151"}},656615527:{33:{prvid:"33",pvsh:10,pbsh:85,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"10044829"},{size:"300x600",ext_pl_code:"10044829"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"8CU66J63J"},55:{prvid:"55",pvsh:17,pbsh:95,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"538662337"},{size:"300x600",ext_pl_code:"538662337"}],test_mode:!1,hb:!0,prf:!0},99:{prvid:"99",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:""}],test_mode:!0,hb:!0,prf:!1},23:{prvid:"23",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"11572290"},{size:"300x600",ext_pl_code:"11572290"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"1037255",cache:!0},34:{prvid:"34",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"773440786"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"8CU3JVG7R"},56:{prvid:"56",pvsh:0,pbsh:85,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"mnet-webmd-300x250-600-right"},{size:"300x600",ext_pl_code:"mnet-webmd-300x250-600-right"}],test_mode:!1,hb:!0,prf:!0},28:{prvid:"28",pvsh:0,pbsh:95,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"464942"},{size:"300x600",ext_pl_code:"464943"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"8CU66J63J"},29:{prvid:"29",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"119516_564736_15"},{size:"300x600",ext_pl_code:"119516_564736_15"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"16268",cache:!0},10000:{prvid:"10000",pvsh:0,pbsh:80,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"463247757"}],test_mode:!1,hb:!0,prf:!1,auto:100,ext_pub_code:"8CU12LGKP"},51:{prvid:"51",pvsh:10,pbsh:95,dpsh:5,sizes:[{size:"300x250",ext_pl_code:"10986550"},{size:"300x600",ext_pl_code:"10986550"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"965665"},20:{prvid:"20",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"WebMdDisplay_924107"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"26151"}},235515020:{33:{prvid:"33",pvsh:10,pbsh:85,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"11361343"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"8CU66J63J"},55:{prvid:"55",pvsh:17,pbsh:95,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"538917792"}],test_mode:!1,hb:!0,prf:!0},99:{prvid:"99",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"235515020"}],test_mode:!0,hb:!0,prf:!1},23:{prvid:"23",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"11572294"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"1037255"},34:{prvid:"34",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"890266157"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"8CU3JVG7R"},28:{prvid:"28",pvsh:0,pbsh:95,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"464942"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"8CU66J63J"},29:{prvid:"29",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"ads-pos-137"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"16268"},10000:{prvid:"10000",pvsh:0,pbsh:80,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"333187014"}],test_mode:!1,hb:!0,prf:!1,auto:100,ext_pub_code:"8CU12LGKP"},51:{prvid:"51",pvsh:10,pbsh:95,dpsh:5,sizes:[{size:"300x250",ext_pl_code:"11374084"}],test_mode:!1,hb:!0,prf:!0,ext_pub_code:"965665"},20:{prvid:"20",pvsh:0,pbsh:100,dpsh:0,sizes:[{size:"300x250",ext_pl_code:"1092300"}],test_mode:!1,hb:!0,prf:!1,ext_pub_code:"26151"}}},log:{pr:1,ad:1,sw:0,prf:0,aw:1,gptr:0,gpts:100,ck:10,exp:0,ap:1},adSlots:{388736527:{dfpDivIds:"",custTargs:[{key:"pos",value:"113"}],code:"ads2-pos-113-ad-left",crid:"388736527",sizes:[[160,600]],g:!0},356136642:{dfpDivIds:"",custTargs:[{key:"pos",value:"101"}],code:"ads2-pos-101-bannerAd",crid:"356136642",sizes:[[728,90],[970,250]],g:!0},656615527:{dfpDivIds:"",custTargs:[{key:"pos",value:"121"}],code:"ads2-pos-121-ad_right",crid:"656615527",sizes:[[300,250],[300,600]],g:!0},235515020:{dfpDivIds:"",custTargs:[{key:"pos",value:"137"}],code:"ads-pos-137",crid:"235515020",sizes:[[300,250]],pt:"",amp:0,g:!0}},providerMap:{33:{prvid:"33",pvnm:"CPXI",price_macro:"${AUCTION_PRICE}",eid:"4",mNet:!0,clientSide:!1,adv_dn:"unknown",bidder:"rtbsbidder"},99:{prvid:"99",pvnm:"TEST_BIDDER",price_macro:"${AUCTION_PRICE}",eid:"27",mNet:!0,clientSide:!0,adv_dn:"unknown",bidder:"testbidder"},55:{prvid:"55",pvnm:"OPENXS2S_MNET",price_macro:"${AUCTION_PRICE}",eid:"20",mNet:!0,clientSide:!1,adv_dn:"unknown",bidder:"rtbsbidder"},23:{prvid:"23",pvnm:"APPNEXUS_PRIVATE",price_macro:"${AUCTION_PRICE}",eid:"4",mNet:!1,clientSide:!1,adv_dn:"unknown",bidder:"rtbsprivatebidder"},56:{prvid:"56",pvnm:"MEDIAMATH",price_macro:"${AUCTION_PRICE}",eid:"18",mNet:!0,clientSide:!1,adv_dn:"unknown",bidder:"rtbsbidder"},34:{prvid:"34",pvnm:"YBNCA Anti-Adblock",price_macro:"${AUCTION_PRICE}",eid:"30",mNet:!0,clientSide:!1,adv_dn:"unknown",dHost:"http:\/\/contextual.media.net",abHost:"http:\/\/a.mnet-ad.net"},28:{prvid:"28",pvnm:"PULSEPOINT",price_macro:"${AUCTION_PRICE}",eid:"22",mNet:!0,clientSide:!1,adv_dn:"unknown",bidder:"rtbsbidder"},29:{prvid:"29",pvnm:"RUBICON_PRIVATE",price_macro:"${AUCTION_PRICE}",eid:"24",mNet:!1,clientSide:!1,adv_dn:"unknown",bidder:"rtbsprivatebidder"},4:{prvid:"4",pvnm:"YBNCA-AUTO",price_macro:"${AUCTION_PRICE}",eid:"31",mNet:!0,clientSide:!1,adv_dn:"unknown",bidder:"rtbsbidder"},10000:{prvid:"10000",pvnm:"YBNCA",price_macro:"${AUCTION_PRICE}",eid:"31",mNet:!0,clientSide:!1,adv_dn:"unknown",bidder:"rtbsbidder"},9:{prvid:"9",pvnm:"YBNCA",price_macro:"${AUCTION_PRICE}",eid:"31",mNet:!0,clientSide:!1,adv_dn:"unknown",bidder:"rtbsbidder"},72:{prvid:"72",pvnm:"APPNEXUS_CONSOLE",price_macro:"${AUCTION_PRICE}",eid:"4",mNet:!0,clientSide:!0,adv_dn:null,bidder:"rtbsbidder"},51:{prvid:"51",pvnm:"DISTRICTM_DIRECT",price_macro:"${AUCTION_PRICE}",eid:"4",mNet:!0,clientSide:!1,adv_dn:"unknown",bidder:"rtbsbidder"},40:{prvid:"40",pvnm:"FACEBOOK",price_macro:"${AUCTION_PRICE}",eid:"12",mNet:!1,clientSide:!0,adv_dn:"unknown",bidder:"facebookv2bidder"},20:{prvid:"20",pvnm:"PUBMATIC",price_macro:"${AUCTION_PRICE}",eid:"21",mNet:!1,clientSide:!0,adv_dn:"unknown",bidder:"pubmaticbidder"},64:{prvid:"64",pvnm:"YOUSLAND",price_macro:"${AUCTION_PRICE}",eid:"32",mNet:!0,clientSide:!1,adv_dn:"unknown",bidder:"rtbsbidder"}},timeout:{prfd:1000,hbrt:200,gptrd:300,cbrt:400,bidTTL:{56:0.5}},info:{cid:"8CU66J63J",apsid:"8241"},misc:{dcto:0,adlogSt:0,grc:1,rvc:1,ogf:1,lac:0},features:{fcsync:1,frlen:1,cbol:1},hbInfo:{fd:"www.webmd.com",hdhome:"",version:"3.2"},targetingKeys:{23:{name:"appnexusprivatebidder",bid:"mnet_abd",epc:"mnet_apc",size:"mnet_asz",ltime:"mnet_alt",dealType:"mnet_aat",dealId:"mnet_adi",test:"mnetAtest"},29:{name:"rubiconprivatebidder",bid:"mnet_rbd",epc:"mnet_rpc",size:"mnet_rsz",ltime:"mnet_rlt",dealType:"mnet_rat",dealId:"mnet_rdi",test:"mnetRtest"}},defaultBidderSetting:{pubmaticbidder:{bidApiUrl:"http:\/\/ads.pubmatic.com\/AdServer\/js\/gshowad.js"},facebookv2bidder:{bidApiUrl:"https:\/\/an.facebook.com\/v2\/placementbid.json"},bidApiUrl:"http:\/\/contextual.media.net\/rtbsapub.php",bidApiUrl2:"http:\/\/xch-global.media.net\/rtbs\/rtbsapub"},logUrls:{pr:"logid=prlog",ap:"logid=aplog",ad:"logid=adlog",prf:"logid=prflog",aw:"logid=awlog",gptr:"logid=gptrlog",cslog:"logid=kfk&evtid=cslog",amzlog:"logid=kfk&evtid=amzlog",gpts:"logid=kfk&evtid=gptslog",agpts:"logid=kfk&evtid=agptslog",errorBid:"logid=kfk&evtid=errorBidLog",tpUrl:"logid=kfk&evtid=rtbstl",sw:"logid=kfk&evtid=slotlog",exp:"logid=kfk&evtid=explog",idl:"logid=kfk&evtid=initlog",av:"logid=kfk&evtid=avlog",ar:"logid=kfk&evtid=arlog",el:"logid=kfk&evtid=belog",get:"http:\/\/qsearch.media.net\/log",post:"http:\/\/lg1.media.net\/log"},_mNVsid:"1434512942659496000V10",_dataCk:"||||||||||||||",_apnCk:"0",viewid:"1502475598",_mNVisitIdData:"154.0.138.2",_ip2c:"UG",_ip2z:"d",cok:{fb:""}};
!function(){"use strict";function n(n){return"[object Array]"===Object.prototype.toString.call(n)}function t(n){return void 0!==n&&""!==n&&null!==n}function e(n){return"function"==typeof n}function o(o,i,r){return e(i)&&(r=i,i=[]),t(o)&&n(i)&&e(r)?void(c[o]={deps:i,callback:r}):!1}function i(n,t){var o,r=[];for(var f in n)if(n.hasOwnProperty(f)){if(o=n[f],"object"==typeof o||"undefined"==typeof o){r.push(o);continue}void 0!==u[o]?r.push(u[o]):(u[o]=i(c[o].deps,c[o].callback),r.push(u[o]))}return e(t)?t.apply(this,r):r}var r,u={},c={};r="undefined"!=typeof global&&"object"==typeof module?global:window,r._mNRequire=i,r._mNDefine=o}();_mNDefine("_mNRP",[window,document,{}],function(e,n){"use strict";function r(e){c=e}function t(e){"undefined"==typeof e.logLevel&&(e={logLevel:3,errorVal:e}),e.logLevel>=3&&p[e.logLevel-1].push(e)}function o(){var r,t=0;for(r=0;g>r;r++)t+=p[r].length;if(0!==t){var o,a,i,s,u=new Image,h="https:"===n.location.protocol?"https://qsearch-a.akamaihd.net/nerrping.php":"http://qsearch.media.net/nerrping.php",m="",v=0;for(r=g-1;r>=0;r--){for(t=p[r].length,o=0;t>o;){if(s=1===r?p[r][o]:{logLevel:p[r][o].logLevel,errorVal:{name:p[r][o].errorVal.name,type:c,message:p[r][o].errorVal.message,line:p[r][o].errorVal.lineNumber,description:p[r][o].errorVal.description,stack:p[r][o].errorVal.stack}},i=l(s),!(i.length+m.length<=1200)&&m.length){v=1;break}0!==m.length&&(m+=","),m+=i,p[r].shift(),t--}if(v)break}m=encodeURIComponent("["+m+"]"),a=h+"?d="+m+"&userAgent="+f+"&requrl="+encodeURIComponent(e.location.href)+"&img=logo.gif",u.src=a}}function l(e){return"object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify(e):void 0}function a(e,n,r){this.name=e,this.message=n,this.logLevel=r}function i(){var e,n,r=Array.prototype.slice.call(arguments),o=[],l=r.length,i=null,s=null;"object"==typeof r[l-1]&&r[l-1].constructor===a&&(e=r[l-1],l--),"function"==typeof r[0]?(n=r.shift(),l--):(i=r.shift(),n=r.shift(),l-=2),o=r.slice(0,l);try{return n.apply(i,o)}catch(c){return e&&(c.name=e.name+" ("+c.name+")",c.message=e.message+" ("+c.message+")",s=e.logLevel),t({logLevel:s||3,errorVal:c}),new a}}var s,c="",g=3,f=encodeURIComponent(navigator.userAgent),p=[];for(s=0;g>s;s++)p[s]=[];var u=function(){o(),setTimeout(u,2500)};return e.addEventListener("load",u),{execSafe:i,pushError:t,setType:r}});_mNDefine("util",["_mNRP",window,document,{}],function(t,e,n){"use strict";function r(){var t,e,n={},r=!1;this.start=function(){t=(new Date).getTime(),r=!0},this.stop=function(){e=(new Date).getTime(),r=!1},this.diff=function(){return(new Date).getTime()-t},this.tick=function(t){n[t]={},n[t].startTime=r?this.diff():-1},this.tock=function(t){n.hasOwnProperty(t)&&(n[t].endTime=-1===n[t].startTime?-1:this.diff())},this.time=function(t){return n.hasOwnProperty(t)?(n[t].endTime||this.tock(t),n[t].endTime-n[t].startTime):-1},this.getTime=function(t){return n.hasOwnProperty(t)?this.diff()-n[t].startTime:-1},this.getAllTime=function(){return n}}function i(t,e,n){var r="evt_"+(e||"gbl");qt[r]=qt[r]||{},qt[r][t]=qt[r][t]||[],qt[r][t].push(n)}function o(t,e){var n="evt_"+(e||"gbl");qt[n]&&qt[n][t]&&qt[n][t].length>0&&(qt[n][t]=[])}function a(t){if(h(t)){var e="evt_"+t;h(qt[e])&&!m(qt[e])&&lt(qt[e],function(t,n){qt[e][n]=[]})}}function u(){a("global")}function c(){for(var t in qt)qt.hasOwnProperty(t)&&-1!==t.indexOf("evt_")&&-1===t.indexOf("command")&&(qt[t]={})}function s(e,n,r,i){i=i||("object"==typeof r?r:{}),r="boolean"==typeof r?r:!1;var o="evt_"+(n||"gbl");if(void 0!==qt[o]){var a,u,c=qt[o][e]||[],s={src:n};for(qt.evt_gbl&&qt.evt_gbl.gblEvt&&t.execSafe(qt.evt_gbl.gblEvt[0],s,i),u=0,a=c.length;a>u;u++)v(c[u])&&t.execSafe(c[u],s,i);!r&&c.length>0&&(qt[o][e]=[])}}function l(t,e,n,r){s("before:"+t,e,n),s(t,e,n,r),s("after:"+t,e,n)}function f(t,e){return g(t)?g(e)&&-1!==t.indexOf(e):!1}function d(t,e){return y(t)?dt(t,function(t){return t===e?!0:void 0})||!1:!1}function p(t,e,n){var r=!1;y(t)&&h(e)&&h(n)&&(lt(t,function(i,o,a){new RegExp(e).test(i)===!0&&(r=!0,t[o]=n)}),r===!1&&t.push(n))}function m(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function h(t){switch(typeof t){case"string":return void 0!==t&&""!==t&&null!==t;case"object":return null!==t;case"number":case"boolean":return!0;default:return!1}}function g(t){return h(t)}function v(t){return"function"==typeof t}function y(t){return"[object Array]"===Object.prototype.toString.call(t)}function E(t){return w(t)!==t}function b(t){return g(t)?encodeURIComponent(t):""}function w(t){if(!g(t))return"";try{return decodeURIComponent(t)}catch(e){return t}}function S(t){return g(t)?-1!==t.search("^(http(s)?%253A%252F%252F)")?w(t):-1!==t.search("^(http(s)?://)")?b(t):t:""}function O(t){if(!g(t))return{};var e,n,r,i,o={};if(e=t.indexOf("?"),-1===e)return o;for(n=t.substring(e+1).split("&"),r=n.length;r--;)i=n[r].split("="),o[i[0]]=i[1];return o}function C(t){this.url=t,this.map=O(this.url)}function x(){var t=!1;try{"object"==typeof e.top&&"object"==typeof e&&(t=e.top!=e)}catch(n){t=!0}return t}function T(t){return h(t)?t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):""}function N(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function k(t,e,n){return n=n||null,e=e||[],function(){var r=e.slice(0);arguments.length>0&&Array.prototype.push.apply(r,Array.prototype.slice.call(arguments)),t.apply(n,r)}}function I(){var t=Array.prototype.slice.call(arguments),e=t[0];return t.shift(),lt(t,function(t){return y(t)?void Array.prototype.push.apply(e,t):void e.push(t)}),e}function P(){return h(e.location.href)?e.location.href:""}function B(t){t=w(t);var e=new RegExp("^http(?:s)?://([^/]+)","im"),n=t.match(e);return n?n[1].toString():""}function D(t){try{var e=t.contentWindow||t.contentDocument,n=e&&(e.document||e)||!1;return[n,e,null]}catch(r){return[!1,null,"Access Denied"]}}function R(t){var e;if(t=t.match(/^([1-9]\d*|0[0-7]*|0x[\da-f]+)(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?(?:\.([1-9]\d*|0[0-7]*|0x[\da-f]+))?$/i),!t)return!1;for(t[0]=0,e=1;5>e;e+=1)t[0]+=!!(t[e]||"").length,t[e]=parseInt(t[e],10)||0;return t.push(256,256,256,256),t[4+t[0]]*=Math.pow(256,4-t[0]),t[1]>=t[5]||t[2]>=t[6]||t[3]>=t[7]||t[4]>=t[8]?!1:t[1]*(1===t[0]||16777216)+t[2]*(t[0]<=2||65536)+t[3]*(t[0]<=3||256)+1*t[4]}function M(){return""+N(0,254)+"."+N(0,254)+"."+N(0,254)+"."+N(0,254)}function A(t,e,n,r,i){var o;if(n=n||$("@body:0"),!n)return G("@body:0",100,k(A,[t,e,null,r,i]),!1),null;if(o=(new Y).set("marginWidth",0).set("marginHeight",0).set("scrolling","no").set("frameBorder",0).set("height",0).set("width",0).set("id",t).overrideStyle("display:none !important;").done(),r)for(var a in r)o[a]=r[a];return n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),e&&F(o,e),v(i)&&(o.onload=i),o}function F(e,r){if(e){var i,o=D(e);try{if(null!==o[2])throw o[2];i=o[0],i&&(i.open(),i.write(r),i.close())}catch(a){var u="javascript:var d=document.open();d.domain='"+n.domain+"';";e.src=u+"void(0);";try{var c=e.contentWindow.document;c.write(r),c.close()}catch(s){e.src=u+'d.write("'+r.replace(/"/g,'\\"')+'");d.close();',t.pushError(s)}}}}function L(t,e,n){return g(t)?(h(n)&&h(n.encode)&&n.encode===!0&&(e=b(e)),"&"+t+"="+e):""}function j(t){if(v(Object.keys))return Object.keys(t);var e=[];return lt(t,function(t,n){e.push(n)}),e}function _(t,e,n){function r(t){return"object"!=typeof t||t.isUrlEntity!==!1}var i={};h(n)&&h(n.encode)&&(i.encode=n.encode);var o,a,u="",c=!!e,s=c?e:t;for(o in s)if(s.hasOwnProperty(o)&&(c&&(o=e[o]),g(t[o])&&r(t[o]))){if(y(t[o])){for(var l in t[o])u+=L(o+"[]",t[o][l],i);continue}a="object"==typeof t[o]?t[o].value:t[o],u+=L(o,a,i)}return u}function q(t,e){e=60*e*1e3;var n=wt();return n-t>e?!1:!0}function U(){return/msie|rv:11\.0/.test(Ut.toLowerCase())}function X(t,e){var n="",r={};return h(e)&&h(e.encode)&&(r.encode=e.encode),lt(t,function(t,e){n+=L(e+"[]",t,r)}),n}function V(t,e,n){var r,i,o,a,u=[],c=[],s={},l=t.length;if(0===l)return[""];h(n)&&h(n.encode)&&(s.encode=n.encode);for(r in t[0])t[0].hasOwnProperty(r)&&u.push(r);var f="",d=U();for(r=0,i=t.length;i>r;r++){var p="";for(o=0,a=u.length;a>o;o++)p+=L(u[o]+"[]",t[r][u[o]],s);d&&h(e)?p.length>e?c.push(p):(f+p).length>e?(c.push(f),f=p):f+=p:f+=p}return c.push(f),c}function W(t){switch(typeof t){case"string":return g(t)&&("1"===t||"true"===t);case"number":return 0!==t;case"boolean":return t;default:return!1}}function H(t,e){return void 0===t||void 0===e||void 0===t[e]?void 0:t[e]}function J(t,r){if(/complete|loaded/.test(n.readyState))return void t();if(r||Vt.addEvent(e,"load",t),!r&&n.addEventListener)return void Vt.addEvent(n,"DOMContentLoaded",t);var i=n.documentElement;if(i&&i.doScroll)try{i.doScroll("left"),t()}catch(o){setTimeout(k(J,[t,!0]),50)}}function Y(t){return t?void(this.frame=t.document.createElement("iframe")):void(this.frame=n.createElement("iframe"))}function $(t){try{var e,r=t.charAt(0),i=t.substr(1).split(":"),o=i[0],a=g(i[1])&&parseInt(i[1],10);switch(r){case"@":e=n.getElementsByTagName(o);break;case"#":e=n.getElementById(o);break;case"$":e=n.getElementsByName(o);break;case".":e=Q(n,o);break;default:e=n.getElementById(t)}return a===!1?e:e[a]}catch(u){return null}}function G(t,e,n,r){try{var i=$(t),o=Wt.getInstance().hasDOMLoaded();if(i||!r&&o)return void n.call(null,i||!1);setTimeout(k(G,[t,e,n,r]),e)}catch(a){setTimeout(k(G,[t,e,n,r]),e)}}function Q(t,e,r){if(v(n.getElementsByClassName))return t.getElementsByClassName(e);r=r||"*";var i,o,a=new RegExp("(^|\\s)"+e+"(\\s|$)"),u=t||n,c="*"===r&&u.all?u.all:u.getElementsByTagName(r),s=[],l=c.length;for(o=0;l>o;o++)i=c[o],a.test(i.className)&&s.push(i);return s}function K(){return g(Ut)&&/ip(hone|od|ad)|android|blackberry|kindle|symbian|wap|windows (ce|phone)|palm( os)|iemobile|nokia|mobile/i.test(Ut)}function Z(){var t;return!f(Ut,"Gecko")||f(Ut,"Trident")||f(Ut,"MSIE")?f(Ut,"webkit")?!0:(f(Ut,"Trident")||f(Ut,"MSIE"))&&(t=z(),t>=11)?!0:!1:!0}function z(){var t;return(f(Ut,"Trident")||f(Ut,"MSIE"))&&(t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ut),h(t)&&h(t[1]))?parseFloat(t[1]):-1}function tt(e,r,i,o){if(g(e)){if("http"!==e.substr(0,4)&&i===!0){var a="https:"===n.location.protocol;e=(a?"https:":"http:")+e}var u=n.createElement("script"),c=n.getElementsByTagName("script")[0],s=!1;u.type="text/javascript",u.async=!0,o&&o.crossOrigin&&(u.crossOrigin="anonymous"),r&&"function"==typeof r&&(u.onload=u.onreadystatechange=function(){s||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(s=!0,t.execSafe(r))}),u.src=e,c.parentNode.insertBefore(u,c)}}function et(t){if(g(t)){var e=n.createElement("script"),r=n.getElementsByTagName("script")[0];e.type="text/javascript",e.appendChild(n.createTextNode(t)),r.parentNode.insertBefore(e,r)}}function nt(){try{return/loaded|complete/.test(n.readyState)}catch(t){return!1}}function rt(t,e,r){var o;if(g(t)){if("http"!==t.substr(0,4)){var a="https:"===n.location.protocol;t=(a?"https:":"http:")+t}o="_mN_advBid_"+r,i("prvReq",r,e);var u='<!DOCTYPE html><html><head><script type="text/javascript">function makeCall(){var scriptElement = document.createElement(\'script\'), tag = document.getElementsByTagName("script")[0], status = false; scriptElement.type = \'text/javascript\'; scriptElement.async = true; scriptElement.onload = scriptElement.onreadystatechange = function () { if (!status && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) { status = true; window.parent._mNRequire([\'util\'], function(util){util.triggerEvent("prvReq", "'+r+'", false, window);});}};scriptElement.src = "'+t+'"; tag.parentNode.insertBefore(scriptElement, tag);}<\/script></head><body onload="makeCall()"></body></html>',c=A(o,u);return D(c)[1]}}function it(t,e){var n='<!DOCTYPE html><html><head><script type="text/javascript">function makeCall(){var scriptElement = document.createElement(\'script\'), tag = document.getElementsByTagName("script")[0], status = false; scriptElement.type = \'text/javascript\'; scriptElement.async = true; scriptElement.onload = scriptElement.onreadystatechange = function () { if (!status && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) { status = true; }};scriptElement.src = "'+e+'"; tag.parentNode.insertBefore(scriptElement, tag);}<\/script></head><body onload="makeCall()"></body></html>';F(t,n)}function ot(t){var e=t.toString(),n=e.indexOf(".");return-1!==n?parseFloat(e.substr(0,Math.min(n+3,e.length))).toFixed(2):parseFloat(t).toFixed(2)}function at(t){if(y(t)){var e=Math.max.apply(null,t);if(!isNaN(e))return e}}function ut(){Xt&&e.console&&e.console.log(Array.prototype.slice.call(arguments))}function ct(t,e){t.super_=e;for(var n in e.prototype)t.prototype[n]=e.prototype[n];t.prototype.constructor=t}function st(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function lt(t,e){if(h(t)){var n=0,r=t.length;if(y(t))for(;r>n;n++)e.call(t[n],t[n],n,r);else for(n in t)t.hasOwnProperty(n)&&e.call(t[n],t[n],n,0)}}function ft(t,e){if(!h(t))return[];var n;v(e)||(e=function(t,e){return!!t});var r=0,i=t.length;if(y(t))for(n=[];i>r;r++)e.call(t[r],t[r],r)&&n.push(t[r]);else{n={};for(r in t)t.hasOwnProperty(r)&&e.call(t[r],t[r],r)&&(n[r]=t[r])}return n}function dt(t,e){if(h(t)){v(e)||(e=function(t,e){return!!t});var n,r=0,i=t.length;if(y(t)){for(;i>r;r++)if(n=e.call(t[r],t[r],r),h(n))return n}else for(r in t)if(t.hasOwnProperty(r)&&(n=e.call(t[r],t[r],r),h(n)))return n}}function pt(t,e){if(!h(t))return[];var n;v(e)||(e=function(t,e){return!!t});var r=0,i=t.length;if(y(t))for(n=[];i>r;r++)n.push(e.call(t[r],t[r],r));else{n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=e.call(t[r],t[r],r))}return n}function mt(t,e,n){if(v(e)){var r,i,o;if(y(t)){if(i=0,o=t.length,"undefined"!=typeof n)r=n;else{for(;o>i&&!(i in t);)i++;if(i>=o)return;r=t[i++]}for(;o>i;i++)i in t&&(r=e(r,t[i],i,t));return r}n=n||"",r=n;for(i in t)t.hasOwnProperty(i)&&(r=e(r,t[i],i,t));return r}}function ht(t){return"CSS1Compat"==t.compatMode?t.documentElement:t.body}function gt(t){var e,r,i=t.document,o=void 0,a=void 0,u="_mNTemp";try{e=ht(i),e||(i.write('<div id="'+u+'" style="display:none;"></div>'),e=ht(t.document),r=n.getElementById(u),r.parentNode.removeChild(r)),e&&(o=e.clientWidth||void 0,a=e.clientHeight||void 0)}catch(c){}return{width:o,height:a}}function vt(){return gt(e).width}function yt(){return gt(e).height}function Et(t,e){t=t||20,e=e||"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(var n="",r=t;r>0;--r)n+=e[Math.round(Math.random()*(e.length-1))];return n}function bt(){return!!(e.JSON&&e.JSON.parse&&"function"==typeof JSON.parse&&e.JSON.stringify&&"function"==typeof JSON.stringify)}function wt(){return(new Date).getTime()}function St(t,e){if("object"!=typeof t||"string"!=typeof e)return!1;if("string"==typeof t.className){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)}}function Ot(t,e){if(t.style[e])return t.style[e];if(t.currentStyle)return t.currentStyle[e];if(n.defaultView&&n.defaultView.getComputedStyle){e=e.replace(/([A-Z])/g,"-$1"),e=e.toLowerCase();var r=n.defaultView.getComputedStyle(t,"");return r&&r.getPropertyValue(e)}return null}function Ct(t,e){if(!h(t)&&h(e))return null;var n=new RegExp("[?&]"+e+"=([^&#]*)","i"),r=n.exec(t);return r?r[1]:null}function xt(n,r,i,o){var a=function(){},u=function(){var t=i.fallback||a;t()},c=function(){var t=i.onload||a;t(l.response||l.responseText)},s=function(){var t=i.onerror||a;t()};if(!e.XMLHttpRequest)return u(),null;var l=new XMLHttpRequest,f=!1;if(n=(n||"post").toUpperCase(),"withCredentials"in l)l.open(n,r,!0),l.withCredentials=h(i.withCredentials)?i.withCredentials:!0;else{if(!e.XDomainRequest)return u(),null;l=new XDomainRequest;try{l.open(n,r)}catch(d){return u(),null}}return l.onload=l.onreadystatechange=function(){f||4==l.readyState&&(200==l.status?t.execSafe(c):s(),f=!0)},l.onerror=s,l.onabort=s,l.send(o),!0}function Tt(t){var e;try{t&&t.data&&"string"==typeof t.data&&bt()&&(e=JSON.parse(t.data))}catch(n){}return e}function Nt(t,e,n){for(n=n||"0",t+="";t.length<e;)t+=n;return t}function kt(t){var e=n.cookie.indexOf(t+"="),r=e+t.length+1;if(!e&&t!==n.cookie.substring(0,t.length))return null;if(-1===e)return null;var i=n.cookie.indexOf(";",r);return-1===i&&(i=n.cookie.length),unescape(n.cookie.substring(r,i))}function It(t,e,r,i,o,a,u){var c=new Date;c.setTime(c.getTime()),r&&(r=1e3*r*60*60*24),u&&(r=1e3*u*60);var s=new Date(c.getTime()+r);n.cookie=t+"="+escape(e)+(r?";expires="+s.toGMTString():"")+(i?";path="+i:"")+(o?";domain="+o:"")+(a?";secure":"")}function Pt(){return v(e.navigator.sendBeacon)?!0:!1}function Bt(){var t=new XMLHttpRequest;return"withCredentials"in t?!0:"undefined"!=typeof XDomainRequest?!0:!1}function Dt(t){var e=Ut.toLowerCase();return f(e,t)}function Rt(t){var e=/\d+/g;return t.match(e)}function Mt(t){var e=Rt(t);return null===e||0===e.length?"":e[0]}function At(){var t=navigator.cookieEnabled;return h(t)?t:!0}function Ft(){var t=At();return t===!0?1:0}function Lt(t,e){var n=parseInt(t);return!isFinite(n)||isNaN(n)?e:n}function jt(){var t=e.pageXOffset||e.scrollX,n=e.pageYOffset||e.scrollY;return{X:t,Y:n}}function _t(t){var e=$("#"+t),n={},r=0,i=jt().X,o=jt().Y,a={};return h(e)&&v(e.getBoundingClientRect)&&(a=e.getBoundingClientRect()),n.top_r=Lt(a.top,r),n.bottom_r=Lt(a.bottom,r),n.left_r=Lt(a.left,r),n.right_r=Lt(a.right,r),n.top=Lt(a.top+o,r),n.bottom=Lt(a.bottom+o,r),n.left=Lt(a.left+i,r),n.right=Lt(a.right+i,r),n.offsetX=Lt(i,r),n.offsetY=Lt(o,r),n}var qt={},Ut=navigator.userAgent,Xt=-1!==e.location.href.indexOf("mnet_test="),Vt={addEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n),t=null},removeEvent:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.detachEvent&&t.detachEvent("on"+e,n),t=null}};C.prototype.getParam=function(t){return this.map[t]||""},C.prototype.getDecodedParam=function(t){var e=this.map[t];return e&&w(e)||""};var Wt=function(){function e(){function e(){var t;for(i=!0;o.length>0;)t=o.shift(),t.call(null);o=[]}function r(){t.execSafe(e)}var o=[];this.onDOMLoad=function(t){return o.push(t),1!==o.length||i?void(i&&r()):void J(r)},this.hasDOMLoaded=function(){return i},this.isDOMInteractive=function(){return i||/interactive/.test(n.readyState)}}var r=null,i=!1;return{getInstance:function(){return null===r&&(r=new e),r}}}();return Y.prototype.set=function(t,e){return this.frame[t]=e,this},Y.prototype.setStyle=function(t){var e;for(e in t)t.hasOwnProperty(e)&&(this.frame.style[e]=t[e]);return this},Y.prototype.overrideStyle=function(t){return this.frame.style.cssText=t,this},Y.prototype.done=function(){return this.frame},{getCookie:kt,setCookie:It,padBits:Nt,encodeParam:b,decodeParam:w,isEncoded:E,isSpecificUserAgent:Dt,generateRandomString:Et,getQueryStringParameterValue:Ct,getHostname:B,getPublisherUrl:P,isStringSet:g,inIframe:x(),isInIFrameCall:x,getRandom:N,getParamValueFromUrlAsArray:O,GetParamValueFromUrl:C,checkUrlDecodingEncoding:S,eventLib:Vt,isFunction:v,isArray:y,ua:e.navigator.userAgent.toLowerCase(),isDocumentWritable:Z(),buildUrlParameters:_,getQueryParamString:L,isOptionSet:W,checkItemExistsInArray:d,getIframeDoc:D,getProxy:k,CreateFrame:Y,callWhenAvailable:G,getChildElemByClass:Q,ip2long:R,checkItemExists:f,queryDOM:$,writeContentInIframe:F,loadScriptInSpecificIframe:it,safeReturn:H,DOMLoadObserver:Wt,isMobile:K,createNonBlockingFrame:A,loadScript:tt,insertScript:et,loadScriptInIframe:rt,triggerEvent:s,triggerEventWithBeforeAfter:l,addToEventQueue:i,insertOrReplaceIntoArray:p,decimalLimit:ot,consoleLog:ut,getRandomIp:M,buildUrlCollectionParams:V,buildCollectionUrlItem:X,inherits:ct,isTimestampValid:q,clock:new r,extend:st,hasWindowLoaded:nt,detachEvents:o,resetEvents:c,resetEventsByTag:a,resetGlobalEvents:u,isSet:h,trim:T,isEmptyObject:m,map:pt,reduce:mt,filter:ft,any:dt,each:lt,fromIE:U,getWindowDimension:gt,getClientWidth:vt,getClientHeight:yt,isJSONSupported:bt,getCurrentTime:wt,getObjectKeys:j,getMaxValue:at,nodeHasClass:St,getElementStyle:Ot,createCORSRequest:xt,getIEVersion:z,getPostmessageData:Tt,isSendBeacon:Pt,isCorsRequest:Bt,extractNumbers:Rt,extractFirstNumber:Mt,isCookieEnabled:At,getCookieFlag:Ft,getDimensionsByElementId:_t,merge:I,getInteger:Lt}});_mNDefine("logbeaconhelper",["_mNRP",window,"util",{}],function(e,n,t){"use strict";function o(e,n,o){o=o||{};var i=o.method||"get",c=o.sb||!1;t.isSet(e)&&(t.isArray(n)||(n=t.isSet(n)?n:"",n=[n]),t.each(n,function(n){"post"===i.toLowerCase()?c===!0?g(e,n):r(e,n):a(e,n)}))}function a(e,o){var a=e;t.isSet(o)&&(a=a+"?"+o);var r=i(a,8e3),c=n._mNRequire(["entitymanager"])[0];c&&t.isFunction(c.isAmpRequest)&&c.isAmpRequest()?s(r):l(r)}function r(e,n){var o={};o.onerror=o.fallback=t.getProxy(a,[e,n]),o.withCredentials=!1,t.createCORSRequest("post",e,o,n)}function i(e,n){return e.length>n?e.substr(0,n):e}function c(e){var n=e.contentWindow||e.contentDocument;n.logBeacons()}function s(e){(new Image).src=e}function u(){if(d.length>0){var e,n;for(e=0,n=d.length;n>e;e++)(new Image).src=d.shift()}}function l(e){var n="_advBidxc_beacons",o=t.queryDOM(n),a='<!DOCTYPE html><html><head><script type="text/javascript">function logBeacons(){if(window.parent&&window.parent._mNRequire){window.parent._mNRequire(["logbeaconhelper"],function(logbeaconhelper){var beaconsQueue=logbeaconhelper.getBeaconUrlList();if(beaconsQueue.length>0){var i,j;for(i=0,j=beaconsQueue.length;i<j;i++){(new Image()).src=beaconsQueue.shift();}}});}};<\/script></head><body></body></html>',r=0===d.length&&null===o;if(d.push(e),r){var i=t.createNonBlockingFrame(n,a);t.callWhenAvailable(n,100,t.getProxy(c,[i]),!0)}else if(null!==o){var s=o.contentWindow||o.contentDocument;try{t.DOMLoadObserver.getInstance().onDOMLoad(s.logBeacons||u)}catch(l){}}}function f(){return d}function g(e,n){h(e,n)||r(e,n)}function h(e,o){return t.isSendBeacon()?n.navigator.sendBeacon(e,o):!1}var d=[];return{logBeacons:o,getBeaconUrlList:f}});_mNDefine("uadetector",[],function(){"use strict";function e(){return g.detectDeviceType().getId()}function t(){return g.detectDeviceType().getName()}var d=function(e,t,d){this.id=e,this.name=t,this.regexp=d};d.prototype.getName=function(){return this.name},d.prototype.getId=function(){return this.id},d.prototype.getRegexp=function(){return this.regexp};var s="spreadtrum[ ;]|oppo( |)[a-z][\\d]|neozenrevo|trend\\smicro\\swtp|dorado\\swap-browser|huawei(\\shg520v|(/|_|)[a-z][\\d][\\d][\\d][\\d])|(alcatel[-_](ot-|ot|one_touch_|)[\\d][\\d][\\d])|deweb60|gionee|(gt-[a-z][\\d][\\d][\\d][\\d])|(huawei-u[\\d][\\d][\\d][\\d])|(htc_touch|htc_smart|htc[_-][a-z]+[\\d][\\d][\\d][\\d])|(karbonn\\swap-browser\\sk[\\d][\\d]|karbonn(/|[ _|]k[\\d][\\d]))|(kddi-[a-z][a-z][\\d][a-z0-9])|kkt50|lava.discover|lava.kkt|lava.spar|(lemon[ _]((s|t|gc)[\\d][\\d][\\d]|duo))|(samsung-([a-z]|sgh-[a-z])([\\d]|v)[\\d][\\d])|(lg[-/]([a-z]+|)[\\d][\\d][\\d](([a-z]|)/v|[ -]))|(micromax([ |]|)[a-z]+[\\d][\\d])|(mot-ex[\\d]|mot-v[\\d]|mot-razrv3|mot-l9/)|(nexian( |)nx(-|)[a-z][\\d])|pantechp|s8500|(sagetel[\\d]+([a-z]|)_)|softbank/|sonyd2105|(spice\\s(m([ -]|)([\\d]|i-)[\\d]|qt(-|))[\\d][\\d])|tianyu-ktouch|zen\\sp8|(zte[ -/][a-z](|[- ][a-z])[\\d][\\d][\\d])|videocon-A45",o="200pleasebot|alexabot|adsbot-google|appengine-google;|ask\\sjeeves/teoma|baiduspider|bingbot|caliperbot/|ccbot/[\\d]|commons-httpclient|crawler|facebookexternalhit|linkedinbot/|twitterbot/|google[.]com/[+]/web/snippet|feedfetcher-google|googlebot|ia_archiver|kishimobot|luasocket|magpierss|moodlebot|msnbot|nuhk|openbot|pingdom[.]com_bot_version|simplepie|site\\sscanner\\sbot|slurp|smtbot/[\\d]|spbot/[\\d]|spinn3r|startmebot/|statdom[.]ru/bot|uptimerobot|web\\sspider|spider/|webspider|wget/|yammybot|yodaobot|yandexmetrika/|yandexbot|yacybot|google-http-java-client/|musobot/|yabrowser/",i=new d(0,"UNKNOWN_DEVICE",new RegExp("")),a=new d(1,"SMART_TV",new RegExp("smart-tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv?|espial/[\\d]+|hbbtv/|tv\\store|sonydtv|pov_tv-hdmi|nettv/|kylo/|viera;|vap430")),n=new d(2,"TABLET",new RegExp("hudl ht7s3 build|kindle( |/)|ipad|tablet|playbook|smart\\stab|gt-n8000|gt-n8013|gt-p[\\d][\\d][\\d][\\d]|me371mg|nexus\\s(7|8|9|[\\d][\\d])\\sbuild/|sm-t[\\d][\\d][\\d]|\\ssgp[\\d][\\d][\\d] build/|touchpad build|venue7\\s[\\d][\\d][\\d][\\d]\\s|gt-n5100 build|lenovoa3300[-]hv|kfjwi\\sbuild/|shw-m\\d\\d\\d[a-z]\\sbuild/|smarttab10-|sony\\stablet\\s(s|p)\\s|huawei\\smediapad\\sbuild|thinkpad\\stablet\\s|vodafone\\ssmarttab|(kfapwa|kfapwi|kfarwi|kfaswi|kfjwa|kfjwi|kfot|kfsawa|kfsawi|kfsowi|kfthwa|kfthwi|kftt)\\sbuild|ideatab\\s|mediapad\\s[\\d]+\\slite\\sbuild|mid\\d\\d\\d\\d\\sbuild/")),r=new d(3,"MOBILE",new RegExp("fennec/|mobile|phone|iphone|ipod|blackberry|playbook|bb10|android|palm|windows\\s+ce|s60;\\ssymbos|series\\s60|series40|samsung-gt-|sonyericsson|nokia|samsung\\sgt|nokia|maui\\sruntime|j2me/midp|brew|docomo/[\\d]+.[\\d]+|mi\\s3w\\smiui|maui\\swap\\sbrowser|(\\d|)\\d\\d\\d[*]\\d\\d\\d(\\d|)(|;)[)]|"+s)),p=new d(4,"DESKTOP",new RegExp("windows|win([\\d][\\d]|nt)(\\s|;|[)])|windows\\snt\\s\\d[.]\\d|cros;|cros\\s|linux|os\\s+[x9]|solaris|bsd|x11|mac_powerpc|macintosh|"+o)),b=new d(5,"GAME_CONSOLE",new RegExp("playstation\\s[\\d]|playstation\\sportable|nintendo")),c=function(e){this.deviceType=i,e&&(this.userAgent=e.toLowerCase(),this.deviceType=this.detectDeviceType(),this.deviceType.getId()===n.getId()&&this.userAgent.indexOf("tablet pc")>-1&&(this.deviceType=p),this.userAgent.indexOf("android")>-1&&this.userAgent.indexOf("mobile")>-1&&this.deviceType.getId()!==n.getId()&&(this.deviceType=r))};c.deviceListPriority=[a,n,r,p,b,i],c.prototype.detectDeviceType=function(){for(var e=c.deviceListPriority,t=0;t<e.length;t++)if(e[t].getRegexp().test(this.userAgent))return e[t];return i},c.prototype.getDeviceType=function(){return this.deviceType};var g=new c(navigator.userAgent);return{getClientDeviceId:e,getClientDeviceName:t}});_mNDefine("bidconstants",function(){"use strict";function E(){}return E.Properties={BIDDER_ID:"bidderId",BIDDER_NAME:"bidderName",ADCODE:"adcode",SIZE:"size",CPM:"cpm",BIDDER_PRICE:"bdp",CUSTOMER_BID_PRICE:"cbdp",DFP_BID:"dfpBd",CLOSING_PRICE:"clsPrc",PLACEMENT_ID:"placementId",IS_GUARANTEED_PLACEMENT:"g",STATUS:"status",CREATIVE_ID:"creative_id",THIRD_PARTY_TARGETS:"third_party_targets",THIRD_PARTY_TARGETS_GLOBAL:"third_party_targets_global",DOMINANT_BID_FLAG:"dominant_bid_flag",NUMBER_MULTI_SIZES:"number_multi_sizes",CREATIVE_URL:"iurl",PROVIDER_REQUEST_ID:"prvReqId",PAGE_ID:"pageId",DFP_SIZE:"dfpSize",DFP_DIV_ID:"dfpDivId",DFP_DIV_POSITION:"dfpPos",AUCTION_ID:"acid",ORIGINAL_CPM:"ogCPM",ZERO_ADJUSTMENT:"adj0",FIRST_ADJUSTMENT:"adj1",SECOND_ADJUSTMENT:"adj2",NETWORK_FETCH_TIME:"nft",TIMESTAMP:"ts",TEST_DATA:"td",BID_DATA:"bd",CUSTOM_RENDERING_PARAM:"crp",ENCRYPTED_BID_FLAG:"ebf",NOBID_REASON:"nbr",LOGGING_PIXELS:"loggingPixels",TIMELINE_PIXEL:"timelinePixel",LOAD_TIME:"loadTime",AUCTION_TYPE:"actType",PROVIDER_RESPONSE_TYPE:"prspt",BID_REUSED_FLAG:"brf",REFERRING_VISIT_ID:"visitID",STATUS_NAME:"sname",EXCHANGE_ID:"eid",PROVIDER_NAME:"providerName",FINAL_BID:"fb",EXTERNAL_UID:"uid",CACHING_FLAG:"cachfl",RENDER_STATUS:"render",RENDER_TRY_STATUS:"tryRender",RENDER_START_STATUS:"startRender",BID_LOG_STATUS:"bigLog",MNET_CRID:"mnet_crid",EXTERNAL_BIDDER_TYPE:"extBidType",EXTERNAL_TOKEN:"extToken",RESPONSE_TIME:"rtime",DATA_CENTER:"dtc",RTBS_VERSION_2:"rtbsv2",BIDDER_INFO_BIDDER_ID:"binfobid",TO_CONSIDER:"toconsider",CATEGORY:"cat",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",PROVIDER_ACCOUNT_ID:"paId",PROVIDER_API_ID:"pApiId",EXTERNAL_PLACEMENT_CODE:"epc",DEAL_ID:"di",DEAL_TYPE:"dt",GOOGLE_BID:"gbid",BASE_BIDDER_ID:"bbdrid",COOKIE_FLAG:"ckfl",COOKIE_SOURCE:"cs",IS_COOKIE_ENABLED:"ice",PROVIDER_COOKIE_ID:"pcId",WEB_SERVER_IP:"wsip",IS_WINNING_BID:"iwb",AUCTION_SERIAL_NO:"acsn",AB_SERVER:"abs",ENCRYPTED_BID:"ecbid",PRICE_VALUE:"pv",CASALE_ID:"csid",PUBMATIC_BID_STATUS:"bidstatus",PUBMATIC_AD_SLOT_NAME:"bidid",DISPLAY_TIME:"displayTime",PROVIDER_CRID:"pcrid"},E.AuctionType={CACHE:"cache",HEADER_BID:"headerBid"},E.Status={PENDING:0,SUCCESS:1,NOBID:2,TIMEOUT:3,CANCELLED_NOT_IN_CACHE:4,RESPONSE_AFTER_AUCTION:5,NOBID_AFTER_AUCTION:6,ERROR:7},E});_mNDefine("logconstants",function(){"use strict";function E(){}return E.PROVIDER={ID:"pvid",ACCOUNT_ID:"prvAccId",API_ID:"prvApiId",COOKIE_ID:"pcId",DISC_SHARE:"adj0",PRV_SHARE:"adj1",REV_SHARE:"adj2",SUB_BIDDER_ID:"sbdrid",EXCHANGE_ID:"eid",BASE_BIDDER_ID:"bbdrid"},E.REQUEST={ID:"prvReqId",REFERRING_VISIT_ID:"refVisId",CRID:"crid",IS_GUARANTEED_PLACEMENT:"g",TYPE:"prspt",SIZE:"size",CUSTOMER_ID:"cid",PAGE_ID:"pageId",SECTION:"sec",CHANNEL:"chnl",TO_REFRESH:"tref",REFRESH_COUNT:"rfc",CACHE_PRIMER:"cpr"},E.RESPONSE={CLIENT_TIME:"ltime",SERVER_TIME:"rtime",DATA_CENTER:"dtc",RTBS_VERSION_2:"rtbsv2",WEB_SERVER_IP:"wsip",AB_SERVER:"abs"},E.AUCTION={ID:"acid",TOTAL_TIME:"actltime",SERIAL_NO:"acsn",BID_RESPONSE_TYPE:"act",DISPLAY_TIME:"dspltime"},E.BID={STATUS:"s",STATUS_NAME:"snm",ORIGINAL_BID_PRICE:"ogbdp",NOBID_REASON:"nbr",BIDDER_INFO_BIDDER_ID:"binfobid",TO_CONSIDER:"toconsider",CATEGORY:"cat",BID_PRICE:"bdp",CUSTOMER_BID_PRICE:"cbdp",CLOSING_PRICE:"clsprc",BID_DATA:"bdata",DFP_BID:"dfpBd",RAW_ADTAG:"rawtag",BID_REUSED_FLAG:"brf",BUYER_ID:"bId",CAMPAIGN_ID:"cmpid",ADVERTISER_ID:"advId",DEAL_ID:"di",DEAL_TYPE:"dt",ADVERTISER_NAME:"advNm",ADVERTISER_URL:"advUrl",IS_WINNING_BID:"iwb",COOKIE_FLAG:"ckfl",CPM:"dfpBd",NUMBER_MULTI_SIZES:"nms",DOMINANT_BID_FLAG:"dbf",COOKIE_SOURCE:"cs",IS_COOKIE_ENABLED:"ice",EXTERNAL_PLACEMENT_CODE:"epc",CREATIVE_URL:"iurl",PROVIDER_CRID:"pcrid"},E.DFP={DIV_ID:"dfpDiv",POS:"dfpPos",LINEITEM_ID:"lid",SLOT_ELEMENT_ID:"sid",SIZE:"sz",SIZES:"szs",TARGETING_PARAMS:"tp",SLOT_PATH:"dsid",LABEL_ID:"lbid",SLOT_RENDER_TIME:"srt",SLOT_PREV_RENDER_TIME:"sprt",SLOT_RENDER_TYPE:"srtype",SLOT_RENDER_INIT_TIME:"srit",IS_LAZY_LOADED:"lzl",LOADED_LATE:"late",DETECT_NO:"dno",RENDER_MODE:"rmode",CLUSTER:"clstr",SLOTS_TOGETHER:"sltsTog"},E.MISC={TEST_DATA:"td",LOG_PERCENT:"lper",ONLOAD:"onld"},E.DIMENSIONS={TOP:"top",BOTTOM:"btm",LEFT:"lft",RIGHT:"rght"},E.VIEW={VIEW_HEIGHT:"vh",VIEW_WIDTH:"vw",VIEW_TIME:"vtim",TOTAL_TIME:"ttim",SLOT_VIEW_TIME:"svtim",SLOT_TOTAL_TIME:"sttim"},E});_mNDefine("configconstants",function(){"use strict";function t(){}return t.defaultExTargetParams={PAGE_ID:"mnetPageID",NO_BID:"mnetDNB",NO_PARTICIPATE:"mnetDNP",WINNER:"mnetDW",CC:"mnetCC",UGD:"mnetUGD"},t.mnetAdxTargetParams={CREATIVE_ID:"crid",CPM:"mnet_segment",VARIANT:"mnet_variant"},t.PROVIDER_IDS={MNET_ADX:"3",YBNCA_AUTO:"4",YBNCA:"9",YBNCA_ADX_FAILOVER:"26",MEDIAMATH:"56",FACEBOOKS2S:"67",MEDIA_NET:"100"},t});_mNDefine("entitymanager",["_mNRP","util","config","bid"],function(t,e,n,r){"use strict";function i(){var t=e.getRandom(1e8,999999999),r=n.viewid||Math.round((new Date).getTime()/1e3),i=r.concat(t);return i}function o(){var t;if(!Be.VISITOR_ID)if(t=n._mNVsid,e.isStringSet(t)&&-1===t.indexOf("VID")&&t.length>10){var r=-1===t.indexOf("V")?3:6;Be.VISITOR_ID=t.substr(0,t.length-r)}else Be.VISITOR_ID="";return Be.VISITOR_ID}function u(){return n._mNVisitIdData}function s(){if(!Be.COUNTRY_CODE){var t=n._ip2c||"";Be.COUNTRY_CODE=t}return Be.COUNTRY_CODE}function c(){var t,r;return Be.VISIT_ID||(r=n._mNVisitIdData,e.isStringSet(r)||(r=e.getRandomIp()),t=(new Date).getTime(),Be.VISIT_ID=("000000"+t+("00"+e.ip2long(r)).slice(-11)+e.getRandom(1e3,9999)).slice(-32)),Be.VISIT_ID}function a(){return Be.VIEW_ID||(Be.VIEW_ID=i()),Be.VIEW_ID}function f(t,n){return Be.AUCTIONID=Be.AUCTIONID||{},Be.AUCTIONID[t]=Be.AUCTIONID[t]||{},Be.AUCTIONID[t][n]||(Be.AUCTIONID[t][n]=e.padBits(e.ip2long(e.getRandomIp()),10)+""+e.getRandom(1e6,9999999)+(new Date).getTime().toString()),Be.AUCTIONID[t][n]}function d(t,n,r){var i=t+"-"+n+"-"+r+"-"+Ue;return Be.PROVIDER_REQUESTID=Be.PROVIDER_REQUESTID||{},Be.PROVIDER_REQUESTID[i]||(Be.PROVIDER_REQUESTID[i]=e.padBits(e.ip2long(e.getRandomIp()),10)+""+e.getRandom(1e6,9999999)+(new Date).getTime().toString()),Be.PROVIDER_REQUESTID[i]}function g(){return!1}function l(){return!1}function m(t){e.isSet(t)||(t=!1),ye=t}function I(){return ye===!0}function S(){return n._ip2z}function E(){var t=S();return"w"===t?n.defaultBidderSetting.bidStreamUrlWest:n.defaultBidderSetting.bidStreamUrlEast}function D(t,r){return e.isSet(n.hbaInfo)&&e.isSet(n.hbaInfo[t])?n.hbaInfo[t]:r}function R(){return D("actTime",Ve)}function _(){return 1===D("bidReq","")}function T(){return D("mNCallback","")}function p(){return parseFloat(D("version",1))}function h(){return n.log||{}}function b(t){return n.log&&n.log[t]||0}function v(){return n.log&&n.log.swEcpm}function C(t){return n.logUrls&&n.logUrls[t]||""}function B(t){return $(t)?"post":"get"}function P(){return n.logUrls&&n.logUrls.tpUrl}function U(t){return n.logUrls&&n.logUrls[B(t)]||""}function O(t){return e.any(n.bidderExTargetParams,function(e){return t===e?!0:void 0})}function A(t){return null}function F(t,e){Fe[t]=Fe[t]||"",-1===Fe[t].indexOf(e)&&(Fe[t]+=e+"|")}function H(t){return Fe[t]||""}function y(t){return e.isSet(t)&&e.isSet(n.features[t])&&1===n.features[t]}function V(){return y("fcsync")}function w(){return y("errTrack")}function N(){return y("oxrtlog")}function L(){return y("enInIframe")||Zt()}function x(){return y("tdp")}function k(){return y("divCheck")}function q(){return 3===yt()||y("sandbox")}function M(){return e.isSet(n.hbInfo.hdhome)&&"1"===n.hbInfo.hdhome}function G(){return y("prfDisHome")}function W(){return y("prvaccid")}function Y(){return y("targetDn")}function Q(){return y("scc")}function K(){return y("frlen")}function j(){return y("stream")}function z(){return y("inf")}function Z(){return y("fbTest")}function J(){return y("disDefSlots")}function X(){return y("cbol")}function $(t){var r=n&&n.log&&n.log.post;return e.isSet(r)&&e.isSet(t)?1==r[t]:!1}function tt(t,r){if(!e.isSet(t))return!0;var i,o,u=3,s={s:1e3,m:6e4},c=u*s.m;return e.isStringSet(r)&&n.timeout.bidTTL[r]&&(u=n.timeout.bidTTL[r]||u,"string"==typeof u?(i=u.toLowerCase().match(/(\d+)([sm]?)/),null!==i&&(o=i[2],c=e.isSet(o)?parseInt(i[1],10)*s[o]:parseInt(i[1],10)*s.m)):c=u*s.m),e.getCurrentTime()-t>c}function et(){return e.isSet(n.misc.dcto)&&1===n.misc.dcto}function nt(t){return e.checkItemExists(n.cbInfo.disCk,t+",")}function rt(){return Be.CID||(Be.CID=n.info.cid),Be.CID}function it(){if(e.isSet(it.result))return it.result;var t=n.hbInfo&&n.hbInfo.bcat,r=[];return e.isArray(t)&&e.each(t,function(t){var n=t.urlr,i=t.cat;e.isArray(i)||(i=[i]),new RegExp(n).test(bt())&&(r=r.concat(i))}),it.result=r,r}function ot(){return n.info.apsid}function ut(){return Be.HOSTNAME||(Be.HOSTNAME=e.getHostname(bt())),Be.HOSTNAME}function st(){return ct()||0}function ct(){return n.timeout&&n.timeout.gfd}function at(){return n.timeout&&n.timeout.ngfd}function ft(){return n.timeout&&n.timeout.gptrd}function dt(){return n.timeout&&n.timeout.rbd}function gt(){return n.timeout&&n.timeout.grd}function lt(){return n.timeout&&n.timeout.li}function mt(){return n.timeout&&n.timeout.prfd}function It(){return n.timeout&&n.timeout.rprfd}function St(){return n.timeout&&n.timeout.custhbrt}function Et(){return n.timeout&&n.timeout.custcbrt}function Dt(t){return t===r.AuctionType.CACHE?n.timeout&&n.timeout.cbrt:t===r.AuctionType.HEADER_BID?n.timeout&&n.timeout.hbrt:void 0}function Rt(){return Be.REFERRER||(Be.REFERRER=pt(),e.isEncoded(Be.REFERRER)===!0&&(Be.REFERRER=e.decodeParam(Be.REFERRER)),bt()===Be.REFERRER&&(Be.REFERRER="")),Be.REFERRER}function _t(){Ue++}function Tt(){return Ue}function pt(){var t,n=e.isStringSet(document.referrer)?document.referrer:"",r=e.inIframe;if(!r)return n;try{return t=window.parent.document.referrer,e.isStringSet(t)?t:""}catch(i){}}function ht(){var t=bt();return t.split("?")[0]}function bt(){if(!Be.PUBLISHER){var t,n=wt();e.isSet(n)&&e.isFunction(n.getPublisherUrl)&&(t=n.getPublisherUrl()),Be.PUBLISHER=Ht(t||Ut())}return Be.PUBLISHER}function vt(){var t="";return Zt()&&(t=window.context&&window.context.location&&window.context.location.href),e.isStringSet(t)||(t=bt()),t}function Ct(){var t=vt();return-1!==t.indexOf("force_hbtest=1")||-1!==t.indexOf("force_inimagetest=1")}function Bt(){return-1!==vt().indexOf("force_hbtest=all")}function Pt(t){return e.getQueryStringParameterValue(vt(),"force_hbtest")===t||Bt()}function Ut(){var t="";if(window.advBidxc_requrl)t=window.advBidxc_requrl;else{t=window.location.href;try{window.top.location.href&&(t=window.top.location.href)}catch(e){}}return t}function Ot(){return e.isSet(n.hbInfo.fd)}function At(){return Be.PUBLISHER_FD||(Be.PUBLISHER_FD=bt(),Ot()&&(Be.PUBLISHER_FD=Kt()+"://"+n.hbInfo.fd)),Be.PUBLISHER_FD}function Ft(){var t=At().split("/");return t[0]+"//"+t[2]}function Ht(t){if(!e.isStringSet(t))return"";var n,r=/fb_|utm_|bcmt|action_object_map|action_type_map|action_ref_map|action_action_map/;t=e.decodeParam(e.checkUrlDecodingEncoding(t)),n=t.indexOf("?");var i=t.indexOf("#");if(i>0&&(t=t.substring(0,i)),n>0&&r.test(t)){var o=t.substring(n+1).split("&"),u=-1,s=o.length;for(t=t.substring(0,n+1);++u<s;)""!==o[u]&&"action_object_map="!==o[u].substring(0,18)&&"action_type_map="!==o[u].substring(0,16)&&"action_ref_map="!==o[u].substring(0,15)&&"action_action_map="!==o[u].substring(0,18)&&"fb_"!==o[u].substring(0,3)&&"utm_"!==o[u].substring(0,4)&&"code="!==o[u].substring(0,5)&&"bcmt"!==o[u].substring(0,4)&&(t+="&"+o[u]);"?"===t.substr(-1,1)&&(t=t.substr(0,t.length-1))}if(-1!==t.indexOf("mnet_rand=r")){var c=(new Date).getTime();t=t.replace("mnet_rand=r","mnet_rand="+c)}return t}function yt(){if(!Be.DEVICE_TYPE){var t=xt("uadetector");Be.DEVICE_TYPE=t.getClientDeviceId()}return Be.DEVICE_TYPE}function Vt(){var t=bt().split("/");return t[0]+"//"+t[2]}function wt(){return xt("customutil")}function Nt(){return n.miscConfig||{}}function Lt(t){return xt("prvc"+t)}function xt(t){if(void 0!==He[t])return He[t];try{He[t]=window._mNRequire([t])[0]}catch(e){He[t]=null}return He[t]}function kt(t){var n=wt();return e.isSet(n)&&e.isFunction(n.getUrlForPrefetch)&&e.isSet(t)?n.getUrlForPrefetch(t):Vt()}function qt(t){var n=wt();return e.isSet(n)&&e.isFunction(n.getUrlForHeaderBidding)&&e.isSet(t)?n.getUrlForHeaderBidding(t):Vt()}function Mt(){var t;return Be.SESSION_DEPTH||(t=e.getCookie(Oe),Be.SESSION_DEPTH=e.isStringSet(t)&&parseInt(t.split("|")[0])||-1),Be.SESSION_DEPTH}function Gt(){var t,n,r,i;n=e.getCookie(Oe),r=e.isStringSet(n)&&parseInt(n.split("|")[1]),e.isSet(r)&&e.isTimestampValid(r,Ae)?t=n.split("|")[0]:(t="0",r=e.getCurrentTime()),i=parseInt(t)+1,i=i+"|"+r,e.setCookie(Oe,i,null,"/")}function Wt(){return e.getHostname(bt())}function Yt(t){return e.isStringSet(t)&&(Be.AB_TESTS=t.toString()),Be.AB_TESTS||""}function Qt(){return"https"===Kt()?!0:!1}function Kt(){var t="https:"==document.location.protocol;return y("isHttps")&&(t=!0),t?"https":"http"}function jt(){var t="https:"==document.location.protocol;return t?"https=1":""}function zt(t){return e.isSet(t)&&(Be.AD_BLOCK_DETECTED=t),Be.AD_BLOCK_DETECTED||0}function Zt(){return 1===n.hbInfo.isAmp}function Jt(){return Zt()?1:0}function Xt(){return e.isStringSet(n.hbInfo.version)?n.hbInfo.version:"1"}function $t(t,n,r){if(n=n||"0",Be[t]=Be[t]||{},!Be[t].hasOwnProperty(n)){var i=window.advBidxc[t]||"";e.isSet(r)&&e.isSet(r.ignoreList)&&e.checkItemExistsInArray(r.ignoreList,i)&&(i=""),Be[t][n]=i}return Be[t][n]}function te(t){var e={};return e.ignoreList=["<section name>"],$t("section",t,e)}function ee(t){return $t("channel",t)}function ne(t,n){var r=/%%([A-Za-z_]+)%%/g;return t.replace(r,function(t,r){var i,o;return i=Pe[r],i?(o=i(),n&&(o=e.encodeParam(o)),o):""})}function re(t,n){return e.isStringSet(t)?t=e.isArray(t)?e.map(t,function(t){return re(t,n)}):ne(t,n):void 0}function ie(t,n,r){return Be.SUB_BIDDER_ID=Be.SUB_BIDDER_ID||{},Be.SUB_BIDDER_ID[t]=Be.SUB_BIDDER_ID[t]||{},e.isSet(r)&&(Be.SUB_BIDDER_ID[t][n]=r),Be.SUB_BIDDER_ID[t][n]||""}function oe(t,n){var r=n&&n.placements;Be={},e.isArray(r)&&r.length>0&&e.each(r,function(t){var e=xt("placementmanager").getCodeForId(t);Fe[e]=""})}function ue(t){if(!e.isSet(t))return 0;try{return xt("placementmanager").getRefreshCount(t)}catch(n){return 0}}function se(){return!0}function ce(){return e.isSet(n.misc)&&1===n.misc.lac}function ae(){return e.isSet(n.misc)&&1===n.misc.grc}function fe(){var t=n.misc&&n.misc.rvc;return e.isSet(t)||(t=1),parseInt(t)}function de(){return n.info&&n.info.cid||""}function ge(){return e.isSet(n.misc)&&1===n.misc.adlogSt}function le(){try{if(e.isSet(n.hbInfo)&&e.isArray(n.hbInfo.hbUrlBlockRegex))return e.any(n.hbInfo.hbUrlBlockRegex,function(t){return new RegExp(t).test(bt())?!0:void 0})||!1}catch(r){t.pushError("Error while parsing url regex, to disable url for header bidding: "+r.message)}return!1}function me(){return e.isSet(n.hmInfo)&&e.isSet(n.hmInfo.enable)&&1==n.hmInfo.enable?!0:!1}function Ie(t){var i=n.info.targetHV;return e.isSet(i)&&t&&parseInt(t.get(r.Properties.DFP_BID),10)>=i}function Se(){var t=wt();return t&&e.isFunction(t.isHome)?t.isHome():0===window.location.pathname.replace(/^\//,"").length}function Ee(t,e){we[t]=e}function De(t){return we[t]}function Re(t){we[t]&&delete we[t]}function _e(){var t=n.info&&n.info.dBidders,e=parseFloat(t);return isNaN(e)?0:e}function Te(){if(!e.isSet(Te.condition)){Te.condition=!1;var t=_e(),n=10,r=e.getRandom(1,100*n);r<=Math.floor(t*n)&&(Te.condition=!0)}return Te.condition}function pe(){var t=n.info&&n.info.rtbsv2,e=parseInt(t,10);return isNaN(e)?0:e}function he(){return y("rtbsv2m")}function be(){if(!e.isSet(be.condition)&&(be.condition=0,!j())){var t=pe(),n=e.getRandom(1,100);t>=n&&(be.condition=he()?2:1)}return be.condition}function ve(t){return n.cok[t]}function Ce(t){return n.info[t]}var Be={},Pe={},Ue=0,Oe="mnet_session_depth",Ae=15,Fe={},He={},ye=!1,Ve=2e3,we={};return Pe={PUBLISHER:bt,PUBLISHER_HOST:Wt,REFERRER:Rt,DOMAIN:Vt,CID:rt,HOSTNAME:ut,VIEW_ID:a,VISIT_ID:c,VISITOR_ID:o,DEVICE_TYPE:yt,SESSION_DEPTH:Mt,COUNTRY_CODE:s,AB_TESTS:Yt,PROTOCOL:Kt,GPT_TAG_DELAY:ft,GPT_FUNCTION_DELAY:st,HTTPS_FLAG:jt,AD_BLOCK_DETECTED:zt,IS_AMP_REQUEST:Jt,VERSION:Xt,SEND_BEACON:e.isSendBeacon,CORS_REQUEST:e.isCorsRequest,DISABLE_BIDDERS:Te,VIEWPORT_WIDTH:e.getClientWidth,VIEWPORT_HEIGHT:e.getClientHeight},e.addToEventQueue("all:reset","command",oe),{resolveMacros:re,getProtocol:Kt,getPublisherUrl:bt,getPublisherUrlConventionalWay:Ut,getPublisherUrlFD:At,getReferrerUrl:Rt,getGuaranteedFunctionDelay:ct,getNonGuaranteedFunctionDelay:at,getPrefetchDelayTime:mt,getRefreshPrefetchDelayTime:It,getServerBidRequestTimeout:Dt,getCustomServerBidRequestTimeoutForHB:St,getCustomServerBidRequestTimeoutForCache:Et,getGptRequestDelay:ft,getGoogleRefreshDelay:gt,getRequestBatchDelay:dt,getLogIntervalAfterOnload:lt,logADonSetTargeting:ge,getPublisherUrlPath:ht,getDomainForPrefetch:Vt,getDomainForPrefetchFD:Ft,getHeaderBiddingUrl:qt,getPrefetchUrl:kt,getLoggingParams:h,getTimelinePixel:P,getlper:b,getVisitorId:o,getHostname:ut,getSlotLogEcpm:v,getProviderRequestID:d,getAuctionTimeForMnetBidderRequest:R,getExternalProvidersConfig:Nt,getAuctionId:f,getRevenueCode:fe,isMnetBidderRequest:_,getAppnexusSeatId:ot,getMnetBidderCallback:T,getMnetAdapterVersion:p,getUserIP:u,isDefaultTarget:O,getDeviceType:yt,getCountryCode:s,getAutoRefreshTimeout:A,isCookieSyncDisabled:nt,incrSessionDepth:Gt,getSessionDepth:Mt,isCacheDisabledForCustomer:g,isTPCacheOn:X,getHBStatus:l,enabledABTests:Yt,refresh:oe,getCid:rt,isGptOverrideEnabled:se,needsGptRequest:ae,isHdHome:M,disablePrefetchForHome:G,doPrefetchOnLoad:et,isTimeStampExpired:tt,oxRecordByTemplate:N,needsHttpsSupport:Qt,needsAdCodeLogging:ce,isErrorTrackEnabled:w,isProviderAccountIdEnabled:W,isForceCookieSyncEnabled:V,isSandboxEnabled:q,isStreamApiEnabled:j,disableRequestsForDefinedSlots:J,getDomainFromPublisherURL:Vt,setGetSubBidderId:ie,getBidStreamUrl:E,getTestDataForPlacement:H,setTestDataForPlacement:F,getViewId:a,require:xt,setGetIsAdBlockDetected:zt,getCustomerId:de,isTestMode:Ct,isTestModeForProvider:Pt,getCustomUtilityWrapper:wt,getProviderCustom:Lt,isDisableUrlRegex:le,isAmpRequest:Zt,isHeatmapEnabled:me,setForceCacheMode:m,isForceCacheEnabled:I,getVisitId:c,isGlobalTest:Bt,needsDomainTargeting:Y,hasForcedRequestLimit:K,isInfiniteScrollEnabled:z,isFbV5TestEnabled:Z,isSplitOnCountryCodeEnabled:Q,isFdEnabled:Ot,shouldTargetMnetHV:Ie,incrementBidRequestCount:_t,getBidRequestCount:Tt,getChannel:ee,getSection:te,isBidxcEnabledInsideIframe:L,isHome:Se,trackDisplay:x,getLoggingHost:U,isDivCheckEnabled:k,getRequestType:B,getLogUrls:C,setLastWinningBid:Ee,getLastWinningBid:De,removeLastWinningBid:Re,isRefreshRequest:ue,disableAllBidders:Te,isRtbsv2:be,getBlockAdvertiserCategories:it,getMNetCookie:ve,getConfigInfo:Ce}});_mNDefine("config",[window,document,window.configSettings,"util","configconstants"],function(e,t,i,n,d){"use strict";function r(){m.bidderExTargetParams={CREATIVE_ID:"mnetCrid",BIDDER_ID:"mnetbidID",BIDDER_TYPE:"mnetbidderID",DFP_BID:"mnetbidPrice",PLACEMENT_ID:"mnet_placement",CUSTOMER_ID:"mnetCID",AUCTION_TYPE:"mnetAct",SECOND_PROVIDER_ID:"mnetScpvid",TEST_DATA:"mnetTd",DFP_SIZE:"mnetSize"},m.defaultExTargetParams=d.defaultExTargetParams,m.miscExTargetParams={HIGH_VALUE_BID:"mnet_hv",DOMAIN_NAME:"mnet_dn"},m.mnetAdxTargetParams=d.mnetAdxTargetParams,m.PROVIDER_IDS=d.PROVIDER_IDS,m.features=m.features||{},m.info=m.info||{},m.misc=m.misc||{},void 0===m.misc.lac&&(m.misc.lac=0),m.hbInfo=m.hbInfo||{},m.cbInfo=m.cbInfo||{},m.timeout=m.timeout||{},m.cbInfo.disCk=m.cbInfo.disCk||"",m.timeout.bidTTL=n.extend({OPENX:5,APPNEXUS:4,CASALE:2},m.timeout.bidTTL||{}),"1"===m.hbInfo.hdhome&&(m.misc.grc=0,m.timeout.prfd=0),m.headerBidder={timeout:1e3,disable:1===m.hbInfo.disable,frlen:1===m.hbInfo.frlen,status:{NOOP:0,INIT:1,BIDDING:2,DONE:3,FAILED:4}}}function a(e){n.each(m.provider,function(t,i){t.hasOwnProperty(e)&&delete t[e]})}function I(){var e=["KP","KR","PH","TW","VN","IN","AU","SG","JP","MY","PK","NZ"];n.each(e,function(e){return e===m._ip2c?void a("11"):void 0})}var m=i||{};return m.defaultBidderSetting=m.defaultBidderSetting||{},m.defaultBidderSetting.rtbsbidder=m.defaultBidderSetting.rtbsbidder||{},m.defaultBidderSetting.rtbsprivatebidder=m.defaultBidderSetting.rtbsprivatebidder||{},r(),I(),m});_mNDefine("bid",["util","bidconstants"],function(t,e){"use strict";function i(){var e={};this.get=function(t){return e[t]},this.set=function(t,i){return e[t]=i,this},this.getAny=function(t){return i.Properties.hasOwnProperty(t)?e[i.Properties[t]]:""},this.status=function(t){return void 0!==t?(e[i.Properties.STATUS]=t,e[i.Properties.STATUS_NAME]=i.StatusNames[t],this):e[i.Properties.STATUS]},this.id=function(t){return void 0!==t?(e[i.Properties.BIDDER_ID]=t,this):e[i.Properties.BIDDER_ID].toString()},this.name=function(t){return void 0!==t?(e[i.Properties.BIDDER_NAME]=t,this):e[i.Properties.BIDDER_NAME]},this.provider=function(t){return void 0!==t?(e[i.Properties.PROVIDER_NAME]=t,this):e[i.Properties.PROVIDER_NAME]},this.serialize=function(){var i=t.extend({},e);return i},this.deserialize=function(i){return e=t.extend({},i),this}}return i.Properties=e.Properties,i.AuctionType=e.AuctionType,i.Status=e.Status,i.StatusNames=["pending","success","nobid","timeout","bid_not_in_cache","response_after_auction","nobid_after_auction","error"],i});_mNDefine("target",function(){"use strict";function e(){var e={};this.set=function(t,E){return e[t]=E,this},this.get=function(t){return e[t]},this.serialize=function(){return e}}return e.Properties={BID_VALUE:"bid",EXTERNAL_PLACEMENT_CODE:"epc",SIZE:"size",LOAD_TIME:"ltime",DEAL_TYPE:"dealType",DEAL_ID:"dealId",NAME:"name",MNET_PLACEMENT_ID:"mnet_placement",MNET_CREATIVE_ID:"mnetCrid",MNET_CUSTOMER_ID:"mnetCID",DFP_SIZE:"mnetSize",TEST:"test"},e});_mNDefine("bidder",["_mNRP","util","mnetHbConsole","config","bid","entitymanager","bidmanager","logmanager","storagemanager","providerconst","logbeaconhelper","placementmanager"],function(e,t,r,i,o,n,s,P,c,a,g,E){"use strict";function I(){function e(e,t){return e.set(o.Properties.PAGE_ID,t.pageId).set(o.Properties.PROVIDER_RESPONSE_TYPE,o.AuctionType.CACHE)}function r(e,t){0!==R.length&&(t.cache||P.hbRequests.addArray(D),D=[])}function i(e,t){0!==l.length&&(t.cache||P.hbRequests.addArray(T),T=[])}function s(e){return e.status()===o.Status.SUCCESS&&t.isStringSet(e.get(o.Properties.CPM))&&"0"!==e.get(o.Properties.CPM)}function g(){return n.getPrefetchUrl(d[a.ADAPTER])}function I(){0!==h.length&&(c.setInStorage(g(),h),P.cacheRequests.addArray(h),h=[])}var d,u,_={},C={},A={},l=[],h=[],R=[],T=[],D=[],f=this;this.config=function(e){return"object"==typeof e?(d=e,this):d.get(e)},this.priceMacro=function(){return f.config(a.PRICE_MACRO)},this.getValidBidsStatusPerPlacement=function(e){u=e||[];var r,i={};t.each(e,function(e){i[e]=!1});var P=n.getHeaderBiddingUrl(d.get(a.ADAPTER));return t.clock.tick("prefetchTime"),r=c.getBids(P,d.get(a.ID),e),t.clock.tock("prefetchTime"),_.prefetchTime=t.clock.time("prefetchTime"),r&&(t.extend(C,r),t.each(r,function(e){i[e.get(o.Properties.PLACEMENT_ID)]=s(e)})),t.extend(A,i),i},this.stats=function(e){return _[e]},this.getNoBidFromCache=function(e){var r=E.getGuaranteedFlag(e.crid),i=t.getCookieFlag();return(new o).status(o.Status.CANCELLED_NOT_IN_CACHE).set(o.Properties.PLACEMENT_ID,e.code).set(o.Properties.IS_GUARANTEED_PLACEMENT,r).set(o.Properties.BIDDER_NAME,d.get(a.ADAPTER)).set(o.Properties.BIDDER_ID,d.get(a.ID)).set(o.Properties.CREATIVE_ID,e.crid).set(o.Properties.CPM,0).set(o.Properties.DFP_BID,0).set(o.Properties.CUSTOMER_BID_PRICE,0).set(o.Properties.SIZE,e.sizes[0].size).set(o.Properties.NOBID_REASON,p).set(o.Properties.COOKIE_FLAG,"0").set(o.Properties.COOKIE_SOURCE,"").set(o.Properties.IS_COOKIE_ENABLED,i).set(o.Properties.TO_CONSIDER,"0").set(o.Properties.PAGE_ID,e.pageId).set(o.Properties.ORIGINAL_CPM,0).set(o.Properties.TIMESTAMP,t.getCurrentTime()).set(o.Properties.AUCTION_TYPE,o.AuctionType.CACHE)},this.useBidsForProvider=function(r,i){t.isArray(i)&&i.length>0&&t.each(i,function(i,o,n){var s=i.code;if(A[s]&&t.isSet(C)&&t.isSet(C[s]))r(e(C[s],i),s,o===n-1,!0);else{var P=f.getNoBidFromCache(i);r(e(P,i),s,o===n-1,!0)}})},this.addForwardedResponse=function(e,r,o){0!==T.length||r||t.addToEventQueue("endOfResponse",f.config(a.ID),i),T.push(e),l.push(e),r&&i("forced",o)},this.addLateResponse=function(e,i,o){0!==D.length||i||t.addToEventQueue("endOfResponse",f.config(a.ID),r),D.push(e),R.push(e),i&&r("forced",o)},this.addToCache=function(e,r){0!==h.length||r||t.addToEventQueue("pushToCache",f.config(a.ID),I),h.push(e),r&&I()}}var p=15;return I.prototype.handlePostAuctionClose=function(e,i){if(i&&i.winner&&i.winner.id()===this.config(a.ID)){var n=this.getTimeLinePixel(i.winner);i.winner.set(o.Properties.TIMELINE_PIXEL,n.replace(I.ORIGINAL_PRICE_MACRO,i.winner.get(o.Properties.ORIGINAL_CPM))),r.log(i.winner,"winningBid"),t.addToEventQueue("afterRender",i.winner.get(o.Properties.PLACEMENT_ID),t.getProxy(this.handlePostRendering,[],this))}t.consoleLog("Auction Closed for",e.src)},I.prototype.makeLoggingCalls=function(e){var r=e.get(o.Properties.LOGGING_PIXELS)||[];if(t.each(r,function(e){e=n.resolveMacros(e,!0),g.logBeacons(e,null,{method:"get"})}),e.get(o.Properties.TIMELINE_PIXEL)){var i=n.resolveMacros(e.get(o.Properties.TIMELINE_PIXEL),!0);g.logBeacons(n.getLoggingHost(),i,{method:"get"})}e.set(o.Properties.BID_LOG_STATUS,!0)},I.prototype.handlePostRendering=function(e,t){r.log(t,"finalWinner");var i=t.get(o.Properties.RENDER_STATUS);return!t||t.id()!==this.config(a.ID)||i!==!0&&void 0!==i||t.get(o.Properties.BID_LOG_STATUS)===!0?void 0:this.makeLoggingCalls(t)},I.prototype.getTimeLinePixel=function(e){for(var r=s.getAllBidsByAdUnit(e.get(o.Properties.PLACEMENT_ID),e.get(o.Properties.PAGE_ID)),i="",P=0,c=r.length;c>P;P++)i+=["&b",r[P].get(o.Properties.BIDDER_ID),"b","=",r[P].get(o.Properties.ORIGINAL_CPM)].join("");return(n.getTimelinePixel()+t.buildUrlParameters({url:"%%PUBLISHER%%",domain:"%%PUBLISHER_HOST%%",apid:2,size:e.get(o.Properties.SIZE),at:e.get(o.Properties.AUCTION_TYPE),auction_id:e.get(o.Properties.AUCTION_ID),ip:n.getUserIP(),crid:e.get(o.Properties.CREATIVE_ID),cid:"%%CID%%",dt:I.DEVICE_TYPE_MACRO,bc:I.ORIGINAL_PRICE_MACRO,cc:n.getCountryCode(),ext_user_id:e.get(o.Properties.EXTERNAL_UID),bname:"<cm_win_macro>"})+i).replace("<cm_win_macro>",t.buildUrlParameters({cmw:e.get(o.Properties.BIDDER_ID)}))},I.ORIGINAL_PRICE_MACRO="%%BID_PRICE%%",I.ADJUSTED_PRICE_MACRO="%%ADJUST_PRICE%%",I.DEVICE_TYPE_MACRO="%%DEVICE_TYPE%%",I});_mNDefine("bidpricemanager",["util","config","bid","entitymanager"],function(e,i,r,t){"use strict";function s(e){return!isFinite(e)||isNaN(e)?0:e}function p(i,r){return e.isSet(r)&&(i-=i*r/100),i}function n(i,r,t){e.isSet(r[i])&&(t[i]=r[i])}function d(e,i){for(var r in e)e.hasOwnProperty(r)&&i.hasOwnProperty(r)&&n(r,e,i)}function c(e,i){i.pvsh=e.adUnitParam.pvsh||0,i.dpsh=e.adUnitParam.dpsh||0,i.rvsh=100-(e.adUnitParam.pbsh||100),i.rvshPreDFP=1===t.getRevenueCode()?i.rvsh||0:0}function a(e,i){i.ogbdp=s(e.ogbdp),i.bdp=p(p(i.ogbdp,i.pvsh),i.dpsh),i.clsprc=p(i.bdp,i.rvshPreDFP),i.cpm=i.clsprc,i.dfpbd=i.clsprc,i.cbdp=p(i.bdp,i.rvsh)}function o(i,t){i.set(r.Properties.CPM,e.decimalLimit(t.cpm)).set(r.Properties.BIDDER_PRICE,e.decimalLimit(t.bdp)).set(r.Properties.DFP_BID,e.decimalLimit(t.dfpbd)).set(r.Properties.CUSTOMER_BID_PRICE,e.decimalLimit(t.cbdp)).set(r.Properties.CLOSING_PRICE,e.decimalLimit(t.clsprc)).set(r.Properties.ORIGINAL_CPM,e.decimalLimit(t.ogbdp)).set(r.Properties.ZERO_ADJUSTMENT,t.pvsh).set(r.Properties.FIRST_ADJUSTMENT,t.dpsh).set(r.Properties.SECOND_ADJUSTMENT,t.rvsh)}function P(e,i){var r={};return i=i||{},i.adUnitParam=i.adUnitParam||{},c(i,r),a(i,r),d(i,r),o(e,r),e}return{setPriceProperties:P}});_mNDefine("thirdpartymanager",["util","config","bid","entitymanager","placementmanager"],function(e,r,t,n,i){"use strict";function a(){return P=P||n.require("logmanager")}function o(r,t){return m[r]&&m[r][t]&&e.isArray(m[r][t])&&m[r][t].length>0?m[r][t]:null}function s(r,t,n){return null===o(t,r)&&e.addToEventQueue("afterRenderExternal",r,a().auctionWinner.dispatchExternalWinner),m[t]=m[t]||{},m[t][r]=m[t][r]||[],m[t][r].push(n),{hasAnyWinningBid:u(n)}}function u(r){var n=r.get(t.Properties.THIRD_PARTY_TARGETS),i=r.get(t.Properties.THIRD_PARTY_TARGETS_GLOBAL);return e.isEmptyObject(n)&&e.isEmptyObject(i)?!1:(r.set(t.Properties.IS_WINNING_BID,"1"),!0)}function g(e,r,n){var i,a,s=o(r,e);if(s)for(i=0;i<s.length;i++)if(a=s[i],a.get(t.Properties.BIDDER_NAME)===n)return a;return void 0}function d(r,t){l=l||n.require("dfpmanager"),e.isSet(l)&&l.clearCustomTargeting(r,t)}function p(r){var i,s,u,g,p,f;if(!m.hasOwnProperty(r))return{};for(i in m[r])if(m[r].hasOwnProperty(i)&&(u=o(r,i),null!==u))for(s=0;s<u.length;s++)if(g=u[s],p=g.get(t.Properties.THIRD_PARTY_TARGETS_GLOBAL),e.isSet(p)){n.isTimeStampExpired(g.get(t.Properties.TIMESTAMP),g.get(t.Properties.BIDDER_ID))&&(a().expiredBids.addNew(g),d(r,e.getObjectKeys(p)));for(f in p)p.hasOwnProperty(f)&&(I[f]=p[f])}return I}function f(e,i){var s,u,g,d,p,f=o(i,e),T=[];if(f)for(s=0;s<f.length;s++)if(u=f[s],g=u.get(t.Properties.THIRD_PARTY_TARGETS),n.isTimeStampExpired(u.get(t.Properties.TIMESTAMP),u.get(t.Properties.BIDDER_ID)))a().expiredBids.addNew(u);else{if(d={},g){for(p in g)g.hasOwnProperty(p)&&(d[p]=g[p]||"");n.shouldTargetMnetHV(u)&&(d[r.miscExTargetParams.HIGH_VALUE_BID]=1)}T.push(d)}return T}function T(r,n,i){var a=o(n,r);e.each(a,function(e){e.set(t.Properties.DISPLAY_TIME,i)})}function c(r,t){var n=t&&t.pageId,a=t&&t.placements;I={},e.isSet(n)&&e.isArray(a)&&a.length>0&&void 0!==m[n]&&e.each(a,function(e){var r=i.getCodeForId(e);m[n][r]=[]})}var l,P,m={},I={};return e.addToEventQueue("all:reset","command",c),{getPlacementMap:o,addBidResponse:s,getTargetingParamsForCode:f,getBidForPlacementIdAndBidder:g,refresh:c,getGlobalTargetingParams:p,setDisplayTime:T}});_mNDefine("logmanager",["util","mnetHbConsole","config","bid","entitymanager","logbeaconhelper","logconstants","placementmanager"],function(e,t,E,i,s,r,I,D){"use strict";function n(t){return e.isSet(t)&&1!==e.getRandom(1,parseInt(t,10))?!0:!1}function T(e){var t=s.getLoggingParams();return!t.hasOwnProperty(e)||0===t[e]||n(t[e])?!0:!1}function _(e){return(e[i.Properties.TEST_DATA]||"")+"|"+s.getTestDataForPlacement(e[i.Properties.PLACEMENT_ID])}function o(){function E(t){var E=s.resolveMacros(e.buildUrlParameters(ne.start),!0),i=e.buildUrlParameters(ne.log,null,{encode:!0}),r=s.resolveMacros(e.buildUrlParameters(ne.end),!0);return D.path+E+i+t+r}function i(){D.reset()}var I="",D=this,n=0;D.LOG_TYPE=D.LOG_TYPE||"",D.host=s.getLoggingHost(D.LOG_TYPE)||"",D.path=s.getLogUrls(D.LOG_TYPE)||"",D.method=s.getRequestType(D.LOG_TYPE)||"",ne.log.lmthd=D.method,this.model=function(){},this.fire=function(e,i){if(0!==I.length){var s=E(I);t.log(s,"logUrl");var T={method:D.method};i&&i.sb===!0&&(T.sb=!0),r.logBeacons(D.host,s,T),I="",n=0}},this.addNew=function(e,t,E){},this.addArray=function(t){return e.each(t,this.addNew)},this.append=function(t){var E=e.buildCollectionUrlItem(t.getAll(),{encode:!0}),i=E.length;n+i>_e?(D.fire(),I=E,n=i):(I+=E,n+=i)},this.reset=function(){D.fire()},e.addToEventQueue("all:reset","command",i)}function R(t){return e.isSet(t)?e.decodeParam(t).replace(/"/g,"").replace(/^https?:\/\//,"").replace(/^ww[w]?\d*\./,"").toLowerCase():""}function P(e,t){e.set(I.PROVIDER.ID,t[i.Properties.BIDDER_ID]||"").set(I.PROVIDER.ACCOUNT_ID,t[i.Properties.PROVIDER_ACCOUNT_ID]||"").set(I.PROVIDER.API_ID,t[i.Properties.PROVIDER_API_ID]||"").set(I.PROVIDER.EXCHANGE_ID,t[i.Properties.EXCHANGE_ID]||"").set(I.PROVIDER.COOKIE_ID,t[i.Properties.PROVIDER_COOKIE_ID]||"")}function S(e,t){e.set(I.PROVIDER.DISC_SHARE,t[i.Properties.ZERO_ADJUSTMENT]||0).set(I.PROVIDER.PRV_SHARE,t[i.Properties.FIRST_ADJUSTMENT]||0).set(I.PROVIDER.REV_SHARE,t[i.Properties.SECOND_ADJUSTMENT]||0)}function a(e,t){e.set(I.REQUEST.ID,t[i.Properties.PROVIDER_REQUEST_ID]||"").set(I.REQUEST.CRID,t[i.Properties.CREATIVE_ID]||"").set(I.REQUEST.IS_GUARANTEED_PLACEMENT,t[i.Properties.IS_GUARANTEED_PLACEMENT]).set(I.REQUEST.SIZE,t[i.Properties.SIZE]||"").set(I.REQUEST.PAGE_ID,t[i.Properties.PAGE_ID]||"0").set(I.REQUEST.SECTION,s.getSection(t[i.Properties.PAGE_ID]||"0")).set(I.REQUEST.CHANNEL,s.getChannel(t[i.Properties.PAGE_ID]||"0")).set(I.REQUEST.TYPE,t[i.Properties.AUCTION_TYPE]||"").set(I.REQUEST.REFRESH_COUNT,s.isRefreshRequest(t[i.Properties.CREATIVE_ID])).set(I.REQUEST.TO_REFRESH,0===s.isRefreshRequest(t[i.Properties.CREATIVE_ID])?0:1)}function d(e,t){e.set(I.BID.BID_PRICE,t[i.Properties.BIDDER_PRICE]||t[i.Properties.CPM]||"0").set(I.BID.CUSTOMER_BID_PRICE,t[i.Properties.CUSTOMER_BID_PRICE]||"0").set(I.BID.IS_COOKIE_ENABLED,t[i.Properties.IS_COOKIE_ENABLED]).set(I.BID.COOKIE_FLAG,t[i.Properties.COOKIE_FLAG]||"").set(I.BID.COOKIE_SOURCE,t[i.Properties.COOKIE_SOURCE]||"").set(I.BID.CATEGORY,t[i.Properties.CATEGORY]||"").set(I.BID.ADVERTISER_ID,t[i.Properties.ADVERTISER_ID]||"").set(I.BID.ADVERTISER_NAME,t[i.Properties.ADVERTISER_NAME]||"").set(I.BID.ADVERTISER_URL,R(t[i.Properties.ADVERTISER_URL]||"")).set(I.BID.DFP_BID,t[i.Properties.DFP_BID]||"0").set(I.BID.NUMBER_MULTI_SIZES,t[i.Properties.NUMBER_MULTI_SIZES]||"1").set(I.BID.DEAL_ID,X(t[i.Properties.DEAL_TYPE])?t[i.Properties.DEAL_ID]:"").set(I.BID.DEAL_TYPE,t[i.Properties.DEAL_TYPE]||"").set(I.BID.EXTERNAL_PLACEMENT_CODE,t[i.Properties.EXTERNAL_PLACEMENT_CODE]||"").set(I.BID.ORIGINAL_BID_PRICE,t[i.Properties.ORIGINAL_CPM]||"0").set(I.BID.STATUS,t[i.Properties.STATUS]||"").set(I.BID.STATUS_NAME,t[i.Properties.STATUS_NAME]||"").set(I.BID.DOMINANT_BID_FLAG,t[i.Properties.DOMINANT_BID_FLAG]||"1").set(I.BID.BID_DATA,t[i.Properties.BID_DATA]||"").set(I.BID.CAMPAIGN_ID,t[i.Properties.CAMPAIGN_ID]||"").set(I.BID.BUYER_ID,t[i.Properties.BUYER_ID]||"").set(I.BID.PROVIDER_CRID,t[i.Properties.PROVIDER_CRID]||"").set(I.BID.CREATIVE_URL,t[i.Properties.CREATIVE_URL]||"")}function O(t,E){var i=e.getDimensionsByElementId(E);t.set(I.DIMENSIONS.TOP,i.top).set(I.DIMENSIONS.BOTTOM,i.bottom).set(I.DIMENSIONS.LEFT,i.left).set(I.DIMENSIONS.RIGHT,i.right)}function A(e,t){e.set(I.AUCTION.ID,t[i.Properties.AUCTION_ID]||"").set(I.AUCTION.BID_RESPONSE_TYPE,t[i.Properties.PROVIDER_RESPONSE_TYPE]||"").set(I.AUCTION.DISPLAY_TIME,t[i.Properties.DISPLAY_TIME])}function l(t,E){t.set(I.RESPONSE.SERVER_TIME,E[i.Properties.RESPONSE_TIME]||"").set(I.RESPONSE.DATA_CENTER,E[i.Properties.DATA_CENTER]||"").set(I.RESPONSE.RTBS_VERSION_2,e.isSet(E[i.Properties.RTBS_VERSION_2])?E[i.Properties.RTBS_VERSION_2]:"").set(I.RESPONSE.WEB_SERVER_IP,E[i.Properties.WEB_SERVER_IP]||"").set(I.RESPONSE.CLIENT_TIME,E[i.Properties.LOAD_TIME]||"").set(I.RESPONSE.AB_SERVER,e.isSet(E[i.Properties.AB_SERVER])?E[i.Properties.AB_SERVER]:"")}function p(){var e={};this.set=function(t,E){return e[t]=E,this},this.getAll=function(){return e}}function c(){p.call(this)}function N(){function t(e){e.get(i.Properties.AUCTION_TYPE)===i.AuctionType.CACHE?oe.record(1):e.get(i.Properties.AUCTION_TYPE)===i.AuctionType.HEADER_BID&&Re.record(1)}function E(){n=!0,D.fire()}function r(){e.addToEventQueue("apiCallsSent","global",E),e.addToEventQueue("after:prefetch","global",E)}this.LOG_TYPE="prf",o.call(this);var D=this,n=!0,T=s.getlper(D.LOG_TYPE),R=!0;this.model=c,this.addNew=function(e,E,s){if(t(e),!R){n===!0&&(n=!1,r());var o=new D.model;e=e.serialize(),o.set(I.PROVIDER.ID,e[i.Properties.BIDDER_ID]||"").set(I.REQUEST.ID,e[i.Properties.PROVIDER_REQUEST_ID]||"").set(I.REQUEST.CRID,e[i.Properties.CREATIVE_ID]||"").set(I.MISC.LOG_PERCENT,T).set(I.AUCTION.BID_RESPONSE_TYPE,e[i.Properties.AUCTION_TYPE]||"").set(I.REQUEST.SIZE,e[i.Properties.SIZE]||"").set(I.MISC.TEST_DATA,_(e)).set(I.BID.NUMBER_MULTI_SIZES,e[i.Properties.NUMBER_MULTI_SIZES]||"1").set(I.BID.DOMINANT_BID_FLAG,e[i.Properties.DOMINANT_BID_FLAG]||"1"),D.append(o)}}}function u(){p.call(this)}function C(){function t(){R-=1}function E(){return 0===R}this.LOG_TYPE="pr",o.call(this);var r=this,D=T(r.LOG_TYPE),n=s.getlper(r.LOG_TYPE),R=0;this.model=u,this.addNew=function(T,o,R){if(!D){var S=new r.model;T=T.serialize();var O=T[i.Properties.ADCODE]||"",A=T[i.Properties.NOBID_REASON];O=e.isStringSet(O)?O.substring(0,99):"",e.isSet(A)||(A=""),O=O.replace(/(\n|\r|\t)/gm,""),a(S,T),P(S,T),d(S,T),l(S,T),S.set(I.BID.NOBID_REASON,A).set(I.BID.BIDDER_INFO_BIDDER_ID,T[i.Properties.BIDDER_INFO_BIDDER_ID]||"").set(I.BID.TO_CONSIDER,T[i.Properties.TO_CONSIDER]||"1").set(I.AUCTION.BID_RESPONSE_TYPE,T[i.Properties.AUCTION_TYPE]||"").set(I.MISC.TEST_DATA,_(T)).set(I.MISC.LOG_PERCENT,n),s.needsAdCodeLogging()&&S.set(I.BID.RAW_ADTAG,O),r.append(S),t(),E()&&r.fire()}},this.record=function(e){R+=e},e.addToEventQueue("log:trigger","command",r.fire)}function B(){p.call(this)}function L(){function t(t,E,D){E=E.serialize();var n=E[i.Properties.ADCODE]||"",T=E[i.Properties.PLACEMENT_ID],o="",R="",p=E[i.Properties.NOBID_REASON];return 3==E[i.Properties.BIDDER_ID]&&(o=s.setGetSubBidderId(E[i.Properties.PAGE_ID],T),R=E[i.Properties.BASE_BIDDER_ID]),n=e.isStringSet(n)?n.substring(0,99):"",e.isSet(p)||(p=""),n=e.isStringSet(n)?n.substring(0,99):"",n=n.replace(/(\n|\r|\t)/gm,""),P(t,E),S(t,E),a(t,E),d(t,E),A(t,E),l(t,E),O(t,E[i.Properties.DFP_DIV_ID]||""),t.set(I.REQUEST.REFERRING_VISIT_ID,E[i.Properties.REFERRING_VISIT_ID]||"").set(I.BID.BID_REUSED_FLAG,E[i.Properties.BID_REUSED_FLAG]||0).set(I.BID.IS_WINNING_BID,E[i.Properties.IS_WINNING_BID]||"0").set(I.BID.NOBID_REASON,p).set(I.BID.TO_CONSIDER,E[i.Properties.TO_CONSIDER]||"1").set(I.AUCTION.TOTAL_TIME,D||0).set(I.AUCTION.SERIAL_NO,E[i.Properties.AUCTION_SERIAL_NO]||"1").set(I.DFP.DIV_ID,E[i.Properties.DFP_DIV_ID]||"").set(I.DFP.POS,E[i.Properties.DFP_DIV_POSITION]||"").set(I.PROVIDER.SUB_BIDDER_ID,o).set(I.PROVIDER.BASE_BIDDER_ID,R).set(I.MISC.TEST_DATA,_(E)).set(I.MISC.LOG_PERCENT,r),s.needsAdCodeLogging()&&t.set(I.BID.RAW_ADTAG,n),t}this.LOG_TYPE="ap",o.call(this);var E=this,r=s.getlper(E.LOG_TYPE),D=T(E.LOG_TYPE);this.model=B,this.addNew=function(i){var s=i.auctionTime,r=i.bids;e.isArray(r)&&0!==r.length&&!D&&e.each(r,function(e){if(14!==parseInt(e.id())){var i=new E.model,r=t(i,e,s);E.append(r)}})},s.logADonSetTargeting()&&!s.isMnetBidderRequest()?e.addToEventQueue("adlog:trigger","command",E.fire):e.addToEventQueue("log:trigger","command",E.fire)}function g(){p.call(this)}function h(){this.LOG_TYPE="exp",o.call(this);var t=this,E=s.getlper(t.LOG_TYPE),r=T(t.LOG_TYPE);this.model=g;var D=this.model.props;this.addNew=function(s,n,T){if(!r){var _=new t.model,o=0;s=s.serialize(),e.isSet(s[i.Properties.TIMESTAMP])&&(o=e.getCurrentTime()-s[i.Properties.TIMESTAMP]),_.set(I.PROVIDER.ID,s[i.Properties.BIDDER_ID]||"").set(I.REQUEST.ID,s[i.Properties.PROVIDER_REQUEST_ID]||"").set(I.REQUEST.REFERRING_VISIT_ID,s[i.Properties.REFERRING_VISIT_ID]||"").set(I.REQUEST.CRID,s[i.Properties.CREATIVE_ID]||"").set(I.REQUEST.TYPE,s[i.Properties.AUCTION_TYPE]||"").set(I.BID.BID_PRICE,s[i.Properties.BIDDER_PRICE]||s[i.Properties.CPM]||"0").set(I.BID.CUSTOMER_BID_PRICE,s[i.Properties.CUSTOMER_BID_PRICE]||"0").set(I.BID.ORIGINAL_BID_PRICE,s[i.Properties.ORIGINAL_CPM]||"0").set(I.BID.STATUS,s[i.Properties.STATUS]||"").set(I.BID.STATUS_NAME,s[i.Properties.STATUS_NAME]||"").set(I.AUCTION.ID,s[i.Properties.AUCTION_ID]||"").set(I.MISC.LOG_PERCENT,E).set(I.RESPONSE.CLIENT_TIME,s[i.Properties.LOAD_TIME]).set(I.BID.BID_REUSED_FLAG,s[i.Properties.BID_REUSED_FLAG]||0).set(D.TIME_DIFFERENCE,o),t.append(_)}},e.addToEventQueue("log:trigger","command",t.fire)}function f(){p.call(this)}function U(e){return-1!==e.indexOf("P")}function M(){function e(e){return U(e)||!T(t.LOG_TYPE)}this.LOG_TYPE="cslog",o.call(this);var t=this,E=s.getlper(t.LOG_TYPE);this.model=f;var i=this.model.props;this.addNew=function(s,r,D){if(e(s)){var n=new this.model;n.set(I.RESPONSE.CLIENT_TIME,r).set(i.INDEX_SLOTS_LIST,s).set(I.MISC.LOG_PERCENT,E).set(I.REQUEST.ID,D),t.append(n),t.fire()}}}function m(){p.call(this)}function G(){function t(e){if(!e||!e[E.bidderExTargetParams.DFP_BID])return!1;if(n)return!0;var t=parseFloat(e[E.bidderExTargetParams.DFP_BID][0]);return r&&isFinite(t)?t>=r:!1}this.LOG_TYPE="sw",o.call(this);var i=this,r=s.getSlotLogEcpm()||null,D=s.getlper(i.LOG_TYPE),n=!T(i.LOG_TYPE);this.model=m;var _=new i.model;this.addDFPSlotData=function(e){t(e)&&(_.set(I.BID.ADVERTISER_ID,e.advertiserId).set(I.BID.CAMPAIGN_ID,e.campaignId).set(I.REQUEST.CRID,e.creativeId).set(I.DFP.LINEITEM_ID,e.lineItemId).set(I.DFP.SLOT_ELEMENT_ID,e.slotElementId).set(I.DFP.SIZE,e.dfpDivSize).set(I.MISC.LOG_PERCENT,D).set(I.BID.CPM,e[E.bidderExTargetParams.DFP_BID][0]).set(I.DFP.LABEL_ID,e.labelIds.join("|")).set(I.PROVIDER.ID,e[E.bidderExTargetParams.BIDDER_ID]||"").set(I.BID.ORIGINAL_BID_PRICE,e.originalBidPrice).set(I.RESPONSE.CLIENT_TIME,e.ltime).set(I.RESPONSE.SERVER_TIME,e.rtime).set(I.AUCTION.TOTAL_TIME,e.auctionTime),this.append(_))},e.addToEventQueue("log:trigger","command",i.fire)}function V(){return e.isSet(window.googletag)&&e.isFunction(window.googletag.pubads)}function v(){var t=s.getCustomUtilityWrapper();return e.isSet(t)&&e.isFunction(t.isGoogleDisplayCalled)?t.isGoogleDisplayCalled()===!0:V()}function F(){p.call(this)}function Y(){this.LOG_TYPE="idl",o.call(this);var t=this,E=s.getlper(t.LOG_TYPE);this.model=F;var i=new t.model,r=this.model.props;this.gatherSlotData=function(){if(!T(t.LOG_TYPE)){var s=v();if(s!==!1){var D=window.googletag.pubads().getSlots(),n=[],_=[];e.each(D,function(e){n.push(e.getSlotElementId()),_.push(JSON.stringify(e.getTargetingMap()))}),i.set(r.SLOT_LIST,n.join("|")).set(r.KV_LIST,_.join("|")).set(r.PUBADS_DEFINED,s?1:0).set(I.MISC.LOG_PERCENT,E),this.append(i),this.fire()}}}}function w(){p.call(this)}function Q(){this.LOG_TYPE="gptr",o.call(this);var e=this;this.model=w;var t=this.model.props;this.addNew=function(E,i,r,D){if(!T(e.LOG_TYPE)){var n=new e.model;n.set(I.REQUEST.CUSTOMER_ID,E).set(I.RESPONSE.CLIENT_TIME,i).set(I.MISC.LOG_PERCENT,s.getlper(e.LOG_TYPE)).set(t.WAIT_TIME,r).set(t.TOTAL_WAIT_TIME,D),e.append(n),e.fire()}}}function b(){p.call(this)}function H(){this.LOG_TYPE="gpts",o.call(this);var t=this,E=s.getlper(t.LOG_TYPE),i=!T(t.LOG_TYPE),r={},D=0;this.model=b,this.addSlotLogData=function(e){if(i){var s=new t.model;O(s,e.elementId),s.set(I.DFP.SLOT_ELEMENT_ID,e.elementId||"").set(I.DFP.SIZES,e.sizes||"").set(I.DFP.TARGETING_PARAMS,e.customCriteria||"").set(I.MISC.LOG_PERCENT,E).set(I.DFP.SLOT_RENDER_TIME,e.slotRenderTime||"").set(I.DFP.SLOT_PATH,e.dfpSlotId||"").set(I.DFP.IS_LAZY_LOADED,D).set(I.DFP.LOADED_LATE,e.loadedLate?1:0),t.append(s)}},this.addNewLazyloadedSlot=function(){D=1,t.addNew()},this.addNew=function(){if(i){var E;try{E=window._mNRequire(["dfpmanager"])[0]}catch(s){return}var I=E.getAllDFPSlotsInfo();I=e.filter(I,function(e){return r.hasOwnProperty(e.elementId)?!1:(r[e.elementId]=!0,!0)}),e.each(I,t.addSlotLogData)}},e.addToEventQueue("log:trigger","command",t.fire)}function W(){var t={};this.set=function(e,E){return t[e]=E,this},this.get=function(E){return e.isSet(t[E])?t[E]:""}}function Z(){W.call(this);var e=[],t=0;this.rincr=function(){t++},this.rcount=function(){return t},this.enqueueDetails=function(t){e.push(t)},this.dequeueDetails=function(){return e.shift()||new W}}function y(t){return e.isSet(ae[t])?ae[t]:(ae[t]=new Z,ae[t].set(I.DFP.IS_LAZY_LOADED,q()?"1":"0"),ae[t])}function q(){return Oe}function z(){Oe=!0}function K(){p.call(this)}function x(){function t(t,E){var i=t&&t.getSlotElementId(),s=y(i),r=new W;r.set(I.DFP.SLOT_RENDER_TYPE,E.isRefresh),1===E.isRefresh&&s.rincr(),r.set(I.DFP.SLOTS_TOGETHER,E.slotElementIds.join("|")),r.set(I.REQUEST.REFRESH_COUNT,s.rcount()),r.set(I.REQUEST.TO_REFRESH,s.rcount()>=1?"1":"0"),r.set(I.MISC.ONLOAD,q()?"1":"0"),r.set(I.DFP.SLOT_RENDER_INIT_TIME,e.clock.getTime("init")),s.enqueueDetails(r)}this.LOG_TYPE="agpts",o.call(this);var E=this,i=s.getlper(E.LOG_TYPE),r=!T(E.LOG_TYPE);this.model=K,this.addSlotLogData=function(t,s,D){if(r){var n=new E.model,T=s.elementId||"",_=y(T),o=_.dequeueDetails();if(!(o.get(I.REQUEST.REFRESH_COUNT)>2)){var R="0";s.isSingleRequestMode===!0?R="1":s.refreshMode===!0&&(R="2");var P=e.getInteger(o.get(I.DFP.SLOT_RENDER_INIT_TIME),void 0)-e.getInteger(_.get(I.DFP.SLOT_PREV_RENDER_TIME),void 0);O(n,s.elementId),n.set(I.DFP.SLOT_ELEMENT_ID,s.elementId||"").set(I.DFP.SIZES,s.sizes||"").set(I.DFP.TARGETING_PARAMS,s.customCriteria||"").set(I.DFP.RENDER_MODE,R).set(I.DFP.SLOT_PREV_RENDER_TIME,e.getInteger(P,"")).set(I.DFP.SLOT_RENDER_TIME,e.clock.getTime("init")).set(I.DFP.SLOT_PATH,s.dfpSlotId||"").set(I.DFP.IS_LAZY_LOADED,_.get(I.DFP.IS_LAZY_LOADED)).set(I.MISC.ONLOAD,o.get(I.MISC.ONLOAD)).set(I.MISC.LOG_PERCENT,i).set(I.REQUEST.REFRESH_COUNT,o.get(I.REQUEST.REFRESH_COUNT)).set(I.REQUEST.TO_REFRESH,o.get(I.REQUEST.TO_REFRESH)).set(I.DFP.SLOT_RENDER_TYPE,o.get(I.DFP.SLOT_RENDER_TYPE)).set(I.DFP.SLOT_RENDER_INIT_TIME,o.get(I.DFP.SLOT_RENDER_INIT_TIME)).set(I.DFP.DETECT_NO,de++).set(I.DFP.SLOTS_TOGETHER,o.get(I.DFP.SLOTS_TOGETHER)).set(I.DFP.LOADED_LATE,s.loadedLate?1:0).set(I.DFP.CLUSTER,D.join("|")),_.set(I.DFP.SLOT_PREV_RENDER_TIME,e.clock.getTime("init")),E.append(n)}}},this.addNew=function(E,i){e.isArray(E)||(E=[E]),E=e.filter(E,function(t){return e.isSet(t)&&e.isFunction(t.getSlotElementId)});var s=[];e.each(E,function(e){var t=e&&e.getSlotElementId();s.push(t)}),i=i||{},i.slotElementIds=s,e.each(E,function(e){t(e,i)})},e.addToEventQueue("log:trigger","command",E.fire)}function k(){p.call(this)}function J(){function t(t,E){return e.each(E,function(e,E){t.set(E,e)}),t}function E(e,t){return"99"===t[i.Properties.BIDDER_ID]&&e.set(I.BID.ORIGINAL_BID_PRICE,"0").set(I.BID.BID_PRICE,"0").set(I.BID.CUSTOMER_BID_PRICE,"0").set(I.BID.DFP_BID,"0"),e}function r(e,r,D,n,T){return P(e,r),S(e,r),a(e,r),d(e,r),A(e,r),l(e,r),O(e,r[i.Properties.DFP_DIV_ID]||""),e.set(I.PROVIDER.SUB_BIDDER_ID,s.setGetSubBidderId(r[i.Properties.PAGE_ID],r[i.Properties.CREATIVE_ID])||"").set(I.BID.BID_REUSED_FLAG,r[i.Properties.BID_REUSED_FLAG]||0).set(I.AUCTION.TOTAL_TIME,n||0).set(I.DFP.DIV_ID,r[i.Properties.DFP_DIV_ID]||"").set(I.DFP.POS,r[i.Properties.DFP_DIV_POSITION]||"").set(I.MISC.LOG_PERCENT,N).set(I.MISC.TEST_DATA,_(r)).set(Te+I.PROVIDER.ID,D[i.Properties.BIDDER_ID]||"").set(Te+I.BID.ORIGINAL_BID_PRICE,D[i.Properties.ORIGINAL_CPM]||"0").set(Te+I.PROVIDER.DISC_SHARE,D[i.Properties.ZERO_ADJUSTMENT]||0).set(Te+I.PROVIDER.PRV_SHARE,D[i.Properties.FIRST_ADJUSTMENT]||0).set(Te+I.PROVIDER.REV_SHARE,D[i.Properties.SECOND_ADJUSTMENT]||0).set(Te+I.REQUEST.TYPE,D[i.Properties.AUCTION_TYPE]||"").set(Te+I.AUCTION.BID_RESPONSE_TYPE,D[i.Properties.PROVIDER_RESPONSE_TYPE]||"").set(Te+I.BID.BID_DATA,D[i.Properties.BID_DATA]||"").set(Te+I.BID.BID_PRICE,D[i.Properties.BIDDER_PRICE]||D[i.Properties.CPM]||"0").set(Te+I.BID.CUSTOMER_BID_PRICE,D[i.Properties.CUSTOMER_BID_PRICE]||"0").set(Te+I.BID.BUYER_ID,D[i.Properties.BUYER_ID]||"").set(Te+I.BID.CATEGORY,D[i.Properties.CATEGORY]||"").set(Te+I.BID.CAMPAIGN_ID,D[i.Properties.CAMPAIGN_ID]||"").set(Te+I.BID.ADVERTISER_ID,D[i.Properties.ADVERTISER_ID]||"").set(Te+I.BID.ADVERTISER_NAME,D[i.Properties.ADVERTISER_NAME]||"").set(Te+I.BID.ADVERTISER_URL,R(D[i.Properties.ADVERTISER_URL]||"")),t(e,T),E(e,r)}function n(e,E,s,r){return P(e,E),S(e,E),a(e,E),d(e,E),A(e,E),l(e,E),O(e,E[i.Properties.DFP_DIV_ID]||""),e.set(I.DFP.DIV_ID,E[i.Properties.DFP_DIV_ID]||"").set(I.BID.BID_REUSED_FLAG,E[i.Properties.BID_REUSED_FLAG]||0).set(I.AUCTION.TOTAL_TIME,s||0).set(I.DFP.POS,E[i.Properties.DFP_DIV_POSITION]||"").set(I.MISC.LOG_PERCENT,N).set(I.MISC.TEST_DATA,_(E)).set(I.PROVIDER.SUB_BIDDER_ID,"").set(Te+I.PROVIDER.ID,"").set(Te+I.BID.ORIGINAL_BID_PRICE,"0").set(Te+I.PROVIDER.DISC_SHARE,0).set(Te+I.PROVIDER.PRV_SHARE,0).set(Te+I.PROVIDER.REV_SHARE,0).set(Te+I.REQUEST.TYPE,"").set(Te+I.AUCTION.BID_RESPONSE_TYPE,"").set(Te+I.BID.BID_DATA,"").set(Te+I.BID.BID_PRICE,"0").set(Te+I.BID.CUSTOMER_BID_PRICE,"0").set(Te+I.BID.BUYER_ID,"").set(Te+I.BID.CATEGORY,"").set(Te+I.BID.CAMPAIGN_ID,"").set(Te+I.BID.ADVERTISER_ID,"").set(Te+I.BID.ADVERTISER_NAME,"").set(Te+I.BID.ADVERTISER_URL,""),t(e,r)}this.LOG_TYPE="ad",o.call(this);var p=this,c=T(p.LOG_TYPE),N=s.getlper(p.LOG_TYPE),u={};this.model=k,this.buildLog=r,this.addNew=function(e){var t,E=e.winningBid.serialize(),s=E[i.Properties.PAGE_ID],I=e.auctionTime,T=E[i.Properties.PLACEMENT_ID];if(u[s]=u[s]||{},!(c||u[s][T]&&!D.getByName(T).isGloballyTargeted())){var _=new p.model;if(e.minimal)t=n(_,E,I,e.tp);else{var o=e.secondWinner?e.secondWinner.serialize():{};t=r(_,E,o,I,e.tp),pe.addToAuctionWinnerMap(E[i.Properties.PLACEMENT_ID],t)}u[s][T]=!0,p.append(t)}},this.reset=function(){p.fire(),u={}},s.logADonSetTargeting()&&!s.isMnetBidderRequest()?e.addToEventQueue("adlog:trigger","command",p.fire):e.addToEventQueue("log:trigger","command",p.fire)}function X(e){return"P"===e}function j(){this.LOG_TYPE="aw",o.call(this);var t=this,E={},r={};this.model=k,this.addToAuctionWinnerMap=function(t,E){r[t]=E,e.addToEventQueue("afterRender",t,pe.dispatchWinner)},this.dispatchDirectWinner=function(e){e=e.serialize();var E=new t.model;le.buildLog(E,e,{},"",{}),E.set(I.REQUEST.SIZE,e[i.Properties.SIZE]||"").set(I.BID.STATUS,e[i.Properties.STATUS]||"").set(I.REQUEST.TYPE,e[i.Properties.AUCTION_TYPE]||"").set(I.MISC.TEST_DATA,_(e)),t.append(E),t.fire()},this.dispatchWinner=function(e,s){s=s.serialize();var D=s[i.Properties.PLACEMENT_ID];void 0===E[D]&&(r[D].set(I.REQUEST.SIZE,s[i.Properties.SIZE]||""),r[D].set(I.BID.STATUS,s[i.Properties.STATUS]||""),r[D].set(I.REQUEST.TYPE,s[i.Properties.AUCTION_TYPE]||""),r[D].set(I.MISC.TEST_DATA,_(s)),t.append(r[D]),t.fire(),E[D]=!0)},this.setNewWinnerForPlacement=function(e,E){var i=new t.model,s=E?E.serialize():{},I=le.buildLog(i,s,{},"",s.tp);r[e]=I},this.dispatchExternalWinner=function(E,r){var D=r.winningBid,n=r.secondBid,T=r.auctionTime,o=D.serialize(),p=new t.model,c=o[i.Properties.PLACEMENT_ID];P(p,o),l(p,o),S(p,o),a(p,o),d(p,o),A(p,o),O(p,o[i.Properties.DFP_DIV_ID]||""),p.set(I.DFP.DIV_ID,o[i.Properties.DFP_DIV_ID]||"").set(I.DFP.POS,o[i.Properties.DFP_DIV_POSITION]||"").set(I.RESPONSE.CLIENT_TIME,o[i.Properties.LOAD_TIME]||"").set(I.AUCTION.TOTAL_TIME,T).set(I.MISC.TEST_DATA,_(o)),e.isSet(n)&&(n=n.serialize(),p.set(Te+I.PROVIDER.ID,n[i.Properties.BIDDER_ID]||"").set(Te+I.BID.ORIGINAL_BID_PRICE,n[i.Properties.ORIGINAL_CPM]||"0").set(Te+I.PROVIDER.DISC_SHARE,n[i.Properties.ZERO_ADJUSTMENT]||0).set(Te+I.PROVIDER.PRV_SHARE,n[i.Properties.FIRST_ADJUSTMENT]||0).set(Te+I.PROVIDER.REV_SHARE,n[i.Properties.SECOND_ADJUSTMENT]||0).set(Te+I.REQUEST.TYPE,n[i.Properties.AUCTION_TYPE]||"").set(Te+I.BID.BID_PRICE,n[i.Properties.BIDDER_PRICE]||n[i.Properties.CPM]||"0").set(Te+I.BID.CUSTOMER_BID_PRICE,n[i.Properties.CUSTOMER_BID_PRICE]||"0").set(Te+I.BID.BUYER_ID,n[i.Properties.BUYER_ID]||"").set(Te+I.BID.CATEGORY,n[i.Properties.CATEGORY]||"").set(Te+I.BID.CAMPAIGN_ID,n[i.Properties.CAMPAIGN_ID]||"").set(Te+I.BID.ADVERTISER_ID,n[i.Properties.ADVERTISER_ID]||"").set(Te+I.BID.ADVERTISER_NAME,n[i.Properties.ADVERTISER_NAME]||"").set(Te+I.BID.ADVERTISER_URL,R(n[i.Properties.ADVERTISER_URL]||""))),3==o[i.Properties.BIDDER_ID]&&p.set(I.PROVIDER.SUB_BIDDER_ID,s.setGetSubBidderId(o[i.Properties.PAGE_ID],c)).set(I.PROVIDER.BASE_BIDDER_ID,o[i.Properties.BASE_BIDDER_ID]),t.append(p),t.fire()},this.reset=function(){E={}}}function $(){this.LOG_TYPE="av",o.call(this);var e=this,t=s.getlper(e.LOG_TYPE),E=!T(e.LOG_TYPE);this.model=k,this.dispatchWinner=function(s){if(E){var r=s.winningBid;r=r.serialize();var D=new e.model;le.buildLog(D,r,{},"",{}),D.set(I.REQUEST.SIZE,r[i.Properties.SIZE]||"").set(I.BID.STATUS,r[i.Properties.STATUS]||"").set(I.REQUEST.TYPE,r[i.Properties.AUCTION_TYPE]||"").set(I.MISC.TEST_DATA,_(r)).set(I.VIEW.TOTAL_TIME,s.callbackTimer.getTimeSinceRegistered()||0).set(I.VIEW.VIEW_TIME,s.callbackTimer.getTimeVisible()||0).set(I.MISC.LOG_PERCENT,t),e.append(D),e.fire()}}}function ee(){p.call(this)}function te(){this.LOG_TYPE="ar",o.call(this);var e=this,t=s.getlper(e.LOG_TYPE),E=!T(e.LOG_TYPE);this.model=ee,this.dispatchRefresh=function(i){if(E){var s=new e.model;s.set(I.REQUEST.CRID,i.crid||"").set(I.DFP.DIV_ID,i.id||"").set(I.REQUEST.SIZE,i.size||"").set(I.REQUEST.REFRESH_COUNT,i.callCount||"").set(I.VIEW.TOTAL_TIME,i.callbackTimer.getTimeSinceRegistered()||0).set(I.VIEW.VIEW_TIME,i.callbackTimer.getTimeVisible()||0).set(I.VIEW.SLOT_TOTAL_TIME,i.timer.getTimeSinceRegistered()||0).set(I.VIEW.SLOT_VIEW_TIME,i.timer.getTimeVisible()||0).set(I.MISC.LOG_PERCENT,t),e.append(s),e.fire()}}}function Ee(){e.triggerEvent("log:trigger","command",!0),setTimeout(Ee,s.getLogIntervalAfterOnload()||2e3)}function ie(){e.triggerEvent("log:trigger","command",!0,{sb:!0})}function se(){p.call(this)}function re(){function t(t,i,s){var r=i.getTargetingMap()||{};return e.extend(s,{crid:s.crid||r[E.bidderExTargetParams.CREATIVE_ID],pvid:r[E.bidderExTargetParams.BIDDER_ID],dfpbd:r[E.bidderExTargetParams.DFP_BID],message:"slot:"+t+" kv:"+JSON.stringify(r)})}function i(e,t){var E=e.getResponseInformation()||{};t.li=E.lineItemId,r.addNew(t)}this.LOG_TYPE="el",o.call(this);var r=this;this.model=se;var D=this.model.props;this.addNewNoWinningBidError=function(E,r){var I={name:"NO_WINNING_BID_ERROR"};try{I.crid=s.require("placementmanager").getIdForCode(E)}catch(D){I.crid=""}var n=s.require("dfpmanager").getGSlotForPlacement(r,E);return null===n?(I.message="slot "+E+"page "+r,this.addNew(I)):(I=t(E,n,I),void setTimeout(e.getProxy(i,[n,I],this),0))},this.addNew=function(e,t){var E=new r.model;try{var i=s.require("placementmanager").getById(e.crid);e.rctr=i.rctr()}catch(n){e.rctr=0}E.set(D.NAME,e.name||"UNKNOWN").set(D.STACK,e.message||"NONE").set(I.REQUEST.CRID,e.crid||"").set(I.PROVIDER.ID,e.pvid||"").set(I.BID.DFP_BID,e.dfpbd||"").set(I.DFP.LINEITEM_ID,e.li||"").set(I.REQUEST.TO_REFRESH,e.rctr>0).set(I.REQUEST.REFRESH_COUNT,e.rctr).set(I.REQUEST.CACHE_PRIMER,1e3*Math.random()),r.append(E),r.fire()}}function Ie(){s.isAmpRequest()||e.eventLib.addEvent(window,"load",function(){ue.addNew()}),e.hasWindowLoaded()?(Ee(),z()):(e.eventLib.addEvent(window,"load",Ee),e.eventLib.addEvent(window,"load",z)),e.eventLib.addEvent(window,"unload",ie),e.addToEventQueue("resetAw","command",pe.reset)}var De,ne={start:{dn:"%%PUBLISHER_HOST%%",cid:"%%CID%%",ugd:"%%DEVICE_TYPE%%",vid:"%%VISIT_ID%%",vsid:"%%VISITOR_ID%%",sd:"%%SESSION_DEPTH%%",gtd:"%%GPT_TAG_DELAY%%",gfd:"%%GPT_FUNCTION_DELAY%%",cc:"%%COUNTRY_CODE%%",abte:"%%AB_TESTS%%",adbd:"%%AD_BLOCK_DETECTED%%",amp:"%%IS_AMP_REQUEST%%",version:"%%VERSION%%",sB:"%%SEND_BEACON%%",cors:"%%CORS_REQUEST%%",disB:"%%DISABLE_BIDDERS%%",vw:"%%VIEWPORT_WIDTH%%",vh:"%%VIEWPORT_HEIGHT%%"},log:{lmthd:"get"},end:{requrl:"%%PUBLISHER%%",kwrf:"%%REFERRER%%"}},Te="sc_",_e=e.fromIE()?1600:7e3;e.inherits(c,p),e.inherits(N,o),e.inherits(C,o);var oe=new C,Re=new C;e.inherits(B,p),e.inherits(L,o);var Pe=new L;e.inherits(g,p),g.props={TIME_DIFFERENCE:"timd"},e.inherits(h,o);var Se=new h;e.inherits(f,p),f.props={INDEX_SLOTS_LIST:"isl"},e.inherits(M,o),e.inherits(m,p),F.props={SLOT_LIST:"sl",KV_LIST:"kl",PUBADS_DEFINED:"pd"},e.inherits(F,p),e.inherits(Y,o),e.inherits(w,p),w.props={WAIT_TIME:"wt",TOTAL_WAIT_TIME:"twt"},e.inherits(Q,o),e.inherits(b,p),e.inherits(H,o);var ae={},de=0,Oe=!1;e.inherits(K,p),e.inherits(x,o);var Ae=new x;e.inherits(k,p),e.inherits(J,o);var le=new J;e.inherits(j,o);var pe=new j;e.inherits($,o);var ce=new $;e.inherits(ee,p),e.inherits(te,o);var Ne=new te,ue=new H;return e.inherits(se,p),se.props={NAME:"name",STACK:"stack"},Ie(),De=new re,{fetchRequests:new N,cacheRequests:oe,hbRequests:Re,auctionParticipants:Pe,auctionDecisions:le,auctionWinner:pe,adView:ce,mnetRefresh:Ne,expiredBids:Se,CasaleDebug:new M,gptSlots:ue,advGptSlots:Ae,gptRequest:new Q,dfpAdDataLog:new G,initDebugLog:new Y,errorLogs:De}});_mNDefine("targetingmanager",["_mNRP","util","config","bid","entitymanager","bidmanager","thirdpartymanager","logmanager","loghelper","placementmanager"],function(e,t,r,n,i,a,s,g,o,u){"use strict";function P(e){var r={};return{set:function(e,t){return e in r||(r[e]=t),this},setBid:function(r,n,i){return e.length<2&&i?this:i?this.set(r,t.isSet(e[1])?e[1].get(n):""):this.set(r,e[0].get(n))},setTest:function(){return"99"===e[0].id()&&(r.mnTest="1"),this},getTargets:function(){return r}}}function c(e,r){if(t.isStringSet(e)){var i,a=r.getSlotElementId(),s=r.getTargetingMap();t.isSet(s)&&s.pos&&t.isStringSet(s.pos[0])&&(i=s.pos[0]),t.isArray(e)||(e=[e]);for(var g=0;g<e.length;g++){var o,u=e[g];if(u.set(n.Properties.DFP_DIV_ID,a),t.isStringSet(i)&&u.set(n.Properties.DFP_DIV_POSITION,i),o=u.get(n.Properties.LOGGING_PIXELS),t.isArray(o)&&0!==o.length){for(var P=0;P<o.length;P++)-1!==o[P].indexOf("/rtblog")&&(o[P]=o[P]+"&chnm="+t.encodeParam(a));u.set(n.Properties.LOGGING_PIXELS,o)}}}}function D(e,t){var a=r.bidderExTargetParams,s=i.getCid();t.setBid(a.BIDDER_TYPE,n.Properties.EXTERNAL_BIDDER_TYPE).setBid(a.CREATIVE_ID,n.Properties.CREATIVE_ID).setBid(a.PLACEMENT_ID,n.Properties.PLACEMENT_ID).setBid(a.BIDDER_ID,n.Properties.BIDDER_ID).setBid(a.DFP_SIZE,n.Properties.DFP_SIZE).setBid(a.AUCTION_TYPE,n.Properties.AUCTION_TYPE).setBid(a.SECOND_PROVIDER_ID,n.Properties.BIDDER_ID,!0).setBid(a.DFP_BID,n.Properties.DFP_BID).set(a.CUSTOMER_ID,s).set(a.TEST_DATA,E(e[0])).setTest()}function E(e){return(e.get(n.Properties.TEST_DATA)||"")+"|"+i.getTestDataForPlacement(e.get(n.Properties.PLACEMENT_ID))}function T(e){return t.any(r.bidderExTargetParams,function(t){return e===t?!0:void 0})}function d(e){var r={};return t.each(e,function(e){t.each(e,function(e,t){T(t)||(r[t]=e)})}),r}function l(e,r){var n=!1;return t.each(e,function(e){t.each(e,function(e,t){T(t)||(n=!0),r.set(t,e)})}),n}function I(e){i.disableAllBidders()?e.set(r.defaultExTargetParams.NO_PARTICIPATE,"1"):e.set(r.defaultExTargetParams.NO_BID,"1")}function f(e,t){i.needsDomainTargeting()&&e.set(r.miscExTargetParams.DOMAIN_NAME,i.getHostname()),t&&i.shouldTargetMnetHV(t)&&e.set(r.miscExTargetParams.HIGH_VALUE_BID,1)}function _(e,t){e.set(r.defaultExTargetParams.PAGE_ID,t.toString()).set(r.defaultExTargetParams.CC,i.getCountryCode()).set(r.defaultExTargetParams.UGD,i.getDeviceType())}function m(e,t,r){var n,i=a.getWinningBidByCode(e,t,!0),g=s.getTargetingParamsForCode(e,t),o=P(i),u=!l(g,o);return null!==i[0]?(n=i[0],u=!1,D(i,o),r&&c(n,r)):r&&(i=a.getAnyBid(t,e),c(i,r)),u&&I(o),_(o,t),f(o,n),r&&c(s.getPlacementMap(t,e),r),a.callAuctionDecision(e,t,d(g)),o.getTargets()}function p(e,r){var n="0";o.logAuctionParticipants(r,n);var i=m(r,n);return t.triggerEvent("adlog:trigger","command",!0),i}function A(e,r,n){return a.shutDown(r,e),t.triggerEvent("afterTargeting",e),m(e,r,n)}function B(e,r){var n={};return t.each(e,function(e,t){n[t+r.code()]=e}),n}function v(e,t,r){var n=u.getByName(e),i=n.isGloballyTargeted(),a=A(e,t,r),s={slotLevel:{},global:{}};return i?s.global=B(a,n):s.slotLevel=a,s}return{getTargetingMap:p,getTargetingMapForSlot:v,dfpDivUpdate:c}});_mNDefine("slotfinder",[window,"_mNRP","util","mnetHbConsole","config","bid","entitymanager","placementmanager","bidmanager","thirdpartymanager","abtestmanager","logmanager","loghelper","placementconst"],function(e,t,n,r,i,o,u,a,g,l,s,d,c,f){"use strict";function S(e,t){var r=e&&e.getSlotId()&&e.getSlotId().getId(),i=e&&e.getSlotElementId();return n.any(t,function(e){return n.isSet(r)&&e.key===k.REGEX_ADUNIT_PATH?new RegExp(e.value).test(r):n.isSet(i)&&e.key===k.REGEX_DIV_ID?new RegExp(e.value).test(i):void 0})||!1}function m(e,t){var r,i,o,u=e.getTargetingMap();return o=n.any(t,function(e){return n.isSet(e.key)&&n.isSet(e.value)?(r=e.key,i=e.value.split("|"),n.any(i,function(e){return n.isSet(u[r])&&n.isSet(e)&&u[r][0]===e?!0:void 0})):void 0})||!1}function v(e,t){return m(e,t)||S(e,t)}function I(e,t){var r=t.getSlotElementId(),i=e.code(),o=t&&t.getSlotId()&&t.getSlotId().getId(),a=u.getCustomUtilityWrapper();if(!b(t,i))return!1;if(_(i))return!0;if(i===o)return!0;if(i===r)return!0;var g=!1;try{n.isSet(a)&&n.isFunction(a.isValidSlotCodeCheckByBidder)&&(g=!0)}catch(l){}return g?a.isValidSlotCodeCheckByBidder(v,e,t):n.isSet(e.get(f.DFP_DIV_IDS))&&n.checkItemExists(e.get(f.DFP_DIV_IDS),r+",")?!0:n.isSet(e.get(f.CUSTOM_TARGETS))&&v(t,e.get(f.CUSTOM_TARGETS))?!0:!1}function h(){return u.isDivCheckEnabled()&&!u.isAmpRequest()&&!u.isMnetBidderRequest()}function y(e,t,r){var i,o=u.require("gptmanager");if(!n.isFunction(e.getSlotElementId))return!1;if(i=e.getSlotElementId(),h()&&!n.isSet(n.queryDOM("#"+i)))return!1;var g=a.getByName(t);return I(g,e)&&o.hasDisplayFired(i)?r===!1?!0:!o.isSlotRendered(i):!1}function E(){return u.isInfiniteScrollEnabled()&&parseInt(g.getCurrentPage())>0}function p(t,n){for(var r=e.googletag.pubads().getSlots(),i=r.length-1,o=0;i>=o;i--)if(y(r[i],t,n))return r[i]}function D(e,t){return{w:e,h:t}}function _(e){var t=a.getByName(e);return t?t.isGloballyTargeted():!1}function T(e){var t=[],r=a.getAllPlacements();return n.each(r,function(r,i){var o=r.get(f.SIZES),u=r.code();n.isSet(u)&&u===e&&n.isArray(o)&&o.length>0&&n.each(o,function(e){t.push(D(e[0],e[1]))})}),t}function C(e,t){return e>=t&&t+w>=e}function R(t){var r,i,o=e;return o.top==o&&(r=n.getWindowDimension(o),i=t.getSizes(r.width,r.height),n.isSet(i))?i:t.getSizes()||[]}function A(e,t,n){for(var r=R(e),i=0;i<r.length;i++)if("object"==typeof r[i]&&C(r[i].getWidth(),t)&&C(r[i].getHeight(),n))return!0;return!1}function b(e,t){var r=T(t);return n.any(r,function(t){return A(e,t.w,t.h)?!0:void 0})}var k={REGEX_ADUNIT_PATH:"regex:adunit_path",REGEX_DIV_ID:"regex:div_id"},w=10;return{findSlot:p,needsInfiniteScroll:E,validateDFPSizes:b,isConfiguredSlot:I,matchCustomAdunitTargets:v}});_mNDefine("gptslotmanager",["util"],function(t){"use strict";function n(){try{var n=window.googletag.pubads().getSlots();return t.each(n,function(n){var e=n&&n.getSlotElementId();t.isSet(e)&&(i[e]=n)}),n}catch(e){return[]}}function e(t){var n=t&&t.getSlotElementId();return i[n]=i[n]||t,n}function r(e){return t.any(n(),function(t){var n=t&&t.getSlotElementId();return e===n?t:void 0})||null}function o(n){return t.isSet(i[n])?i[n]:(i[n]=r(n),i[n])}function u(){if(t.isSet(u.done))return[];u.done=!0;var r=[],o=n();return t.each(o,function(t){r.push(e(t))}),r}var i={};return{getSlotById:o,getAllSlots:n,getSlotElementId:e,pattern:u}});_mNDefine("dfpmanager",[window,"_mNRP","util","mnetHbConsole","config","bid","entitymanager","placementmanager","bidmanager","thirdpartymanager","abtestmanager","logmanager","loghelper","placementconst","slotfinder","targetingmanager"],function(e,t,a,r,n,i,o,g,s,l,d,c,u,f,m,p){"use strict";function S(e,t){G[e]=t}function v(e){return a.isSet(e)?G[e]||"":""}function T(){e.googletag&&e.googletag._loadStarted_||e.advBidxc.isAdServerLoaded||(a.clock.tock("init"),a.clock.tick("gptLoad"),r.event("GPT loaded"),a.loadScript("//www.googletagservices.com/tag/js/gpt.js",h),z=e.advBidxc.startTime?a.getCurrentTime()-e.advBidxc.startTime:-1,e.advBidxc.isAdServerLoaded=!0)}function h(){a.clock.tock("gptLoad")}function P(){return e.googletag&&"function"==typeof e.googletag.pubads&&e.googletag.pubads()&&"function"==typeof e.googletag.pubads().getSlots&&e.googletag.pubads().getSlots()?!0:!1}function y(t){var r,n,i=e;return i.top==i&&(r=a.getWindowDimension(i),n=t.getSizes(r.width,r.height),a.isSet(n))?n:t.getSizes()||[]}function b(){var t,a,r,n=[];if(!P())return n;for(t=e.googletag.pubads().getSlots(),a=0,r=t.length;r>a;a++){var i=I(t[a]);n.push(i)}return n}function I(e){var t,r,n=y(e),i=e.getTargetingMap(),g=[],s=[],l={};for(t=0;t<n.length;t++)"object"==typeof n[t]&&g.push(n[t].getWidth()+"x"+n[t].getHeight());for(r in i)i.hasOwnProperty(r)&&s.push(r+"="+i[r][0]);var d=o.require("gptmanager"),c={};return a.isSet(d)&&(c=d.mnetPubadsProxy.getPubadsSettings()),l.elementId=e.getSlotElementId(),l.dfpSlotId=e&&e.getSlotId()&&e.getSlotId().getId(),l.sizes=g.join("|"),l.customCriteria=s.join("|"),l.slotRenderTime=v(l.elementId),l.loadedLate=d.didWeLoadLate(e),l.isSingleRequestMode=c.srm,l.displayMode=c.dm,l.refreshMode=c.rm,l}function w(t,r,n){var i,o,g=p.getTargetingMapForSlot(t,r,n);R[r]&&R[r][t]===!0||(R[r]=R[r]||{},R[r][t]=!0,a.each(g.slotLevel,function(e,t){n.setTargeting(t,e)}),i=g.global,o=e.googletag.pubads(),a.each(i,function(e,a){o.setTargeting(a,e),j[t]=j[t]||{},j[t][a]=e}))}function D(t){var r=j[t],n=e.googletag.pubads();a.each(r,function(e,t){n.clearTargeting(t)}),delete j[t]}function C(t){var r,n,i=o.getCustomUtilityWrapper(),g=e.googletag.pubads();N[t]=N[t]||{},r=l.getGlobalTargetingParams(t);for(n in r)r.hasOwnProperty(n)&&!N[t][n]&&(g.setTargeting(n,r[n]),N[t][n]=!0);a.isSet(i)&&a.isFunction(i.setCustomPageLevelTargeting)&&i.setCustomPageLevelTargeting(t)}function F(t){return 1===e.advBidxc.noTarget||!P()||!a.isArray(t)||0===t.length}function L(e){if(!F(e)){var t="0",r=o.require("infinitescrollmanager");a.each(e,function(e){var n=g.getById(e.m),i=e.dfpsl;if(a.isSet(n)&&a.isSet(i)){var o=n.code();a.isSet(M)&&a.isFunction(M.parseSlotID)?t=M.parseSlotID(i):a.isSet(r)&&a.isFunction(r.parseSlotID)&&(t=r.parseSlotID(i)),_[t]=_[t]||{},_[t][o]=i,w(o,t,i),a.triggerEvent("adlog:trigger","command",!0),u.logAuctionParticipants(o,t,i)}}),C(t)}}function x(e,t){a.isSet(e)&&a.isSet(t)&&R[e]&&R[e][t]!==!1&&(R[e][t]=!1)}function A(t,r){var i=g.getByName(t);if(i.isGloballyTargeted())return void D(t,r);var o=m.findSlot(t,!1);if(void 0!==o){var s=o.getTargetingMap(),d=s[n.bidderExTargetParams.BIDDER_ID];delete s[n.defaultExTargetParams.NO_BID],void 0!==d&&(s[n.defaultExTargetParams.WINNER]=d);var c=n.bidderExTargetParams;for(var u in c)c.hasOwnProperty(u)&&s.hasOwnProperty(c[u])&&delete s[c[u]];var f=n.miscExTargetParams;for(u in f)f.hasOwnProperty(u)&&s.hasOwnProperty(f[u])&&delete s[f[u]];var p,S,v=l.getTargetingParamsForCode(t,r);for(u=0;u<v.length;u++){p=v[u];for(S in p)p.hasOwnProperty(S)&&s.hasOwnProperty(S)&&delete s[S]}o.clearTargeting();for(S in s)s.hasOwnProperty(S)&&o.setTargeting(S,s[S]);var T=l.getGlobalTargetingParams(r);for(S in T)T.hasOwnProperty(S)&&(e.googletag.pubads().clearTargeting(S),a.isSet(N[r])&&a.isSet(N[r][S])&&delete N[r][S]);a.isSet(M)&&a.isFunction(M.clearCustomPageLevelTargeting)&&M.clearCustomPageLevelTargeting(r)}}function B(t,r){for(var n=0,i=r.length;i>n;n++)e.googletag.pubads().clearTargeting(r[n]),a.isSet(N[t])&&a.isSet(N[t][r[n]])&&delete N[t][r[n]]}function O(e){return a.isSet(e)&&a.isSet(R[e])?a.any(R[e],function(e,t){return e===!0?!0:void 0})||!1:!1}function E(e,t){return _[e]&&_[e][t]?_[e][t]:null}function k(e,t){return R[e]&&R[e][t]===!0}var M,N={},R={},_={},G={},j={},z=-2;try{M=e._mNRequire(["customutil"])[0]}catch(W){}return{triggerDFP:T,setTargetingForAdUnitsGPTAsync:L,clearTargeting:A,clearCustomTargeting:B,clearSlotsTargetedMap:x,isSlotAlreadyTargeted:k,isAnySlotTargeted:O,getAllDFPSlotsInfo:b,getSlotInfo:I,hasDFPLoaded:P,setSlotRenderTime:S,dfpDivUpdate:p.dfpDivUpdate,findSlot:m.findSlot,needsInfiniteScroll:m.needsInfiniteScroll,validateDFPSizes:m.validateDFPSizes,isValidSlotCodeCheckByBidder:m.isConfiguredSlot,matchCustomAdunitTargets:m.matchCustomAdunitTargets,getGSlotForPlacement:E}});_mNDefine("loghelper",["util","entitymanager","bidmanager","thirdpartymanager","placementmanager","logmanager"],function(e,t,i,a,r,n){"use strict";function l(l,o,s){var d=[],u={},c=i.getAuctionTime(l,o),g=p(l,o),y=t.require("nullbidder-adapter");if(e.isSet(y)&&e.isFunction(y.getNullBidByAdUnit)){var m=y.getNullBidByAdUnit(l,o);d.push(m)}var f=i.getAllBidsByAdUnit(l,o);e.isArray(f)&&f.length>0&&Array.prototype.push.apply(d,f);var A=a.getPlacementMap(o,l);e.isArray(A)&&A.length>0&&Array.prototype.push.apply(d,A);var h=i.getLateAuctionParticipants(o,r.getIdForCode(l),g);if(h.length>0&&Array.prototype.push.apply(d,h),e.isSet(s)){var v=t.require("dfpmanager");e.isSet(v)&&v.dfpDivUpdate(d,s)}u.auctionTime=c,u.bids=d,n.auctionParticipants.addNew(u)}function p(a,n){var l=r.getIdForCode(a),p=r.isGuaranteedPlacement(l),o="-1";return e.clock.tock(a+n+"displayTime"),o=t.isRefreshRequest(l)?t.getGoogleRefreshDelay():p?e.clock.diff():e.clock.time(a+n+"displayTime"),i.setDisplayTime(a,n,o),o}return{logAuctionParticipants:l}});_mNDefine("request",function(){"use strict";function t(){var t={};this.get=function(e){return t[e]},this.set=function(e,n){return t[e]=n,this}}return t.Properties={CREATIVE_ID:"CRID",BIDDER_ID:"BID",SIZE:"SIZE",EXT_PUBLISHER_CODE:"PBC",EXT_PLACEMENT_CODE:"PC"},t});_mNDefine("mnetrequestmanager",[window,"util","bid","config","entitymanager","bidmanager","mnetHbConsole","request"],function(e,t,r,i,n,o,s,a){"use strict";function u(){return n.getBidStreamUrl()}function c(){var e=n.isRtbsv2();return 1===e?i.defaultBidderSetting.bidApiUrl2:2===e?i.defaultBidderSetting.bidApiUrl2M:i.defaultBidderSetting.bidApiUrl}function d(e){var r,i=n.getCustomUtilityWrapper();return t.isSet(i)&&t.isFunction(i.getServerBidRequestTimeout)&&(r=i.getServerBidRequestTimeout(e)),t.isSet(r)?r:n.getServerBidRequestTimeout(e)}function g(i){function g(){var e=[];return t.each(y,function(r){var i=r.get(a.Properties.CREATIVE_ID);t.isSet(i)&&!t.checkItemExistsInArray(e,i)&&e.push(r.get(a.Properties.CREATIVE_ID))}),e.join(",")}function f(e,r){return t.isSet(e)&&t.isSet(r)&&t.isSet(q[e])&&q[e][r]}function p(e){var r=e.mnet_id,i=e.bidder_id,n=f(r,i);t.isFunction(n)&&n(e)}function S(e){t.isEmptyObject(e)||(t.each(e,function(e,r){var i=e.bl||[];t.each(i,function(e){p(e)})}),t.triggerEvent("endOfStreamResponse",i))}function h(e,t){var r=t.rtbsBidA||{};S(r)}function m(e,r){var i="{{BID}}|{{SIZE}}|{{PBC}}|{{PC}}";return t.each(a.Properties,function(e){i=i.replace(new RegExp("{{"+e+"}}"),r.get(e))}),e+"*"+i}function E(){var e=[];return t.each(y,function(t){var r=t.get(a.Properties.CREATIVE_ID);e.push(m(r,t))}),e.join("@")}function P(){t.each(y,function(e){var r=e.get(a.Properties.CREATIVE_ID),n=e.get(a.Properties.BIDDER_ID);t.clock.tick("rtbsDataLoadTime"+i+r+n)})}function C(){return"rtbs"+i}function A(){return e.advBidxc[C()]=t.getProxy(S,[]),"window.advBidxc."+C()}function b(){t.each(y,function(e){var r=e.get(a.Properties.BIDDER_ID);t.checkItemExistsInArray(F,r)||F.push(r)})}function I(){return 1===F.length?F[0]:""}function R(e){t.each(F,function(r){t.isSet(v[r])&&t.isFunction(v[r].setAdditionalApiParams)&&v[r].setAdditionalApiParams(e)})}function D(o){var a,d;if(n.isStreamApiEnabled())try{d=u()+o,a=new EventSource(d,{withCredentials:!0})}catch(g){}if("undefined"!=typeof a)return s.log(d,"dataLoadUrl","streamApi"),void(a.onmessage=function(r){if("CLOSE"===r.data)return a.close(),void t.triggerEvent("endOfStreamResponse",i);var n;n=e.JSON&&e.JSON.parse?JSON.parse(r.data):new Function("return"+r.data)(),n.td="r=str",p(n)});if(d=c()+o,B===r.AuctionType.CACHE)t.loadScriptInIframe(d,t.getProxy(h,[]),"rtbs"+B);else{var f={};n.isErrorTrackEnabled()&&(f.crossOrigin=!0),t.loadScript(c()+o+"&rt=3&callback="+A(),void 0,void 0,f)}}var y=[],T=0,B="",q={},x=!1,F=[];this.add=function(e){0===y.length&&(B===r.AuctionType.HEADER_BID?t.addToEventQueue("apiCallsSent","global",t.getProxy(this.preFire,[],this)):B===r.AuctionType.CACHE&&t.addToEventQueue("prefetch","global",t.getProxy(this.preFire,[],this))),y.push(e)},this.setAuctionType=function(e){return t.isSet(e)&&(B=e),this},this.addResponseParser=function(e,t){var r=e.crid,i=e.prvid;q[r]=q[r]||{},q[r][i]=t},this.preFire=function(){b();var e=I();if(t.isSet(e)&&t.isSet(v[e])&&t.isFunction(v[e].execCustomCode)){var r=n.getProviderRequestID(o.getCurrentPage(),l,B);v[e].execCustomCode(t.getProxy(this.fire,[],this),r)}else this.fire()},this.fire=function(){if(!x){x=!0,T++;var e=o.getCurrentPage(),r=d(B),i=n.getDomainForPrefetchFD(),s=n.getPublisherUrl(),a=n.isErrorTrackEnabled(),u=n.getAppnexusSeatId(),c=n.getChannel(e),f=n.getSection(e),p=n.getBlockAdvertiserCategories(),v=g(),S={cid:n.getCid(),requestString:t.encodeParam(E()),crid:t.encodeParam(v),sd:n.getSessionDepth(),requrl:t.encodeParam(s),bl:1,dn:n.getDomainForPrefetch(),https:n.needsHttpsSupport()?1:0,act:B,prvReqId:n.getProviderRequestID(e,l,B),erTr:a?1:0,hlt:1,ugd:n.getDeviceType(),kwrf:t.encodeParam(n.getReferrerUrl()),tr:Math.random()};t.isSet(u)&&(S.sid=u),n.isSplitOnCountryCodeEnabled()&&(S.scc=1),t.isStringSet(r)&&(S.tmt=r),n.isFdEnabled()&&(S.furl=i),t.isSet(f)&&(S.section=t.encodeParam(f)),t.isSet(c)&&(S.channel=t.encodeParam(c)),t.isArray(p)&&p.length>0&&(S.bcat=p.join(",")),R(S);var h="?"+t.buildUrlParameters(S);P(),D(h),y=[]}}}function f(e,r){var i=e+n.getBidRequestCount();return t.isSet(r)&&(v[r]=v[r]||n.getProviderCustom(r),t.isSet(v[r])&&t.isFunction(v[r].needsNewRequest)&&v[r].needsNewRequest()&&(i+="_"+r)),t.isSet(p[i])||(p[i]=new g(i).setAuctionType(e)),p[i]}var l="mnet_stream",p={},v={};return{getRequestCollection:f}});_mNDefine("mnetHbConsole",[window,"util","config","entitymanager"],function(e,a,r,n){"use strict";function t(e,a){L&&L.hasIframeLoaded()?L.renderDataLoadUrlsAfterIframeLoad(a,e):T[a]=e}function o(e,a){L&&L.hasIframeLoaded()?L.renderAuctionTimeAfterIframeLoad(e,a):B[a]=e}function d(e,a,r){var n=e.serialize();L&&L.hasIframeLoaded()?L.renderBidsAfterIframeLoad(n):(A[r]=A[r]||{},A[r][a]=n)}function i(e){L&&L.hasIframeLoaded()?L.renderPrefetchBidsAfterIframeLoad(e):v.push(e)}function s(e){var a=e.serialize();L&&L.hasIframeLoaded()?L.renderWinnerAfterIframeLoad(a):k.push(a)}function f(e){for(h=0,g=y.length;g>h;h++)-1!==e.indexOf(y[h])&&(L&&L.hasIframeLoaded()?L.renderLogUrlsAfterIframeLoad(e,y[h]):I.push(e))}function c(e){if(e){var a=e.serialize();L&&L.hasIframeLoaded()?L.renderFinalWinnerAfterIframeLoad(a):b.push(a)}}function l(e,a,r,n){switch(a){case"dataLoadUrl":t(e,r);break;case"auctionTime":o(e,n);break;case"bid":d(e,r,n);break;case"prefetchBid":i(e);break;case"winningBid":s(e);break;case"logUrl":f(e);break;case"finalWinner":c(e)}}function m(e){e&&(e=e+" after "+a.clock.diff()+" ms",L&&L.hasIframeLoaded()?L.renderTimelineAfterIframeLoad(e):p.push(e))}function u(){var a=-1!==n.getPublisherUrl().indexOf("hb_console=1");if(a){var t=document.getElementsByTagName("script")[0],o=document.createElement("script"),d=n.resolveMacros("%%PROTOCOL%%://contextual.media.net/hbConsoleController.php?consoleRequest=1&%%HTTPS_FLAG%%"),i=!1;o.type="text/javascript",o.src=d,o.onload=o.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,e._mNRequire(["mnetHbConsoleRenderer"],function(e){L=e.renderer,L.handleTakeOver(r,T,B,v,I,A,k,b,p)}))},t.parentNode.insertBefore(o,t)}}var h,g,L,p=[],I=[],b=[],v=[],A={},k=[],T={},y=["prlog","adlog","awlog","aplog","prflog","gptrlog","gptslog","cslog"],B={};return{log:l,event:m,bootstrap:u}});_mNDefine("nullbidder-adapter",[window,"util","bid","entitymanager","bidmanager","placementmanager","placementconst"],function(e,t,r,i,s,n,E){"use strict";function o(e,o){var d=n.getByName(e),P=s.hasAnyWinningBid(e,o)?"1":"0",p=t.getCookieFlag(),a=n.getGuaranteedFlag(d.id());return(new r).status(r.Status.SUCCESS).set(r.Properties.PLACEMENT_ID,d.code()).set(r.Properties.CREATIVE_ID,d.id()).set(r.Properties.IS_GUARANTEED_PLACEMENT,a).set(r.Properties.SIZE,d.get(E.SIZES)[0].join("x")).set(r.Properties.BIDDER_ID,I.prvid).set(r.Properties.BIDDER_NAME,I.bidder).set(r.Properties.AUCTION_ID,i.getAuctionId(o,e)).set(r.Properties.TO_CONSIDER,"0").set(r.Properties.IS_WINNING_BID,P).set(r.Properties.AUCTION_TYPE,r.AuctionType.HEADER_BID).set(r.Properties.PROVIDER_RESPONSE_TYPE,r.AuctionType.HEADER_BID).set(r.Properties.PAGE_ID,o).set(r.Properties.TIMESTAMP,t.getCurrentTime()).set(r.Properties.IS_COOKIE_ENABLED,p)}var I={prvid:"0",bidder:"nullbidder"};return{getNullBidByAdUnit:o}});_mNDefine("rtbsbidder-adapter",[window,"util","bidmanager","bid","config","entitymanager","storagemanager","logmanager","bidder","adaptermanager","mnetHbConsole","mnetcookiesyncmanager","providermanager","placementmanager","bidpricemanager","request","mnetrequestmanager","providerconst"],function(e,t,r,i,s,n,o,d,a,P,p,E,c,I,_,u,D,A){"use strict";function R(e,r,i,s){return t.each(e,function(e){var t=r.priceMacro();e=e.replace(a.ORIGINAL_PRICE_MACRO,s).replace(a.ADJUSTED_PRICE_MACRO,i).replace(t,s)}),e}function g(){a.call(this),this.getAdcode=function(e,r,i,s,o,d){o=o||s.sizes[0].size;var a=o.split("x")[0],P=o.split("x")[1],p="",E=t.isSet(d)&&d.matchString||"",c=t.isSet(d)&&t.encodeParam(d.bidData)||"",I=n.getCid(),_=s.crid;t.isSet(s)&&(p=n.getAuctionId(s.pageId,s.code));var u='<!DOCTYPE html><HTML><HEAD></HEAD><BODY><script id="mNCC" language="javascript">medianet_versionId = \'111299\';medianet_width = \''+a+"';medianet_height = '"+P+"';medianet_crid = '"+r+"';medianet_requrl= '"+t.encodeParam(n.getPublisherUrl())+"';medianet_chnm2= '"+I+"';medianet_chnm3= '"+_+"';medianet_bdrId= '"+this.config(A.ID)+"';medianet_sbdrId= '"+i+"';medianet_auctionid= '"+p+"';medianet_bdata = '"+c+"';medianet_misc= {};medianet_misc.matchString= '"+E+"';(function() {var isSSL = 'https:' == document.location.protocol;var mnSrc = (isSSL ? 'https:' : 'http:') + '//contextual.media.net/nmedianet.js?cid="+e+"' + (isSSL ? '&https=1' : '');document.write('<scr' + 'ipt type=\"text/javascript\" id=\"mNSC\" src=\"' + mnSrc + '\"></scr' + 'ipt>');})();<\/script></BODY></HTML>";return u}}function S(){function e(e,t){var r={adUnitParam:{pvsh:t.winner.get(i.Properties.ZERO_ADJUSTMENT),dpsh:t.winner.get(i.Properties.FIRST_ADJUSTMENT),pbsh:100-(t.winner.get(i.Properties.SECOND_ADJUSTMENT)||0)},ogbdp:e},s=new i;return s=_.setPriceProperties(s,r)}a.call(this),this.setSecondPrice=function(t){var s=t.winner.get(i.Properties.FINAL_BID),n=t.winner.get(i.Properties.ADCODE),o=t.winner.get(i.Properties.CREATIVE_ID),d=t.winner.get(i.Properties.LOGGING_PIXELS),P=t.winner.get(i.Properties.BIDDER_ID),p=I.getProviderFpById(o,P),E=this.getTimeLinePixel(t.winner);if(s===!1||void 0===s)return t.winner.set(i.Properties.ADCODE,n.replace(this.priceMacro(),t.winner.get(i.Properties.ORIGINAL_CPM))),t.winner.set(i.Properties.TIMELINE_PIXEL,E.replace(a.ORIGINAL_PRICE_MACRO,t.winner.get(i.Properties.ORIGINAL_CPM))),void t.winner.set(i.Properties.LOGGING_PIXELS,R(d,this,t.winner.get(i.Properties.CPM),t.winner.get(i.Properties.ORIGINAL_CPM)));var c=r.getSecondPriceByCode(t.winner.get(i.Properties.PLACEMENT_ID),t.winner.get(i.Properties.PAGE_ID));(-1===c||p>c)&&(c=p),t.winner.set(i.Properties.ADCODE,n.replace(this.priceMacro(),c));var _=e(c,t);t.winner.set(i.Properties.CUSTOMER_BID_PRICE,_.get(i.Properties.CUSTOMER_BID_PRICE)),t.winner.set(i.Properties.DFP_BID,_.get(i.Properties.DFP_BID)),t.winner.set(i.Properties.TIMELINE_PIXEL,E.replace(a.ORIGINAL_PRICE_MACRO,t.winner.get(i.Properties.ORIGINAL_CPM))),t.winner.set(i.Properties.LOGGING_PIXELS,R(d,this,_.get(i.Properties.DFP_BID),c))},this.handlePostAuctionClose=function(e,r){r&&r.winner&&r.winner.id()===this.config(A.ID)&&(this.setSecondPrice(r),p.log(r.winner,"winningBid"),t.addToEventQueue("afterRender",r.winner.get(i.Properties.PLACEMENT_ID),t.getProxy(this.handlePostRendering,[],this))),t.consoleLog("Auction Closed for",e.src)}}function T(e,r){return z(r)?!0:t.isSet(e.adcode)}function C(e,r,i){return t.isSet(e.no_bid)&&e.no_bid===!1&&t.isSet(e.og_bid)&&T(e,i)&&e.og_bid>(r.fp||0)}function O(e,r,i){return l(e,i)?e.no_bid===!0?t.isSet(e.nbc)?e.nbc:j:e.og_bid<=(r.fp||0)?q:j:e.nbc===Y?Y:e.bidderInfoBean&&e.bidderInfoBean.rstb&&e.no_bid===!1?K:t.isSet(e.nbc)?e.nbc:j}function f(e,t){var r=e.bidderInfoBean||{},i=e.ext_placement_code,s=e.buyer_id;return t=t+k+"epc="+i+k+"buyid="+s,r.prvAccId||""}function v(e,t){return e.publisher_id||t.ext_pub_code||""}function b(e,r,i){if(z(i)){var s=re[i];if(t.isFunction(s.getAdcode)){var n=e.publisher_id||r.ext_pub_code||"",o=e.sub_bidder_id||"",d=e.bidderInfoBean||{},a={},P=e.ext_placement_code||"";return a.matchString=d.matchString||"",a.bidData=d.bidData||"",s.getAdcode(n,P,o,r,e.size,a)}return""}return e.adcode||""}function l(e,t){return e.size===t}function m(e,s,o){if(null!==e){p.event("Bid rcv for '"+s+"' from "+e.id());var d=e.get(i.Properties.PROVIDER_RESPONSE_TYPE)===i.AuctionType.CACHE,a=e.get(i.Properties.PAGE_ID),P=re[e.id()];if(t.addToEventQueue("auctionEnd",s,t.getProxy(P.handlePostAuctionClose,[],P)),t.addToEventQueue("secondWinner",s,t.getProxy(P.handlePostAuctionClose,[],P)),e.set(i.Properties.AUCTION_ID,n.getAuctionId(a,s)),d?e.set(i.Properties.LOAD_TIME,P.stats("prefetchTime")):(e.set(i.Properties.AUCTION_TYPE,i.AuctionType.HEADER_BID),e.set(i.Properties.PROVIDER_RESPONSE_TYPE,i.AuctionType.HEADER_BID),e.set(i.Properties.PROVIDER_REQUEST_ID,n.getProviderRequestID(a,J,i.AuctionType.HEADER_BID))),r.isAuctionClosedForAdUnitCode(s,a)?(e.status(e.status()===i.Status.SUCCESS?i.Status.RESPONSE_AFTER_AUCTION:i.Status.NOBID_AFTER_AUCTION),P.addLateResponse(e)):(P.addForwardedResponse(e),r.addBidResponse(s,a,e)),p.log(e,"bid",e.id(),s),o)for(var E in re)re.hasOwnProperty(E)&&t.triggerEvent("endOfResponse",E,!0,{cache:d})}}function N(e,s,o,d,a,P){var p,E,u=(e.bidder_id||s.prvid).toString(),D=I.getGuaranteedFlag(s.crid),R="",g=e.uid||"",S=e.cs||"",T="0",m=W[u].get(A.EXCHANGE_ID),N=t.getCookieFlag(),h=[],B={adUnitParam:s||{},ogbdp:e.og_bid||"0"},L={adUnitParam:s||{},ogbdp:"0"};t.isSet(d)&&(R+=d),t.isSet(g)&&(T="1");var M=e.bidderInfoBean||{},w=M.ab,G=M.rstb?"1":"0",y=t.isSet(M.crid)?M.crid:"";t.isSet(w)&&(R=R+"|ab="+w),t.each(s.sizes,function(r){if(E=new i,C(e,s,u)&&l(e,r.size)){var d=f(e,R),a=v(e,s),P=e.sub_bidder_id||"",I=b(e,s,u);p=t.isSet(e.nbc)?e.nbc:j,n.setGetSubBidderId(s.pageId,s.crid,P),E=_.setPriceProperties(E,B);var w=e.logging_pixels||[],U=M.category||"";return t.isSet(U)&&t.isArray(U)&&(U=U.join("|")),void h.push(E.status(i.Status.SUCCESS).set(i.Properties.PLACEMENT_ID,s.code).set(i.Properties.IS_GUARANTEED_PLACEMENT,D).set(i.Properties.BIDDER_ID,u).set(i.Properties.BIDDER_NAME,W[u].get(A.ADAPTER)).set(i.Properties.ADCODE,I).set(i.Properties.SIZE,r.size).set(i.Properties.CREATIVE_ID,s.crid).set(i.Properties.CREATIVE_URL,M.iurl||"").set(i.Properties.PAGE_ID,s.pageId).set(i.Properties.DFP_SIZE,r.size).set(i.Properties.PROVIDER_COOKIE_ID,g).set(i.Properties.PROVIDER_CRID,y).set(i.Properties.NOBID_REASON,p).set(i.Properties.COOKIE_FLAG,T).set(i.Properties.COOKIE_SOURCE,S).set(i.Properties.CACHING_FLAG,s.prf).set(i.Properties.TEST_DATA,R).set(i.Properties.EXCHANGE_ID,m).set(i.Properties.PROVIDER_ACCOUNT_ID,d||"").set(i.Properties.PROVIDER_API_ID,a).set(i.Properties.LOGGING_PIXELS,w).set(i.Properties.LOAD_TIME,o).set(i.Properties.FINAL_BID,e.fb).set(i.Properties.EXTERNAL_UID,e.uid||"").set(i.Properties.CAMPAIGN_ID,M.cmpId||"").set(i.Properties.GOOGLE_BID,e.gbid||0).set(i.Properties.EXTERNAL_PLACEMENT_CODE,e.ext_placement_code).set(i.Properties.RESPONSE_TIME,M.responseTime||"").set(i.Properties.DATA_CENTER,M.dataCenter||"").set(i.Properties.RTBS_VERSION_2,n.isRtbsv2()).set(i.Properties.BIDDER_INFO_BIDDER_ID,M.providerBidderId||"").set(i.Properties.CATEGORY,U||"").set(i.Properties.BUYER_ID,M.buyerMemberId||"").set(i.Properties.BID_DATA,M.bidData||"").set(i.Properties.ADVERTISER_ID,M.brandId||"").set(i.Properties.ADVERTISER_URL,M.landingPageUrl||c.getDefaultAdvById(e.bidder_id)).set(i.Properties.ADVERTISER_NAME,M.advBrandName||"").set(i.Properties.TO_CONSIDER,G).set(i.Properties.TIMESTAMP,t.getCurrentTime()).set(i.Properties.WEB_SERVER_IP,M.serverId||"").set(i.Properties.DEAL_TYPE,"O").set(i.Properties.IS_COOKIE_ENABLED,N))}p=O(e,s,r.size),E=_.setPriceProperties(E,L),h.push(E.status(i.Status.NOBID).set(i.Properties.PLACEMENT_ID,s.code).set(i.Properties.IS_GUARANTEED_PLACEMENT,D).set(i.Properties.BIDDER_NAME,W[u].get(A.ADAPTER)).set(i.Properties.SIZE,r.size).set(i.Properties.BIDDER_ID,u).set(i.Properties.CREATIVE_ID,s.crid).set(i.Properties.PAGE_ID,s.pageId).set(i.Properties.TEST_DATA,R).set(i.Properties.EXCHANGE_ID,m).set(i.Properties.NOBID_REASON,p).set(i.Properties.PROVIDER_COOKIE_ID,g).set(i.Properties.PROVIDER_CRID,"").set(i.Properties.COOKIE_FLAG,T).set(i.Properties.RESPONSE_TIME,M.responseTime||"").set(i.Properties.DATA_CENTER,M.dataCenter||"").set(i.Properties.RTBS_VERSION_2,n.isRtbsv2()).set(i.Properties.COOKIE_SOURCE,S).set(i.Properties.TIMESTAMP,t.getCurrentTime()).set(i.Properties.WEB_SERVER_IP,M.serverId||"").set(i.Properties.TO_CONSIDER,G).set(i.Properties.LOAD_TIME,o).set(i.Properties.IS_COOKIE_ENABLED,N))}),r.setDominantBid(h),t.each(h,function(e,t,r){a(e,s.code,P&&r-t===1,r-t===1)})}function h(e){var t=e.prvid;return W[t]&&W[t].get(A.NO_BID_RESPONSE)||{}}function B(e,r){t.isSet(te[r])&&!t.isEmptyObject(te[r])&&(t.each(te[r],function(i,s){t.each(i,function(i,n){if(i===!1){var o=I.getProviderConfigById(s,n),d=h(o),a=t.clock.time("rtbsDataLoadTime"+r+o.crid+o.prvid);U(r,o.crid,o.prvid,!0),G(r),N(d,o,a,"",e,0===$[r])}})}),ee[r]=!1)}function L(e,r,i,s){t.clock.tock("rtbsDataLoadTime"+r+i.crid+i.prvid);var n=s.td||"",o=t.clock.time("rtbsDataLoadTime"+r+i.crid+i.prvid);U(r,i.crid,i.prvid,!0),G(r),N(s,i,o,n,e,0===$[r])}function M(e){var r={sizes:[],epc:[]},i=e.sizes;return t.isArray(i)&&i.length>0&&t.each(i,function(i){t.isSet(i.size)&&(r.sizes.push(i.size),r.epc.push(i.ext_pl_code||e.crid))}),r}function w(e){$[e]=$[e]||0,$[e]++}function G(e){t.isSet($[e])&&$[e]>0&&($[e]-=1)}function y(e){var t=M(e),r=(new u).set(u.Properties.CREATIVE_ID,e.crid).set(u.Properties.BIDDER_ID,e.prvid).set(u.Properties.SIZE,t.sizes.join(Z)).set(u.Properties.EXT_PUBLISHER_CODE,e.ext_pub_code||n.getCid()).set(u.Properties.EXT_PLACEMENT_CODE,t.epc.join(Z));return r}function U(e,t,r,i){te[e]=te[e]||{},te[e][t]=te[e][t]||{},te[e][t][r]=i}function V(e){var r=i.AuctionType.HEADER_BID,s=r+n.getBidRequestCount(),o=D.getRequestCollection(r);e.hb===!0&&(ee[s]||t.addToEventQueue("endOfStreamResponse",s,t.getProxy(B,[m,s])),w(s),U(s,e.crid,e.prvid,!1),o.add(y(e)),o.addResponseParser(e,t.getProxy(L,[m,s,e])))}function x(e){var r=i.AuctionType.CACHE,s=r+n.getBidRequestCount(),o=D.getRequestCollection(r);e.prf===!0&&(ee[s]||t.addToEventQueue("endOfStreamResponse",s,t.getProxy(B,[F(),s])),w(s),U(s,e.crid,e.prvid,!1),o.add(y(e)),o.addResponseParser(e,t.getProxy(L,[F(),s,e])))}function F(){return function(e,r,s){if(null!==e){var o=re[e.id()];if(e.set(i.Properties.AUCTION_TYPE,i.AuctionType.CACHE),e.set(i.Properties.PROVIDER_REQUEST_ID,n.getProviderRequestID(e.get(i.Properties.PAGE_ID),J,i.AuctionType.CACHE)),e.set(i.Properties.REFERRING_VISIT_ID,n.resolveMacros("%%VISIT_ID%%")),p.log(e,"prefetchBid"),o.addToCache(e),s)for(var d in re)re.hasOwnProperty(d)&&t.triggerEvent("pushToCache",d)}}}function H(e){if(t.isSet(W[e]))return W[e];var r=c.getById(e);return r.set(A.NO_BID_RESPONSE,{no_bid:!0,bidder_id:e,og_bid:0,adcode:null,nbc:Y}),W[e]=r,W[e]}function z(e){return"4"===e||"9"===e||"22"===e||"10000"===e}function X(e){if(t.isSet(re[e]))return re[e];var r=H(e);return re[e]=z(e)?(new g).config(r):(new S).config(r),P.registerAdapter(e,re[e]),re[e]}function Q(e,r){var i,s=X(r.prvid),n=e.code();return z(r.prvid)?(t.addToEventQueue("bid::external::head",n,t.getProxy(V,[r])),null):(x(r),i=s.getValidBidsStatusPerPlacement([n]),i[n]===!1&&t.addToEventQueue("bid::internal::head",n,t.getProxy(V,[r])),t.addToEventQueue("bid::internal::cache",n,t.getProxy(s.useBidsForProvider,[m,[r]])),i)}var Y=8,q=9,K=98,j=99,k="|",Z="~",J="mnet_stream",W={},$={},ee={},te={},re={};return t.inherits(g,a),t.inherits(S,a),{getStatusForPlacement:Q}});_mNDefine("testbidder-adapter",[window,"util","bidmanager","bid","entitymanager","bidder","mnetHbConsole","logmanager","placementmanager","providermanager","providerconst"],function(e,t,r,i,o,s,n,d,a,E,P){"use strict";function p(e,s,d){if(null!==e){n.event("Bid rcv for '"+s+"' from "+e.id());var a=e.get(i.Properties.PAGE_ID);t.addToEventQueue("auctionEnd",s,t.getProxy(T.handlePostAuctionClose,[],T)),t.addToEventQueue("secondWinner",s,t.getProxy(T.handlePostAuctionClose,[],T)),e.set(i.Properties.AUCTION_ID,o.getAuctionId(a,s)),e.set(i.Properties.AUCTION_TYPE,i.AuctionType.HEADER_BID),e.set(i.Properties.PROVIDER_RESPONSE_TYPE,i.AuctionType.HEADER_BID),e.set(i.Properties.PROVIDER_REQUEST_ID,o.getProviderRequestID(R.get(P.ADAPTER),i.AuctionType.HEADER_BID)),r.isAuctionClosedForAdUnitCode(s,a)?(e.status(e.status()===i.Status.SUCCESS?i.Status.RESPONSE_AFTER_AUCTION:i.Status.NOBID_AFTER_AUCTION),T.addLateResponse(e)):(r.addBidResponse(s,a,e),T.addForwardedResponse(e)),n.log(e,"bid",e.id(),s),d&&t.triggerEvent("endOfResponse",e.id(),!0)}}function u(e){var t=e.split("x");return'<!DOCTYPE html><html><head></head><body><style type="text/css">body { text-size-adjust:none; -webkit-text-size-adjust: none; }*{margin:0;padding:0}a{text-decoration:none;outline:none}a:hover{cursor:pointer; text-indent: 0}img{border:none}ul li{list-style:none}.clearfix:after{visibility: hidden;display:block;font-size: 0;content: " ";clear: both;height:0}* html .clearfix{zoom:1} *:first-child+html .clearfix{zoom:1} h1, h2, h3, h4, h5, h6 {font-weight: normal}body{background:#f4f4f4}h3{ font-family: arial; color: #000; font-size: 35px; text-align: center; height: '+t[1]+"px; line-height: "+t[1]+"px;}</style><h3>Media.net Creative</h3></body></html>"}function I(e,r){var o=e.length,s=t.getCookieFlag();t.each(e,function(e){o--;var n=a.getMaxSizeById(e.crid).join("x"),d=a.getGuaranteedFlag(e.crid),E="15.00";E=t.decimalLimit(E),r((new i).status(i.Status.SUCCESS).set(i.Properties.BIDDER_ID,R.id()).set(i.Properties.BIDDER_NAME,R.get(P.ADAPTER)).set(i.Properties.ADCODE,u(n)).set(i.Properties.SIZE,n).set(i.Properties.CPM,E).set(i.Properties.DFP_BID,E).set(i.Properties.CUSTOMER_BID_PRICE,"0").set(i.Properties.PLACEMENT_ID,e.code).set(i.Properties.IS_GUARANTEED_PLACEMENT,d).set(i.Properties.CREATIVE_ID,e.crid).set(i.Properties.PAGE_ID,e.pageId).set(i.Properties.DFP_SIZE,n).set(i.Properties.ORIGINAL_CPM,E).set(i.Properties.FIRST_ADJUSTMENT,0).set(i.Properties.SECOND_ADJUSTMENT,0).set(i.Properties.LOGGING_PIXELS,[]).set(i.Properties.EXTERNAL_PLACEMENT_CODE,e.crid).set(i.Properties.TIMESTAMP,t.getCurrentTime()).set(i.Properties.LOAD_TIME,0).set(i.Properties.IS_COOKIE_ENABLED,s),e.code,0===o)})}function c(e){var r=[];t.each(e,function(e){var t=a.getMaxSizeById(e.crid).join("x"),s=o.getAuctionId(e.pageId,e.code);r.push((new i).set(i.Properties.PLACEMENT_ID,e.code).set(i.Properties.BIDDER_NAME,R.get(P.ADAPTER)).set(i.Properties.BIDDER_ID,e.prvid).set(i.Properties.SIZE,t).set(i.Properties.CREATIVE_ID,e.crid).set(i.Properties.PAGE_ID,e.pageId).set(i.Properties.AUCTION_ID,s).set(i.Properties.AUCTION_TYPE,i.AuctionType.HEADER_BID).set(i.Properties.PROVIDER_REQUEST_ID,o.getProviderRequestID(e.pageId,R.get(P.ADAPTER),i.AuctionType.HEADER_BID)))}),d.fetchRequests.addArray(r)}function D(){c(h),I(h,p),h=[]}function A(e){return t.isSet(R)?R:R=E.getById(e)}function l(e){if(!t.isSet(T)){var r=A(e);return T=(new s).config(r)}}function g(e){e.hb===!0&&(0===h.length&&t.addToEventQueue("apiCallsSent","global",t.getProxy(D,[])),h.push(e))}function _(e,r){l(r.prvid);var i=e.code();return t.addToEventQueue("bid::default::head",i,t.getProxy(g,[r])),null}var T,R,h=[];return{getStatusForPlacement:_}});_mNDefine("rtbsprivatebidder-adapter",[window,"util","mnetHbConsole","config","bid","target","entitymanager","bidmanager","bidpricemanager","bidder","providermanager","placementmanager","logmanager","request","mnetrequestmanager","providerconst"],function(e,t,r,i,s,o,n,E,d,a,P,p,I,c,_,D){"use strict";function u(){a.call(this);var e=this;this.getTimeLinePixel=function(e){var r="";return r+=["&b",e.get(s.Properties.BIDDER_ID),"b","=",e.get(s.Properties.ORIGINAL_CPM)].join(""),(n.getTimelinePixel()+t.buildUrlParameters({url:"%%PUBLISHER%%",domain:"%%PUBLISHER_HOST%%",apid:2,size:e.get(s.Properties.SIZE),at:e.get(s.Properties.AUCTION_TYPE),auction_id:e.get(s.Properties.AUCTION_ID),ip:n.getUserIP(),crid:e.get(s.Properties.CREATIVE_ID),cid:"%%CID%%",dt:"%%DEVICE_TYPE%%",bc:e.get(s.Properties.ORIGINAL_CPM),cc:n.getCountryCode(),ext_user_id:e.get(s.Properties.EXTERNAL_UID),bname:"<cm_win_macro>"})+r).replace("<cm_win_macro>",t.buildUrlParameters({cmw:e.get(s.Properties.BIDDER_ID)}))},this.renderExternal=function(i,o,E,d,a){var P,p;if(p=n.require("thirdpartymanager").getBidForPlacementIdAndBidder(E,a,o)){P=p.get(s.Properties.ADCODE);try{if(P)return r.event("Ad rendered for "+p.get(s.Properties.PLACEMENT_ID)),!n.isSandboxEnabled()||t.isDocumentWritable?(i.document.open(),i.document.write(P),i.document.close()):(i.hbContent="<!DOCTYPE html><html><head></head><body>"+P+"</body></html>",i.location.replace('javascript:window["hbContent"];')),p.set(s.Properties.TIMELINE_PIXEL,e.getTimeLinePixel(p)),e.makeLoggingCalls(p),!0}catch(I){return!1}}return!1}}function T(){return void 0===Y&&(Y=n.require("adaptermanager")),Y}function A(e,r){return e.no_bid===!1&&e.og_bid&&t.isSet(e.adcode)&&!t.isEmptyObject(r)}function R(e,t){return e.size===t}function g(e,r){return R(e,r)?t.isSet(e.nbc)?e.nbc:q:e.nbc===w?w:e.bidderInfoBean&&e.bidderInfoBean.rstb&&e.no_bid===!1?X:t.isSet(e.nbc)?e.nbc:q}function C(e,r,i,a,I,c){var _,u,T=(e.bidder_id||r.prvid).toString(),C=p.getGuaranteedFlag(r.crid),S=K[T].get(D.TARGETING_BIDDER_NAME),O=e.uid||"",l=e.cs||"",N="",v="0",f=K[T].get(D.EXCHANGE_ID),m=t.getCookieFlag(),b=P.getTargetingKeysById(T),B=[];t.isSet(a)&&(N+=a),t.isSet(O)&&(v="1");var L=e.bidderInfoBean||{},h=L.ab,y=L.rstb?"1":"0",U=t.isSet(L.crid)?L.crid:"";t.isSet(h)&&(N=N+"|ab="+h),t.each(r.sizes,function(E){var a={adUnitParam:r||{}};if(u=new s,A(e,b)&&R(e,E.size)){_=g(e,E.size),a.ogbdp=e.og_bid;var p=e.logging_pixels||[];u=d.setPriceProperties(u,a);var I=L.category||"";t.isSet(I)&&t.isArray(I)&&(I=I.join("|"));var c=u.get(s.Properties.DFP_BID),h=e.dealid,M=t.isSet(h),G=e.ext_placement_code,V=e.at||(M?"P":"O"),F=(new o).set(b[o.Properties.BID_VALUE],c).set(b[o.Properties.EXTERNAL_PLACEMENT_CODE],G).set(b[o.Properties.SIZE],e.size).set(b[o.Properties.LOAD_TIME],i).set(b[o.Properties.DEAL_TYPE],V).set(o.Properties.MNET_PLACEMENT_ID,r.code).set(o.Properties.MNET_CUSTOMER_ID,n.getCid()).set(o.Properties.MNET_CREATIVE_ID,r.crid).set(o.Properties.DFP_SIZE,e.size);n.isTestModeForProvider(T)&&F.set(b[o.Properties.TEST],1),M&&F.set(b[o.Properties.DEAL_ID],h);var H=F.serialize();return void B.push(u.status(s.Status.SUCCESS).set(s.Properties.BIDDER_ID,T).set(s.Properties.BIDDER_NAME,S).set(s.Properties.ADCODE,e.adcode.replace(K[T].get(D.PRICE_MACRO),u.get(s.Properties.ORIGINAL_CPM))).set(s.Properties.SIZE,e.size).set(s.Properties.PLACEMENT_ID,r.code).set(s.Properties.IS_GUARANTEED_PLACEMENT,C).set(s.Properties.CREATIVE_ID,r.crid).set(s.Properties.THIRD_PARTY_TARGETS,H).set(s.Properties.LOGGING_PIXELS,p).set(s.Properties.PAGE_ID,r.pageId).set(s.Properties.DFP_SIZE,e.size).set(s.Properties.NOBID_REASON,_).set(s.Properties.TEST_DATA,N).set(s.Properties.PROVIDER_COOKIE_ID,O).set(s.Properties.PROVIDER_CRID,U).set(s.Properties.COOKIE_FLAG,v).set(s.Properties.COOKIE_SOURCE,l).set(s.Properties.EXTERNAL_UID,O).set(s.Properties.EXCHANGE_ID,f).set(s.Properties.CACHING_FLAG,x(r)).set(s.Properties.AUCTION_ID,n.getAuctionId(r.pageId,r.code)).set(s.Properties.EXTERNAL_BIDDER_TYPE,S).set(s.Properties.TIMESTAMP,t.getCurrentTime()).set(s.Properties.DEAL_ID,h||"").set(s.Properties.PROVIDER_ACCOUNT_ID,L.prvAccId||"").set(s.Properties.DEAL_TYPE,V).set(s.Properties.EXTERNAL_PLACEMENT_CODE,G).set(s.Properties.LOAD_TIME,i).set(s.Properties.RESPONSE_TIME,L.responseTime||"").set(s.Properties.DATA_CENTER,L.dataCenter||"").set(s.Properties.RTBS_VERSION_2,n.isRtbsv2()).set(s.Properties.ADVERTISER_ID,L.brandId||"").set(s.Properties.BUYER_ID,L.buyerMemberId||"").set(s.Properties.ADVERTISER_URL,L.landingPageUrl||P.getDefaultAdvById(T)).set(s.Properties.TO_CONSIDER,y).set(s.Properties.CATEGORY,I||"").set(s.Properties.WEB_SERVER_IP,L.serverId||"").set(s.Properties.BIDDER_INFO_BIDDER_ID,L.providerBidderId||"").set(s.Properties.ADVERTISER_NAME,L.advBrandName||"").set(s.Properties.IS_COOKIE_ENABLED,m))}a.ogbdp="0",_=g(e,E.size),u=d.setPriceProperties(u,a),B.push(u.status(s.Status.NOBID).set(s.Properties.BIDDER_ID,T).set(s.Properties.BIDDER_NAME,S).set(s.Properties.ADCODE,"").set(s.Properties.SIZE,E.size).set(s.Properties.PLACEMENT_ID,r.code).set(s.Properties.IS_GUARANTEED_PLACEMENT,C).set(s.Properties.CREATIVE_ID,r.crid).set(s.Properties.THIRD_PARTY_TARGETS,{}).set(s.Properties.PROVIDER_CRID,"").set(s.Properties.NOBID_REASON,_).set(s.Properties.COOKIE_FLAG,v).set(s.Properties.COOKIE_SOURCE,l).set(s.Properties.PAGE_ID,r.pageId).set(s.Properties.EXCHANGE_ID,f).set(s.Properties.AUCTION_ID,n.getAuctionId(r.pageId,r.code)).set(s.Properties.DEAL_ID,"").set(s.Properties.DEAL_TYPE,"").set(s.Properties.RESPONSE_TIME,L.responseTime||"").set(s.Properties.EXTERNAL_BIDDER_TYPE,S).set(s.Properties.TIMESTAMP,t.getCurrentTime()).set(s.Properties.WEB_SERVER_IP,L.serverId||"").set(s.Properties.DATA_CENTER,L.dataCenter||"").set(s.Properties.RTBS_VERSION_2,n.isRtbsv2()).set(s.Properties.TO_CONSIDER,y).set(s.Properties.LOAD_TIME,i).set(s.Properties.IS_COOKIE_ENABLED,m))}),E.setDominantBid(B),t.each(B,function(e,t,i){I(e,r.code,c&&i-t===1)})}function S(e){var t=e.prvid;return K[t]&&K[t].get(D.NO_BID_RESPONSE)||{}}function O(e,r){t.isSet(W[r])&&!t.isEmptyObject(W[r])&&(t.each(W[r],function(i,s){t.each(i,function(i,o){if(i===!1){var n=p.getProviderConfigById(s,o),E=S(n),d=t.clock.time("rtbsDataLoadTime"+r+n.crid+n.prvid);U(r,n.crid,n.prvid,!0),h(r),C(E,n,d,"",e,0===Z[r])}})}),Q=!1)}function l(e,r,i,s){t.clock.tock("rtbsDataLoadTime"+r+i.crid+i.prvid);var o=s.td||"",n=t.clock.time("rtbsDataLoadTime"+r+i.crid+i.prvid);U(r,i.crid,i.prvid,!0),h(r),C(s,i,n,o,e,0===Z[r])}function N(e,t){e.status()===s.Status.SUCCESS?(e.status(s.Status.RESPONSE_AFTER_AUCTION),e.get(s.Properties.CACHING_FLAG)&&J.push(e)):e.status(s.Status.NOBID_AFTER_AUCTION),t.addLateResponse(e)}function v(e,i,o){var d=e.get(s.Properties.PAGE_ID),a=e.get(s.Properties.PROVIDER_RESPONSE_TYPE)===s.AuctionType.CACHE,P=e.id(),p=$[e.id()];r.event("Bid rcv for '"+i+"' from "+P),e.set(s.Properties.AUCTION_ID,n.getAuctionId(d,i)),a||(e.set(s.Properties.AUCTION_TYPE,s.AuctionType.HEADER_BID),e.set(s.Properties.PROVIDER_RESPONSE_TYPE,s.AuctionType.HEADER_BID),e.set(s.Properties.PROVIDER_REQUEST_ID,n.getProviderRequestID(d,j,s.AuctionType.HEADER_BID))),E.isAuctionClosedForAdUnitCode(i,d)?N(e,p):(p.addForwardedResponse(e),E.addBidResponse(i,d,e)),r.log(e,"bid",e.id(),i),o&&(t.each($,function(e,r){t.triggerEvent("endOfResponse",r,!0,{cache:a})}),n.require("storagemanager").storeBidsForReuse(n.getPrefetchUrl(),J),J=[])}function f(){return function(e,i,o){if(null!==e){var E=$[e.id()];if(e.set(s.Properties.AUCTION_TYPE,s.AuctionType.CACHE),e.set(s.Properties.PROVIDER_REQUEST_ID,n.getProviderRequestID(e.get(s.Properties.PAGE_ID),j,s.AuctionType.CACHE)),e.set(s.Properties.REFERRING_VISIT_ID,n.resolveMacros("%%VISIT_ID%%")),r.log(e,"prefetchBid"),E.addToCache(e),o)for(var d in $)$.hasOwnProperty(d)&&t.triggerEvent("pushToCache",d)}}}function m(){var e;try{var r=n.getCustomUtilityWrapper();t.isSet(r)&&t.isFunction(r.getSlotId)&&(e=r.getSlotId())}catch(i){e=null}return e}function b(e,r){return t.isSet(e.ext_pl_code)?e.ext_pl_code:m()||r.crid}function B(e){var r={sizes:[],epc:[]},i=e.sizes;return t.isArray(i)&&i.length>0&&t.each(i,function(i){t.isSet(i.size)&&(r.sizes.push(i.size),r.epc.push(b(i,e)))}),r}function L(e){Z[e]=Z[e]||0,Z[e]++}function h(e){t.isSet(Z[e])&&Z[e]>0&&(Z[e]-=1)}function y(e){var r,i=B(e);try{var s=n.getCustomUtilityWrapper();t.isSet(s)&&t.isFunction(s.getSlotData)&&(r=s.getSlotData(e))}catch(o){}t.isArray(r)&&r.length>0&&(r=r.join(k));var E=(new c).set(c.Properties.CREATIVE_ID,e.crid).set(c.Properties.BIDDER_ID,e.prvid).set(c.Properties.SIZE,i.sizes.join(k)).set(c.Properties.EXT_PUBLISHER_CODE,e.ext_pub_code||n.getCid()).set(c.Properties.EXT_PLACEMENT_CODE,r||i.epc.join(k));return E}function U(e,t,r,i){W[e]=W[e]||{},W[e][t]=W[e][t]||{},W[e][t][r]=i}function M(e){var r=s.AuctionType.HEADER_BID,i=r+n.getBidRequestCount(),o=_.getRequestCollection(r,e.prvid);e.hb===!0&&(Q[i]||t.addToEventQueue("endOfStreamResponse",i,t.getProxy(O,[v,i])),L(i),U(i,e.crid,e.prvid,!1),o.add(y(e)),o.addResponseParser(e,t.getProxy(l,[v,i,e])))}function G(e){var r=s.AuctionType.CACHE,i=r+n.getBidRequestCount(),o=_.getRequestCollection(r,e.prvid);e.prf===!0&&(Q[i]||t.addToEventQueue("endOfStreamResponse",i,t.getProxy(O,[f(),i])),L(i),U(i,e.crid,e.prvid,!1),o.add(y(e)),o.addResponseParser(e,t.getProxy(l,[f(),i,e])))}function V(e){if(t.isSet(K[e]))return K[e];var r=P.getById(e);return r.set(D.TARGETING_BIDDER_NAME,P.getTargetingBidderName(e)),r.set(D.NO_BID_RESPONSE,{no_bid:!0,bidder_id:e,og_bid:0,adcode:null,nbc:w}),K[e]=r,K[e]}function F(e){if(t.isSet($[e]))return $[e];var r=V(e);return $[e]=(new u).config(r),T().registerAdapter(e,$[e]),$[e]}function H(e){var r=n.require("bidreusemanager");t.isSet(r)&&n.isTPCacheOn()&&t.isSet(e.cache)&&e.cache===!0&&r.addBidReuseParams(e)}function x(e){return t.isSet(e.cache)&&e.cache===!0||t.isSet(e.prf)&&e.prf===!0}function z(e,r){var i,s=F(r.prvid),o=n.isForceCacheEnabled(),E=e.code();return H(r),G(r),i=s.getValidBidsStatusPerPlacement([E]),(o||i[E]===!0)&&x(r)?t.addToEventQueue("bid::external::cache",E,t.getProxy(s.useBidsForProvider,[v,[r]])):t.addToEventQueue("bid::external::head",E,t.getProxy(M,[r])),null}var Y,w=8,X=98,q=99,j="mnet_stream",K={},Z={},k="~",Q={},W={},J=[],$={};return t.inherits(u,a),{getStatusForPlacement:z}});_mNDefine("facebookv2bidder-adapter",[window,document,"util","bidmanager","thirdpartymanager","entitymanager","config","bid","logmanager","providermanager","bidpricemanager","providerconst","placementmanager"],function(e,a,t,r,n,i,o,s,d,c,f,u,p){"use strict";function m(){var e=new s;return e.set(s.Properties.BIDDER_ID,U.id()).set(s.Properties.BIDDER_NAME,j).set(s.Properties.EXTERNAL_BIDDER_TYPE,j).set(s.Properties.EXCHANGE_ID,U.get(u.EXCHANGE_ID)).set(s.Properties.TIMESTAMP,t.getCurrentTime()),e}function l(e){var a=m(),r=t.getCookieFlag(),n=p.getGuaranteedFlag(e.crid);return a.set(s.Properties.SIZE,e.sizes[0].size).set(s.Properties.PLACEMENT_ID,e.code).set(s.Properties.IS_GUARANTEED_PLACEMENT,n).set(s.Properties.CREATIVE_ID,e.crid).set(s.Properties.PAGE_ID,e.pageId).set(s.Properties.AUCTION_ID,i.getAuctionId(e.pageId,e.code)).set(s.Properties.PROVIDER_REQUEST_ID,i.getProviderRequestID(e.pageId,U.get(u.ADAPTER),s.AuctionType.HEADER_BID)).set(s.Properties.AUCTION_TYPE,s.AuctionType.HEADER_BID).set(s.Properties.PROVIDER_RESPONSE_TYPE,s.AuctionType.HEADER_BID).set(s.Properties.EXTERNAL_PLACEMENT_CODE,e.sizes[0].ext_pl_code).set(s.Properties.PROVIDER_ACCOUNT_ID,e.sizes[0].ext_pl_code).set(s.Properties.IS_COOKIE_ENABLED,r),a}function g(e){var a=l(e),t={adUnitParam:e||{},ogbdp:"0"};return a=f.setPriceProperties(a,t),a.set(s.Properties.ADCODE,"").set(s.Properties.THIRD_PARTY_TARGETS,{}),a}function h(){return i.isFbV5TestEnabled()&&i.isAmpRequest()}function E(){var e="<script>";return e+=h()?'(function(a,b,c){var d="https://www.facebook.com",e="https://connect.facebook.net/en_US/fbadnw55.js",f={iframeLoaded:true,xhrLoaded:true},g=5,h=a.data,i=0,j=function(ea){if(ea==null)throw new Error();return ea;},k=function(ea){if(ea instanceof HTMLElement)return ea;throw new Error();},l=function(){if(Date.now){return Date.now();}else return +new Date();},m=function(ea){if(++i>g)return;var fa=d+"/audience_network/client_event",ga={cb:l(),event_name:"ADNW_ADERROR",ad_pivot_type:"audience_network_mobile_web",sdk_version:"5.5.web",app_id:h.placementid.split("_")[0],publisher_id:h.placementid.split("_")[1],error_message:ea},ha=[];for(var ia in ga)ha.push(encodeURIComponent(ia)+"="+encodeURIComponent(ga[ia]));var ja=fa+"?"+ha.join("&"),ka=new XMLHttpRequest();ka.open("GET",ja,true);ka.send();},n=function(){if(b.currentScript){return b.currentScript;}else{var ea=b.getElementsByTagName("script");return ea[ea.length-1];}},o=function(ea){try{return ea.document.referrer;}catch(fa){}return "";},p=function(){var ea=a,fa=[ea];try{while(ea!==ea.parent&&ea.parent.document)fa.push(ea=ea.parent);}catch(ga){}return fa.reverse();},q=function(){var ea=p();for(var fa=0;fa<ea.length;fa++){var ga=ea[fa],ha=ga.ADNW||{};ga.ADNW=ha;if(!ga.ADNW)continue;return ha.v55=ha.v55||{ads:[],window:ga};}throw new Error("no_writable_global");},r=function(ea){var fa=ea.indexOf("/",ea.indexOf("://")+3);if(fa===-1)return ea;return ea.substring(0,fa);},s=function(ea){return ea.location.href||o(ea);},t=function(ea){if(ea.sdkLoaded)return;var fa=ea.window.document,ga=fa.createElement("iframe");ga.name="fbadnw";ga.style.display="none";j(fa.body).appendChild(ga);ga.contentWindow.addEventListener("error",function(event){m(event.message);},false);var ha=ga.contentDocument.createElement("script");ha.src=e;ha.async=true;j(ga.contentDocument.body).appendChild(ha);ea.sdkLoaded=true;},u=function(ea){var fa=/^https?:\\/\\/www\\.google(\\.com?)?.\\w{2,3}$/;return !!ea.match(fa);},v=function(ea){return ea.endsWith("cdn.ampproject.org");},w=function(){var ea=c.ancestorOrigins||[],fa=ea[ea.length-1]||c.origin,ga=ea[ea.length-2]||c.origin;if(u(fa)&&v(ga)){return r(ga);}else return r(fa);},x=function(ea){try{return JSON.parse(ea);}catch(fa){m(fa.message);return null;}},y=function(ea,fa,ga){if(!ea.iframe){var ha=ga.createElement("iframe");ha.src=d+"/audiencenetwork/iframe/";ha.style.display="none";j(ga.body).appendChild(ha);ea.iframe=ha;ea.iframeAppendedTime=l();ea.iframeData={};}fa.iframe=j(ea.iframe);fa.iframeData=ea.iframeData;fa.tagJsIframeAppendedTime=ea.iframeAppendedTime||0;},z=function(ea){var fa=d+"/audiencenetwork/xhr/?sdk=5.5.web";for(var ga in ea)if(typeof ea[ga]!=="function")fa+="&"+ga+"="+encodeURIComponent(ea[ga]);var ha=new XMLHttpRequest();ha.open("GET",fa,true);ha.withCredentials=true;ha.onreadystatechange=function(){if(ha.readyState===4){var ia=x(ha.response);if(ia)ea.events.push({name:"xhrLoaded",source:ea.iframe.contentWindow,data:ia,postMessageTimestamp:l(),receivedTimestamp:l()});}};ha.send();},aa=function(ea,fa){var ga=d+"/audiencenetwork/xhriframe/?sdk=5.5.web";for(var ha in fa)if(typeof fa[ha]!=="function")ga+="&"+ha+"="+encodeURIComponent(fa[ha]);var ia=b.createElement("iframe");ia.src=ga;ia.style.display="none";j(b.body).appendChild(ia);fa.iframe=ia;fa.iframeData={};fa.tagJsIframeAppendedTime=l();},ba=function(ea){var fa=function(event){try{var ha=event.data;if(ha.name in f)ea.events.push({name:ha.name,source:event.source,data:ha.data});}catch(ia){}},ga=j(ea.iframe).contentWindow.parent;ga.addEventListener("message",fa,false);},ca=function(ea){if(ea.context&&ea.context.sourceUrl)return true;try{return !!JSON.parse(decodeURI(ea.name)).ampcontextVersion;}catch(fa){return false;}},da=function(ea){var fa=l(),ga=p()[0],ha=k(n().parentElement),ia=ga!=a.top,ja=ga.$sf&&ga.$sf.ext,ka=s(ga),la=q();t(la);var ma={amp:ca(ga),events:[],tagJsInitTime:fa,rootElement:ha,iframe:null,tagJsIframeAppendedTime:la.iframeAppendedTime||0,url:ka,domain:w(),channel:r(s(ga)),width:screen.width,height:screen.height,pixelratio:a.devicePixelRatio,placementindex:la.ads.length,crossdomain:ia,safeframe:!!ja,placementid:h.placementid,format:h.format||"300x250",testmode:!!h.testmode,onAdLoaded:h.onAdLoaded,onAdError:h.onAdError};if(h.bidid)ma.bidid=h.bidid;if(ia){aa(la,ma);}else{y(la,ma,ga.document);z(ma);}ba(ma);ma.rootElement.dataset.placementid=ma.placementid;la.ads.push(ma);};try{da();}catch(ea){m(ea.message||ea);throw ea;}})(window,document,location);<\/script>':'(function(w,l,d,t){var a=t();var b=d.currentScript||(function(){var c=d.getElementsByTagName("script");return c[c.length-1];})();var e=b.parentElement;e.dataset.placementid=data.placementid;var f=function(v){try{return v.document.referrer;}catch(e){}return"";};var g=function(h){var i=h.indexOf("/",h.indexOf("://")+3);if(i===-1){return h;}return h.substring(0,i);};var j=[l.href];var k=false;var m=false;if(w!==w.parent){var n;var o=w;while(o!==n){var h;try{m=m||(o.$sf&&o.$sf.ext);h=o.location.href;}catch(e){k=true;}j.push(h||f(n));n=o;o=o.parent;}}var p=l.ancestorOrigins;if(p){if(p.length>0){data.domain=p[p.length-1];}else{data.domain=g(j[j.length-1]);}}data.url=j[j.length-1];data.channel=g(j[0]);data.width=screen.width;data.height=screen.height;data.pixelratio=w.devicePixelRatio;data.placementindex=w.ADNW&&w.ADNW.Ads?w.ADNW.Ads.length:0;data.crossdomain=k;data.safeframe=!!m;var q={};q.iframe=e.firstElementChild;var r="https://www.facebook.com/audiencenetwork/web/?sdk=5.3";for(var s in data){q[s]=data[s];if(typeof(data[s])!=="function"){r+="&"+s+"="+encodeURIComponent(data[s]);}}q.iframe.src=r;q.tagJsInitTime=a;q.rootElement=e;q.events=[];w.addEventListener("message",function(u){if(u.source!==q.iframe.contentWindow){return;}u.data.receivedTimestamp=t();if(this.sdkEventHandler){this.sdkEventHandler(u.data);}else{this.events.push(u.data);}}.bind(q),false);q.tagJsIframeAppendedTime=t();w.ADNW=w.ADNW||{};w.ADNW.Ads=w.ADNW.Ads||[];w.ADNW.Ads.push(q);w.ADNW.init&&w.ADNW.init(q);})(window,location,document,Date.now||function(){return+new Date;});<\/script><script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw.js" async><\/script>'}function v(e,a){var t=i.isTestModeForProvider(U.id())?"true":"false",r='<div style="display:none; position: relative;"><iframe style="display:none;"></iframe><script type="text/javascript">var data = {placementid: "'+e.placement_id+'",format: "'+a+'",bidid: "'+e.bid_id+'",testmode: '+t+',onAdLoaded: function(element) {console.log("Audience Network ['+e.placement_id+'] ad loaded");element.style.display = "block";},onAdError: function(errorCode, errorMessage) {console.log("Audience Network ['+e.placement_id+'] error (" + errorCode + ") " + errorMessage);}};<\/script>'+E()+"</div>";return r}function A(e,a){var r=e.sizes[0].size,n=D(a).cpm,d=e.sizes[0].ext_pl_code,c=l(e),p={adUnitParam:e||{},ogbdp:n};c=f.setPriceProperties(c,p);var m,g=c.get(s.Properties.DFP_BID),h={mnet_fbcpm:g,mnet_fbbd:g,mnet_fblt:t.clock.time("facebook"),mnet_fbsz:r};return h[o.bidderExTargetParams.PLACEMENT_ID]=e.code,h[o.bidderExTargetParams.CREATIVE_ID]=e.crid,h[o.bidderExTargetParams.CUSTOMER_ID]=i.getCid(),m=d.split("_")[0],c.status(s.Status.SUCCESS).set(s.Properties.ADCODE,v(a,r,m)).set(s.Properties.THIRD_PARTY_TARGETS,h).set(s.Properties.DFP_SIZE,r).set(s.Properties.LOAD_TIME,t.clock.time("facebook")).set(s.Properties.ADVERTISER_URL,U.get(u.DEFAULT_ADV_DOMAIN)),c}function _(e){var a,t;return a=JSON.parse(e),t=a.bids||{}}function D(e){var a={valid:!1,cpm:0};if(!t.isSet(e))return a;var r=parseFloat(e.bid_price_cents||0)/100;return 0>=r?a:(a.valid=!0,a.cpm=t.decimalLimit(r),a)}function P(e,a){var r=e.length;t.each(e,function(e,t){var n=g(e);n.status(s.Status.ERROR),a(n,e.code,r-t===1)})}function w(e,a,r){t.clock.tock("facebook");var n=e.length;try{var i=_(r);t.each(e,function(e,t){var r,o=e.sizes[0].ext_pl_code;i&&i[o]&&i[o][0]&&D(i[o][0]).valid?r=A(e,i[o][0]):(r=g(e),r.status(s.Status.NOBID)),a(r,e.code,n-t===1)})}catch(o){P(e,a)}}function I(e){e.status(e.status()===s.Status.SUCCESS?s.Status.RESPONSE_AFTER_AUCTION:s.Status.NOBID_AFTER_AUCTION),B.push(e),M.push(e)}function b(){d.hbRequests.addArray(z),d.hbRequests.addArray(M),z=[],M=[]}function T(e,a,t){var n=e.get(s.Properties.PAGE_ID);r.isAuctionClosedForAdUnitCode(a,n)?I(e,t):(L.push(e),z.push(e),r.addBidResponse(a,n,e)),t&&b()}function R(e){var a=[];t.each(e,function(e){var r=i.getAuctionId(e.pageId,e.code);t.isArray(e.sizes)&&e.sizes.length>0&&t.each(e.sizes,function(n){t.isSet(n.size)&&a.push((new s).set(s.Properties.PLACEMENT_ID,e.code).set(s.Properties.BIDDER_NAME,j).set(s.Properties.SIZE,n.size).set(s.Properties.BIDDER_ID,e.prvid).set(s.Properties.CREATIVE_ID,e.crid).set(s.Properties.PAGE_ID,e.pageId).set(s.Properties.AUCTION_ID,r).set(s.Properties.AUCTION_TYPE,s.AuctionType.HEADER_BID).set(s.Properties.PROVIDER_REQUEST_ID,i.getProviderRequestID(e.pageId,U.get(u.ADAPTER),s.AuctionType.HEADER_BID)))})}),d.fetchRequests.addArray(a)}function y(){return h()?"5.5.web":"5.3.web"}function S(e){var a="sdk="+y();return t.each(e,function(e){a+=t.getQueryParamString("placementids[]",e.sizes[0].ext_pl_code),a+=t.getQueryParamString("adformats[]",e.sizes[0].size)}),i.isTestModeForProvider(U.id())&&(a+=t.getQueryParamString("testmode","true")),a+=t.getQueryParamString("pageurl",t.encodeParam(i.getPublisherUrlFD())),o.defaultBidderSetting.facebookv2bidder.bidApiUrl+"?"+a}function N(e,a,r){var n={};n.onload=a,n.onerror=r,t.createCORSRequest("GET",e,n)}function k(e){if(!t.isSet(U)){var a=e.prvid,r=c.getById(a);t.isSet(r)&&(U=r)}}function C(){return t.isJSONSupported()?(t.clock.tick("facebook"),N(S(q),t.getProxy(w,[q,T]),t.getProxy(P,[q,T])),R(q),void(q=[])):void t.each(q,function(e){i.setTestDataForPlacement(e.code,"facebookdisabled=true")})}function x(e){e.hb===!0&&t.isArray(e.sizes)&&e.sizes.length>0&&t.isSet(e.sizes[0].size)&&t.isSet(e.sizes[0].ext_pl_code)&&(0===q.length&&t.addToEventQueue("apiCallsSent","global",t.getProxy(C,[])),q.push(e))}function O(e,a){k(a);var r=e.code();return t.addToEventQueue("bid::external::head",r,t.getProxy(x,[a])),null}var U,L=[],j="facebookbidder",z=[],q=[],M=[],B=[];return{getStatusForPlacement:O}});_mNDefine("pubmaticbidder-adapter",[window,document,"util","bidmanager","entitymanager","config","bid","logmanager","mnetHbConsole","providermanager","bidpricemanager","providerconst","placementmanager"],function(e,t,i,s,r,o,a,p,d,c,E,n,P){"use strict";function _(e){var t={valid:!1,cpm:0};if(!i.isSet(e))return t;var s=parseFloat(e.bid||0);return 0>=s?t:(t.valid=!0,t.cpm=i.decimalLimit(s),t)}function u(){var t,s,r=e.progKeyValueMap||{},o={};return i.each(r,function(e,r){s={},t=e.split(";"),s[t[0]]=t[1],s[t[2]]=t[3],s[t[4]]=t[5],i.isSet(t[6])&&i.isSet(t[7])&&(s[t[6]]=t[7]),i.isSet(s.bidstatus)&&"1"===s.bidstatus&&i.isSet(s.bid)&&i.isSet(s.bidid)&&(o[r]=s)}),o}function A(t){var s,r;try{r=e._mNRequire(["customutil"])[0]}catch(o){}return i.isSet(r)&&i.isFunction(r.getPubmaticData)&&(s=r.getPubmaticData(t)),i.isSet(s)||(s=t.sizes[0].ext_pl_code||t.code),s=s+"@"+t.sizes[0].size}function I(){return o.defaultBidderSetting.pubmaticbidder.bidApiUrl}function D(e,t){i.clock.tock("pubmatic");var s,p,d,c,I=u(),D=i.getCookieFlag();i.each(e,function(e,u,T){var g=new a,S={},m=P.getGuaranteedFlag(e.crid);return S.adUnitParam=e,d=A(e),s=I[d],_(s).valid?(c=_(s).cpm,S.ogbdp=c,g=E.setPriceProperties(g,S),p={mnet_pbs:s.bidstatus,mnet_pbid:g.get(a.Properties.DFP_BID),mnet_pbdid:s.bidid,mnet_plt:i.clock.time("pubmatic"),mnet_psz:e.sizes[0].size},s.wdeal?(p.mnet_pat="P",p.mnet_pdi=s.wdeal):p.mnet_pat="O",p[o.bidderExTargetParams.PLACEMENT_ID]=e.code,p[o.bidderExTargetParams.CREATIVE_ID]=e.crid,p[o.bidderExTargetParams.CUSTOMER_ID]=r.getCustomerId(),void t(g.status(a.Status.SUCCESS).set(a.Properties.BIDDER_ID,v.id()).set(a.Properties.BIDDER_NAME,v.get(n.ADAPTER)).set(a.Properties.ADCODE,C(s.bidid)).set(a.Properties.SIZE,e.sizes[0].size).set(a.Properties.PLACEMENT_ID,e.code).set(a.Properties.IS_GUARANTEED_PLACEMENT,m).set(a.Properties.CREATIVE_ID,e.crid).set(a.Properties.THIRD_PARTY_TARGETS,p).set(a.Properties.PAGE_ID,e.pageId).set(a.Properties.EXCHANGE_ID,v.get(n.EXCHANGE_ID)).set(a.Properties.DFP_SIZE,e.sizes[0].size).set(a.Properties.AUCTION_ID,r.getAuctionId(e.pageId,e.code)).set(a.Properties.PUBMATIC_BID_STATUS,s.bidstatus).set(a.Properties.PUBMATIC_AD_SLOT_NAME,s.bidid).set(a.Properties.EXTERNAL_BIDDER_TYPE,v.get(n.ADAPTER)).set(a.Properties.DEAL_TYPE,i.isSet(s.wdeal)?"P":"O").set(a.Properties.DEAL_ID,s.wdeal||"").set(a.Properties.ADVERTISER_URL,v.get(n.DEFAULT_ADV_DOMAIN)).set(a.Properties.TIMESTAMP,i.getCurrentTime()).set(a.Properties.LOAD_TIME,i.clock.time("pubmatic")).set(a.Properties.IS_COOKIE_ENABLED,D),e.code,u===T-1)):(S.ogbdp=0,g=E.setPriceProperties(g,S),void t(g.status(a.Status.NOBID).set(a.Properties.BIDDER_ID,v.id()).set(a.Properties.BIDDER_NAME,v.get(n.ADAPTER)).set(a.Properties.ADCODE,"").set(a.Properties.SIZE,e.sizes[0].size).set(a.Properties.PLACEMENT_ID,e.code).set(a.Properties.EXCHANGE_ID,v.get(n.EXCHANGE_ID)).set(a.Properties.IS_GUARANTEED_PLACEMENT,m).set(a.Properties.CREATIVE_ID,e.crid).set(a.Properties.THIRD_PARTY_TARGETS,{}).set(a.Properties.PAGE_ID,e.pageId).set(a.Properties.AUCTION_ID,r.getAuctionId(e.pageId,e.code)).set(a.Properties.TIMESTAMP,i.getCurrentTime()).set(a.Properties.LOAD_TIME,i.clock.time("pubmatic")).set(a.Properties.IS_COOKIE_ENABLED,D),e.code,u===T-1))})}function T(e){e.status(e.status()===a.Status.SUCCESS?a.Status.RESPONSE_AFTER_AUCTION:a.Status.NOBID_AFTER_AUCTION),B.push(e),h.push(e)}function g(e,t,i){var o=e.get(a.Properties.PAGE_ID);d.event("Bid rcv for '"+t+"' from "+e.id()),e.set(a.Properties.AUCTION_TYPE,a.AuctionType.HEADER_BID),e.set(a.Properties.PROVIDER_RESPONSE_TYPE,a.AuctionType.HEADER_BID),e.set(a.Properties.PROVIDER_REQUEST_ID,r.getProviderRequestID(o,v.get(n.ADAPTER),a.AuctionType.HEADER_BID)),s.isAuctionClosedForAdUnitCode(t,o)?T(e):(O.push(e),f.push(e),s.addBidResponse(t,o,e)),d.log(e,"bid",e.id(),t),i&&(p.hbRequests.addArray(f),p.hbRequests.addArray(h),f=[],h=[])}function S(e){var t=[];i.each(e,function(e){var s=r.getAuctionId(e.pageId,e.code);i.isArray(e.sizes)&&e.sizes.length>0&&i.each(e.sizes,function(o){i.isSet(o.size)&&t.push((new a).set(a.Properties.PLACEMENT_ID,e.code).set(a.Properties.BIDDER_NAME,v.get(n.ADAPTER)).set(a.Properties.SIZE,o.size).set(a.Properties.BIDDER_ID,e.prvid).set(a.Properties.CREATIVE_ID,e.crid).set(a.Properties.PAGE_ID,e.pageId).set(a.Properties.AUCTION_ID,s).set(a.Properties.AUCTION_TYPE,a.AuctionType.HEADER_BID).set(a.Properties.PROVIDER_REQUEST_ID,r.getProviderRequestID(e.pageId,v.get(n.ADAPTER),a.AuctionType.HEADER_BID)))})}),p.fetchRequests.addArray(t)}function m(){var t=[];i.each(N,function(e){t.push(A(e))}),i.clock.tick("pubmatic"),e.advBidxc.pubmaticCallback=i.getProxy(D,[N,g]),e.pm_optimize_adslots=t,e.pm_pub_id=N[0].ext_pub_code,e.pm_async_callback_fn="window.advBidxc.pubmaticCallback",i.loadScript(I()),S(N),N=[]}function R(e){e.hb===!0&&i.isArray(e.sizes)&&e.sizes.length>0&&i.isSet(e.sizes[0].size)&&i.isSet(e.sizes[0].ext_pl_code)&&(0===N.length&&i.addToEventQueue("apiCallsSent","global",i.getProxy(m,[])),N.push(e))}function l(e){if(!i.isSet(v)){var t=e.prvid,s=c.getById(t);i.isSet(s)&&(v=s)}}function b(e,t){l(t);var s=e.code();return i.addToEventQueue("bid::external::head",s,i.getProxy(R,[t])),null}function C(e){var t='<script type="text/javascript" src="'+("https:"===location.protocol?"https:":"http:")+'//ads.pubmatic.com/AdServer/js/gshowad.js"><\/script><script type="text/javascript">try{PubMaticGrouped.displayCreative("{{PUBMATIC_SLOT_NAME}}");}catch (e){var pbError = 1}<\/script>';return t=t.replace("{{PUBMATIC_SLOT_NAME}}",e)}var v,N=[],O=[],f=[],B=[],h=[];return{getStatusForPlacement:b}});_mNDefine("antiadblock",["_mNRP","util","config","bid","entitymanager","bidmanager","bidpricemanager","placementmanager","providermanager","adaptermanager","logmanager","dfpmanager","providerconst","antiadblockdetect"],function(e,t,i,o,r,n,s,a,d,c,g,l,p,m){"use strict";function u(){var e=r.getCustomUtilityWrapper();t.isSet(e)&&t.isFunction(e.executeAntiAdBlockCustomCode)&&e.executeAntiAdBlockCustomCode()}function y(){window.advBidxc.adBlockDetected=!0,r.setGetIsAdBlockDetected(1),u(),I(),P()}function f(e,i,o){var n={logid:"kfk",evtid:"l1log",cid:r.getCustomerId(),crid:i,pvid:o,requrl:t.encodeParam(r.getPublisherUrl()),r:(new Date).getTime()},s=t.buildUrlParameters(n),a="https:"==document.location.protocol,d=a?"https:":"http:",c=a?"qsearch-a.akamaihd.net":"qsearch.media.net",g=d+"//"+c+"/log?"+s,l='<script type="text/javascript">(new Image()).src = "'+g+'";<\/script>';return e.replace(/<BODY>/i,"<BODY>"+l)}function P(i){if(l.hasDFPLoaded()){var o,r,n,s=a.getAllPlacementsForProvider(b);t.each(s,function(s,d){if(r=a.getCodeForId(d),o=l.findSlot(r,l.needsInfiniteScroll()),o&&"function"==typeof o.getSlotElementId&&(n=o.getSlotElementId(),(C[n]!==!0||i)&&l.validateDFPSizes(o,r))){var c=document.getElementById(n);if(!c)return;for(var g,p,m=c.getElementsByTagName("iframe"),u=m.length;u--;)if("hidden"!==m[u].style.visibility&&"none"!==m[u].style.display){if(m[u].src&&-1!==m[u].src.toLowerCase().indexOf("googlesyndication.com"))break;g=t.getIframeDoc(m[u]),p=g[0]&&(g[0].body||g[0].getElementsByTagName("body")[0]),p&&0==p.children.length&&(C[n]=!0,w(d,c,m,u,n,s),e.execSafe(_,c,n))}}})}}function w(e,i,r,n,s,a){var d=h(e,a,s),c=d.get(o.Properties.ADCODE);i.style.cssText=(i.style.cssText||"")+";display:block !important;",r[n].style.cssText=(r[n].style.cssText||"")+";display:inline !important;",t.each(i.getElementsByTagName("div"),function(e){e.style.cssText=(e.style.cssText||"")+";display:block !important;"}),t.writeContentInIframe(r[n],c),g.auctionWinner.dispatchDirectWinner(d)}function _(e,i){for(var o=e.parentNode;o&&(1==o.nodeType&&"none"==t.getElementStyle(o,"display")&&(o.style.cssText=(o.style.cssText||"")+";display:block !important;"),"body"!=o.nodeName.toLowerCase());)o=o.parentNode;t.isSet(x)&&t.isFunction(x.execAfterSlotRender)&&x.execAfterSlotRender(i)}function D(e,i,o,s,a,d){var c=a.sizes[0].size,g=c.split("x")[0],l=c.split("x")[1],p="",m=a.sizes[0].ext_pl_code,u=a.ext_pub_code,y=r.needsHttpsSupport();t.isSet(d)&&(p=r.getAuctionId(n.getCurrentPage(),d.code()));var P='<!DOCTYPE html><HTML><HEAD></HEAD><BODY><script id="mNCC" language="javascript">medianet_versionId = \'111299\';medianet_width = \''+g+"';medianet_height = '"+l+"';medianet_crid = '"+m+"';medianet_requrl= '"+t.encodeParam(r.getPublisherUrl())+"';medianet_chnm2= '"+i+"';medianet_chnm3= '"+o+"';medianet_bdrId= '"+e.id()+"';medianet_sbdrId= '"+s+"';medianet_auctionid= '"+p+"';(function() {var isSSL = "+y+";var mnSrc = (isSSL ? 'https:' : 'http:') + '//contextual.media.net/nmedianet.js?cid="+u+"' + (isSSL ? '&https=1' : '');document.write('<scr' + 'ipt type=\"text/javascript\" id=\"mNSC\" src=\"' + mnSrc + '\"></scr' + 'ipt>');})();<\/script></BODY></HTML>";return P=f(P,o,e.id())}function h(e,i,d){var c=a.getById(e),g=D(S,r.getCustomerId(),e,"antiAd",i,c),l={ogbdp:T},m=s.setPriceProperties(new o,l);return m.status(o.Status.NOBID).set(o.Properties.PLACEMENT_ID,c.code()).set(o.Properties.BIDDER_ID,S.id()).set(o.Properties.BIDDER_NAME,S.get(p.NAME)).set(o.Properties.SIZE,i.sizes[0].size).set(o.Properties.CREATIVE_ID,e).set(o.Properties.ADCODE,g).set(o.Properties.PAGE_ID,n.getCurrentPage()).set(o.Properties.MNET_CRID,i.sizes[0].ext_pl_code).set(o.Properties.PROVIDER_NAME,S.get(p.NAME)).set(o.Properties.PROVIDER_ACCOUNT_ID,i.sizes[0].ext_pl_code).set(o.Properties.PROVIDER_API_ID,i.ext_pub_code).set(o.Properties.DFP_DIV_ID,d).set(o.Properties.TIMESTAMP,t.getCurrentTime())}function I(){window.googletag&&window.googletag.cmd||(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[]),t.isArray(window.googletag.cmd)?(window.googletag.cmd.unshift(A),window.googletag.cmd.unshift(v)):(window.googletag.cmd.push(A),window.googletag.cmd.push(v))}function A(){var e=window.googletag.display,i=function(){try{var i=Array.prototype.slice.call(arguments),o=t.getProxy(e,i,this);if(!t.isArray(i)||!t.isStringSet(i[0]))return;o(),P()}catch(r){}};window.googletag.display=i}function v(){var e=window.googletag.pubads().refresh,i=function(){try{var i=Array.prototype.slice.call(arguments),o=t.getProxy(e,i,this);o(),P(!0)}catch(r){}};window.googletag.pubads().refresh=i}function E(){if(x=r.getCustomUtilityWrapper(),!t.isSet(x)||!t.isFunction(x.isAntiAdBlockEnabled)||x.isAntiAdBlockEnabled()){S=d.getById(b);var e=S.get(p.ABP_D_HOST),i=S.get(p.ABP_B_HOST);m.checkABP(e,i,t.getProxy(y,[],B))}}var S,x,C={},b="34",T="0.20",B=this;return{init:E}});_mNDefine("antiadblockdetect",["util"],function(e){"use strict";function n(){var n=[],t=this;this.add=function(t){e.isFunction(t)&&n.push(t)},this.trigger=function(n){e.isFunction(n)&&n()},this.triggerAll=function(){e.each(n,function(e){t.trigger(e)}),n=[]}}function t(n,a,u,d){return t.abpLogging===r.IN_PROGRESS?void c.add(u):t.abpLogging===r.DONE?void(1===o.adBlockStatus&&c.trigger(u)):(e.isSet(d)&&e.isSet(d.holderKey)&&(e.isSet(d.holder)&&"object"===d.holder||(d.holder={}),d.holder[d.holderKey]=o),c.add(u),t.abpLogging=r.IN_PROGRESS,o.adBlockStatus=0,o.error1=!1,o.error2=!1,o.checksRemain=2,void i.detect(n,a,"/px.gif",function(e){e===!0?(o.adBlockStatus=1,c.triggerAll()):e===!1&&(o.adBlockStatus=2),t.abpLogging=r.DONE}))}var o={},r={START:0,IN_PROGRESS:1,DONE:2},i=new function(){this.detect=function(e,n,t,r){function i(e,n){0===u||n>1e3?e(0===u&&a):setTimeout(function(){i(e,2*n)},2*n)}function c(){return--u?void(o.checksRemain=u):(o.checksRemain=u,void(a=!d&&g))}var a=!1,u=2,d=!1,g=!1;if("function"==typeof r){t+="?ch=*&rn=*";var s=e+t,l=n+t,f=11*Math.random(),h=new Image;h.onload=c,h.onerror=function(){d=!0,o.error1=d,c()},h.src=s.replace(/\*/,1).replace(/\*/,f);var S=new Image;S.onload=c,S.onerror=function(){g=!0,o.error2=g,c()},S.src=l.replace(/\*/,2).replace(/\*/,f),i(r,50)}}},c=new n;return{checkABP:t}});_mNDefine("customutil",["util","entitymanager"],function(e,t){"use strict";function i(i){var n,o,s=t.getCountryCode(),l=t.getDeviceType(),r=i.sizes[0].size;return n=3===l?"mobile":"desktop",o="US"===s?"US":"ROW",e.isSet(p[r])&&e.isSet(p[r][n])&&e.isSet(p[r][n][o])?p[r][n][o]:""}function n(i){var n=i.prvid;if(29==n){var o=i.sizes,s=t.getCountryCode().toUpperCase(),l=t.getDeviceType(),r=[];s=S[s]||"ROW",l=3==l?"Mobile":"Desktop";var d=u[s][l].siteId,a=u[s][l].zoneId;return e.each(o,function(e){b[e.size]&&r.push(d+"_"+a+"_"+b[e.size])}),r}return null}function o(){try{return window.webmd.ads2.display.flag||!1}catch(e){return!1}}function s(e){if("nextElementSibling"in document.documentElement)return e.nextElementSibling;for(e=e.nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;return e}function l(e){var t=e.textContent||e.innerText||"";return t.replace(/^\s+|\s+$/g,"")}function r(){for(var t in c)if(c.hasOwnProperty(t)){var i=c[t];if(i&&i.controlDiv&&i.slideState){var n=e.queryDOM(i.controlDiv),o=e.queryDOM(i.slideState);if(n&&o&&0!==n.length)return i}}return{}}function d(t){var i={};switch(t.type){case 1:var n=e.queryDOM(t.slideState),o=n&&s(n);n&&o&&e.isStringSet(l(n))&&e.isStringSet(l(o))&&(i.currentSlide=parseInt(l(n)),i.totalSlides=parseInt(l(o)));break;case 2:case 5:case 8:var r=e.queryDOM(t.slideState);if(r&&e.isStringSet(l(r))){var d=l(r),a=/[^\d]*([\d]*)[^\d]*([\d]*).*/;d=a.exec(d),d&&e.isStringSet(d[1])&&e.isStringSet(d[2])&&(i.currentSlide=parseInt(d[1]),i.totalSlides=parseInt(d[2]))}break;default:i={}}return i}function a(){var e=t.getPublisherUrlConventionalWay(),i=r();if(i&&i.controlDiv&&i.slideState){var n=d(i);return n&&n.currentSlide&&n.totalSlides?e.indexOf("?")>0?e+"&slideno="+n.currentSlide+"&totalslides="+n.totalSlides:e+"?slideno="+n.currentSlide+"&totalslides="+n.totalSlides:e}}var b={"468x60":1,"728x90":2,"120x600":8,"160x600":9,"300x600":10,"300x250":15,"336x280":16,"320x50":43,"300x50":44,"300x1050":54,"970x90":55,"970x250":57,"1000x90":58,"320x80":59,"640x480":65,"320x480":67,"1800x1000":68,"320x320":72,"320x160":73,"480x320":101,"768x1024":102,"1000x300":113,"320x100":117,"800x250":125,"200x600":126},u={GB:{Mobile:{siteId:117782,zoneId:555224},Desktop:{siteId:117776,zoneId:555218}},CA:{Mobile:{siteId:117784,zoneId:555226},Desktop:{siteId:117780,zoneId:555220}},US:{Mobile:{siteId:119518,zoneId:564738},Desktop:{siteId:119514,zoneId:564734}},ROW:{Mobile:{siteId:119522,zoneId:564740},Desktop:{siteId:119516,zoneId:564736}}},S={US:"US",GB:"GB",CA:"CA"},p={"320x50":{mobile:{US:"WebMdMobileWeb_924111",ROW:"WebMdMobileWeb_951072_INTL"}},"300x50":{mobile:{US:"WebMdMobileWeb_924109",ROW:"WebMdMobileWeb_951074_INTL"}},"300x600":{desktop:{US:"WebMdDisplay_924106",ROW:"WebMdDisplay_951077_INTL"}},"728x90":{desktop:{US:"WebMdDisplay_924108",ROW:"WebMdDisplay_951075_INTL"}},"160x600":{desktop:{US:"WebMdDisplay_924105",ROW:"WebMdDisplay_951078_INTL"},mobile:{US:"WebMdMobileWeb_924110",ROW:"WebMdMobileWeb_951073_INTL"}},"300x250":{desktop:{US:"WebMdDisplay_924107",ROW:"WebMdDisplay_951076_INTL"},mobile:{US:"WebMdMobileWeb_950918_US",ROW:"WebMdMobileWeb_951079_INTL"}}},c={desktop_layout_1:{controlDiv:".slideshowControls",slideState:"#slide_number",type:1},desktop_layout_2:{controlDiv:"#ss_inprg_nav",slideState:"#ss_inprg_counter",type:2},desktop_layout_5:{controlDiv:".slide_container:0",slideState:".slideIndex:0",type:5},desktop_layout_8:{controlDiv:".controls:0",slideState:".slide-count:0",type:8}};return{getPubmaticData:i,getSlotData:n,isGoogleDisplayCalled:o,getPublisherUrl:a}});_mNDefine("adaptermanager",["util","config","_mNRP","bid","mnetHbConsole","storagemanager","bidmanager","thirdpartymanager","entitymanager","abtestmanager","placementmanager","providermanager","logmanager"],function(e,t,r,i,n,a,o,d,s,c,g,l,m){"use strict";function E(){return"allow-same-origin allow-forms allow-popups allow-scripts allow-pointer-lock allow-popups-to-escape-sandbox"}function u(e){var t;if(N[e])return N[e];try{t=window._mNRequire([e+"-adapter"])[0],N[e]=t}catch(r){return null}return t}function p(t,r){e.isStringSet(t)&&"object"==typeof r&&(N[t]=r)}function P(t){var i,n=t.code(),a=g.getProvidersById(t.id());e.each(a,function(a,o){var d=l.getAdapterForId(o),s=u(d);s&&e.isFunction(s.getStatusForPlacement)&&(i=r.execSafe(s.getStatusForPlacement,t,a),B[n]=B[n]||i&&i[n])})}function f(t){var r=s.isForceCacheEnabled();r||s.isHdHome()||(e.triggerEvent("bid::external::head",t),B[t]!==!0&&e.triggerEvent("bid::internal::head",t)),e.triggerEvent("bid::external::cache",t),e.triggerEvent("bid::default::head",t),(B[t]===!0||r)&&e.triggerEvent("bid::internal::cache",t)}function D(t){B={},e.each(t,function(e,t){if(e!==!1){var r=g.getById(t);P(r)}}),e.each(t,function(e,t){e!==!1&&f(g.getCodeForId(t))}),e.triggerEventWithBeforeAfter("apiCallsSent","global")}function T(){var e="<!DOCTYPE html><html><head></head><body><div></div></body></html>";return e}function h(e){var t=T();try{e.document.open(),e.document.write(t),e.document.close()}catch(r){}}function A(t,r){var a;if(r){a=r.get(i.Properties.ADCODE);try{if(a)return n.event("Ad rendered for "+r.get(i.Properties.PLACEMENT_ID)),!s.isSandboxEnabled()||e.isDocumentWritable?s.isAmpRequest()&&!window.advBidxc.isCalledFromAMP?(window.advBidxc.isCalledFromAMP=!1,t.document.write(a)):(t.document.open(),t.document.write(a),t.document.close()):(t.hbContent="<!DOCTYPE html><html><head></head><body>"+a+"</body></html>",t.location.replace('javascript:window["hbContent"];')),!0}catch(o){return!1}}return!1}function b(e){var t=e.name(),r=u(t);return null!==r?r:u(e.id())}function S(e,t,r){var i,n,a,o;i=window._mNRequire(["dfpmanager"])[0],i.clearTargeting(e,t),o=g.getByName(e),r||o.isGloballyTargeted()||(n=i.findSlot(e,!1),a=window._mNRequire(["gptmanager"])[0],a.refreshAd(n))}function _(t,a,c,g,l){try{l=e.isSet(l)?e.trim(l):"0",c=e.trim(e.decodeParam(c));var u,p=d.getBidForPlacementIdAndBidder(c,l,a);if(void 0===p)return void m.errorLogs.addNewNoWinningBidError(c,l);s.setLastWinningBid(c,p),p.set(i.Properties.RENDER_TRY_STATUS,!0),n.log(p,"finalWinner"),s.isSandboxEnabled()&&"facebookbidder"!==p.get(i.Properties.BIDDER_NAME)&&(t.frameElement.sandbox=E());try{var P=t.frameElement.height||0,f=t.frameElement.width||0;p.set(i.Properties.SIZE,e.extractFirstNumber(f)+"x"+e.extractFirstNumber(P))}catch(D){}try{u=window._mNRequire(["customutil"])[0],e.isSet(u)&&e.isFunction(u.setData)&&p.set(i.Properties.TEST_DATA,u.setData(t))}catch(D){}e.isSet(p)&&e.isFunction(p.id)&&14!==parseInt(p.id())&&e.triggerEvent("afterRenderExternal",c,{winningBid:p,secondBid:o.getWinningBidByCode(c,l),auctionTime:o.getAuctionTime(c,l)});try{S(p.get(i.Properties.PLACEMENT_ID),l,!0)}catch(D){}}catch(T){r.pushError(T)}}function v(t,a,c,g,l){try{l=e.isSet(l)?e.trim(l):"0",c=e.trim(e.decodeParam(c));var u,p,P=!1,f=d.getBidForPlacementIdAndBidder(c,l,a),D=s.require("adxhelper"),T=Array.prototype.slice.call(arguments);if(T[4]=l,void 0===f)return s.isMnetBidderRequest()&&h(t),void m.errorLogs.addNewNoWinningBidError(c,l);if(e.isSet(D)&&D.getMnetAdxPostBidDone(l,c)||s.setLastWinningBid(c,f),e.isSet(D)&&D.isAdxPostBidToBeDoneForExternalProvider(c,f.get(i.Properties.BIDDER_ID),l)){if(e.isSet(f.get(i.Properties.SIZE))){var _=s.require("mnetadxcontroller");return _.postBid(t,f,v,T),void s.setTestDataForPlacement(c,"thirdParty=1")}m.errorLogs.addNew({message:"placementId - "+c+", pageId - "+l+"bidderID - "+f.get(i.Properties.BIDDER_ID)+"cpm"+f.get(i.Properties.CPM),name:"EXTERNAL_WINNING_BID_NOT_VALID_ERROR"})}if(f.set(i.Properties.RENDER_TRY_STATUS,!0),n.log(f,"finalWinner"),s.isSandboxEnabled()&&"facebookbidder"!==f.get(i.Properties.BIDDER_NAME)&&(t.frameElement.sandbox=E()),u=b(f),P=u&&u.renderExternal?u.renderExternal.apply(u,T):A(t,f),f){"amazonbidder"===f.name()&&(f.set(i.Properties.CPM,g),f.set(i.Properties.CUSTOMER_BID_PRICE,g));try{var R=t.frameElement.height||0,N=t.frameElement.width||0;f.set(i.Properties.SIZE,e.extractFirstNumber(N)+"x"+e.extractFirstNumber(R))}catch(B){}try{p=window._mNRequire(["customutil"])[0],e.isSet(p)&&e.isFunction(p.setData)&&f.set(i.Properties.TEST_DATA,p.setData(t))}catch(B){}}e.isSet(f)&&e.isFunction(f.id)&&14!==parseInt(f.id())&&e.triggerEvent("afterRenderExternal",c,{winningBid:f,secondBid:o.getWinningBidByCode(c,l),auctionTime:o.getAuctionTime(c,l)});try{S(f.get(i.Properties.PLACEMENT_ID),l,!0)}catch(B){}}catch(I){r.pushError(I)}}function R(t,n,o,d){e.consoleLog(n);var g,l,u=n.name(),p=n.id(),P=n.get(i.Properties.PLACEMENT_ID),f=n.get(i.Properties.PROVIDER_REQUEST_ID),D=!1;n.get(i.Properties.BID_LOG_STATUS)===!0&&m.errorLogs.addNew({name:"REPEATED_RENDER_ERROR",crid:n.get(i.Properties.CREATIVE_ID),pvid:p,dfpbd:n.get(i.Properties.DFP_BID),lid:f}),e.consoleLog(u),e.consoleLog(n.id()),e.consoleLog(n.get(i.Properties.PLACEMENT_ID));var T;if(u){n.set(i.Properties.RENDER_TRY_STATUS,!0),g=b(n),s.isSandboxEnabled()&&(t.frameElement.sandbox=E()),D=e.isSet(g)&&e.isFunction(g.renderAd)?g.renderAd(t,n):r.execSafe(A,t,n),"boolean"==typeof D&&n.set(i.Properties.RENDER_STATUS,D);try{l=window._mNRequire(["customutil"])[0],e.isSet(l)&&e.isFunction(l.setData)&&(T=n.get(i.Properties.TEST_DATA)||"",n.set(i.Properties.TEST_DATA,T+"|"+l.setData(t)))}catch(h){}try{var _=t.frameElement.height||0,v=t.frameElement.width||0;n.set(i.Properties.SIZE,e.extractFirstNumber(v)+"x"+e.extractFirstNumber(_))}catch(h){}e.isSet(d)&&e.isSet(d.td)&&(T=n.get(i.Properties.TEST_DATA)||"",n.set(i.Properties.TEST_DATA,T+"|"+d.td)),"videoadsbidder"!==n.get(i.Properties.BIDDER_NAME)&&e.triggerEvent("afterRender",P,n);try{S(P,o,!1)}catch(h){}c.isABTestEnabled("BID_NOT_WON")&&a.removeWonBid(p,P,f,s.getHeaderBiddingUrl(u))}}var N={},B={};return{renderAd:R,registerAdapter:p,renderExternal:v,renderSuccess:_,getBidsNew:D,renderEmptyAd:h,getAdapterFromCode:u}});_mNDefine("storagemanager",["_mNRP","util","config","bid","entitymanager"],function(e,r,t,n,i){"use strict";function o(e,r,t,i){var o,a;for(e[V]=x,e[r]=e[r]||{},e[r][t]=e[r][t]||[],o=e[r][t],a=0;a<o.length;a++)for(var u in o[a])if(o[a].hasOwnProperty(u)&&o[a][u][n.Properties.REFERRING_VISIT_ID]===i)return o[a];var s={};return o.push(s),s}function a(e,t){var i,o=n.Properties.TIMESTAMP;for(var a in t)if(t.hasOwnProperty(a)){var u=t[a].serialize(),s=u[n.Properties.PLACEMENT_ID];r.isStringSet(s)&&(e[s]=u,i=u[o])}e[o]=r.getCurrentTime()}function u(e,r,t){var i;for(var u in r)if(r.hasOwnProperty(u)){i=r[u].get(n.Properties.REFERRING_VISIT_ID);break}var s=o(F,e,t,i);a(s,r)}function s(e,t){var i={};F=y()||{},S(e),r.each(t,function(e){var t=e.get(n.Properties.CACHING_FLAG);if(r.isSet(e.get(n.Properties.CPM))&&parseFloat(e.get(n.Properties.CPM))>0&&t){var o=e.get(n.Properties.BIDDER_ID);if(!r.isSet(o))return;i[o]=i[o]||[],i[o].push(e)}}),r.each(i,function(r,t){u(e,r,t)}),l(F)}function f(e,r){for(var t,o,a=[],u=0;u<r.length;u++)o=r[u].serialize(),o[n.Properties.TIMESTAMP]=o[n.Properties.TIMESTAMP]||(new Date).getTime(),o[n.Properties.BID_REUSED_FLAG]=1,o[n.Properties.STATUS]=n.Status.SUCCESS,o[n.Properties.STATUS_NAME]=n.StatusNames[n.Status.SUCCESS],o[n.Properties.REFERRING_VISIT_ID]=i.resolveMacros("%%VISIT_ID%%"),t=(new n).deserialize(o),a.push(t);s(e,a)}function c(e){return J&&void 0!==b&&b.getItem(e)}function p(e,r){return J&&void 0!==b&&b.setItem(e,r)}function P(){return c(G)}function v(){var e=P();try{var r=JSON.parse(e);return r}catch(t){l({})}return{}}function S(e){U=e}function l(r){var t=JSON.stringify(r);e.execSafe(p,G,t)}function g(e){return e&&e.get(n.Properties.STATUS)===n.Status.SUCCESS&&e.get(n.Properties.CPM)?!0:!1}function d(e){return e===V}function I(){var e=i.getDeviceType();return 2===e||3===e?t.cbInfo.bidCapM||3:t.cbInfo.bidCap||5}function h(e,t){var o=e[t],a={},u=I();if(o&&r.isArray(o)&&o.length>0){r.each(o,function(e,t){r.each(e,function(r,o){if("ts"!==o){if(i.isTimeStampExpired(r[n.Properties.TIMESTAMP],r[n.Properties.BIDDER_ID])){var u=(new n).deserialize(r);return g(u)&&w(u),void delete e[o]}a[o]=a[o]||[],a[o].push([t,r])}})}),r.each(a,function(e,t){var i=e.sort(function(e,r){var t=parseFloat(e[1][n.Properties.CPM]),i=parseFloat(r[1][n.Properties.CPM]);return t===i?r[1][n.Properties.TIMESTAMP]-e[1][n.Properties.TIMESTAMP]:i-t}).splice(u);0!==i.length&&r.each(i,function(e,r){delete o[e[0]][t]})});for(var s=0;s<o.length;)M(o[s])?o.splice(s,1):s++;0===o.length&&delete e[t]}else delete e[t]}function T(e,t){var n=!0,i=e[t];for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];a&&r.isArray(a)&&a.length>0&&(n=!1)}n&&delete e[t]}function E(){var e=y();if(e){for(var r in e)if(!d(r)&&e.hasOwnProperty(r)){var t=e[r];for(var n in t)t.hasOwnProperty(n)&&h(t,n);T(e,r)}l(e)}}function M(e){for(var r in e)if(e.hasOwnProperty(r)&&"ts"!==r)return!1;return!0}function m(e,r,t){return e&&e[r]&&e[r][t]&&e[r][t].length>0}function w(e){z=z||i.require("logmanager"),z.expiredBids.addNew(e)}function C(e){var t,n,o=y();return r.isEmptyObject(o)?!1:(n=i.getPrefetchUrl(),t=r.any(o[n],function(t,n){var i;return r.isArray(t)&&t.length>0&&(i=r.any(t,function(r){return e in r?!0:void 0}),i===!0)?!0:void 0}))}function A(e,t){if(N()){var n=i.getPrefetchUrl(),o=y();m(o,n,e)&&(r.each(o[n][e],function(i,a){r.each(i,function(r,i){t===i&&delete o[n][e][a][i]})}),l(o))}}function D(e,t,o){if(!N())return null;E();var a=y();if(m(a,e,t)){var u={},s=[],f=!1,c={},p={};return r.each(a[e][t],function(e,a){var u=e[n.Properties.TIMESTAMP]||0;return i.isTimeStampExpired(u,t)?void r.each(e,function(e){var r=(new n).deserialize(e);g(r)&&w(r)}):void r.each(o,function(t){var i;t in e&&(i=(new n).deserialize(e[t])),g(i)&&i.get(n.Properties.CPM)>0&&(!r.isSet(c[t])||i.get(n.Properties.CPM)>c[t].get(n.Properties.CPM))&&(c[t]=i,p[t]=a)})}),r.each(o,function(n){if(r.isSet(c[n])){var i=p[n];f=!0,delete a[e][t][i][n],u[n]=c[n],M(a[e][t][i])&&s.unshift(i)}}),s.sort(function(e,r){return r-e}),r.each(s,function(r){a[e][t].splice(r,1)}),l(a),u||null}}function _(e,t,i,o){if(N()){var a=y();m(a,o,e)&&(r.each(a[o][e],function(e,r){e[t]&&e[t][n.Properties.PROVIDER_REQUEST_ID]===i&&delete e[t]}),l(a))}}function y(){var e=v();return e}function R(){var e="mntest";try{if("localStorage"in window&&null!==window.localStorage)return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(r){return!1}return!1}function N(){return e.execSafe(R)===!0&&r.isJSONSupported()===!0}function B(e){return c(e)||""}function O(e,r){return J&&p(e,r)}var F,U,b,z,G="BIDS_MAP",x="1",V="v",J=N();return J&&(b=window.localStorage),{setPageUrl:S,setBid:l,isBidPresentForPlacement:C,getBid:y,getBids:D,getInfo:B,setInfo:O,storeBidsForReuse:f,removeBidFromCache:A,removeWonBid:_,setInStorage:s,supportStorage:N}});_mNDefine("abtestmanager",function(){"use strict";function e(){return!1}return{isABTestEnabled:e}});_mNDefine("mnetcookiesyncmanager",["util","config","entitymanager","placementmanager","storagemanager"],function(n,e,i,o,c){"use strict";function y(n){c.setInfo(h[n].cookieLsKey,(new Date).getTime()/1e3)}function r(e){var o=c.getInfo(h[e].cookieLsKey);return n.isSet(i.getVisitorId())&&n.isSet(o)?o:""}function t(e){var i=c.getInfo(h[e].cookieLsKey);return n.isSet(i)&&(new Date).getTime()/1e3-i<=h[e].cookieExpiry}function s(e){I(l.ox.iframeId,null,l.ox.iframeBody,n.getProxy(y,[e]))}function p(e){if(e.length>0){var i=l.mnsync.iframeSrc+n.encodeParam(e.join(","))+"&rtime="+n.clock.diff();I(l.mnsync.iframeId,i,null)}}function d(e){return n.filter(e,function(e){return 11===parseInt(e)?!t(e):77===parseInt(e)?n.isFunction(window.btoa):h.hasOwnProperty(e)})}function m(e){return n.filter(e,function(n){return h.hasOwnProperty(n)})}function a(){var n=o.getEnabledProviderList();return d(m(n))}function k(e){var i=[];if(0!==e.length){var o;n.each(e,function(n){switch(o=h[n].syncType){case"ox":s(n);break;case"mnsync":i.push(n)}}),p(i)}}function x(){var n=a();k(n)}function I(e,i,o,c){var y={};n.isStringSet(i)&&(y.src=i),n.createNonBlockingFrame(e,o,document.body,y,c)}function T(n){return h.hasOwnProperty(n)&&11===parseInt(n)?r(n):""}var f=(i.getlper("ck")||0,i.isForceCookieSyncEnabled()?"1":"0",i.getProtocol()),u="";"https"===f&&(u="&https=1");var g=[i.getProtocol(),"://contextual.media.net/checksync.php?vsSync=1&cs=1","&cv=30","&cid=",i.getCid(),u,"&prvid="].join(""),l={ox:{iframeId:"_oX_cksync_0",iframeBody:'<!DOCTYPE html><html><head></head><body><script type="text/javascript">if (!window.OX_ads) { OX_ads = []; }OX_ads.push({ "auid" : "1234567" });<\/script><script type="text/javascript" src = "'+f+'://us-ads.openx.net/w/1.0/jstag"><\/script></body></html>'},mnsync:{iframeId:"_mN_cksync_0",iframeSrc:g}},h={2:{syncType:"mnsync",cookieIndex:0,priority:1},11:{syncType:"ox",cookieIndex:6,cookieLsKey:"oxcsync",cookieExpiry:604800,priority:6},12:{syncType:"mnsync",cookieIndex:2,priority:2},23:{syncType:"mnsync",cookieIndex:0,priority:1},28:{syncType:"mnsync",cookieIndex:4,priority:3},29:{syncType:"mnsync",cookieIndex:3,priority:4},33:{syncType:"mnsync",cookieIndex:0,priority:1},35:{syncType:"mnsync",cookieIndex:5,priority:5},38:{syncType:"mnsync",cookieIndex:5,priority:5},42:{syncType:"mnsync",cookieIndex:10,priority:10},43:{syncType:"mnsync",cookieIndex:6,priority:6},51:{syncType:"mnsync",cookieIndex:0,priority:1},52:{syncType:"mnsync",cookieIndex:0,priority:1},53:{syncType:"mnsync",cookieIndex:0,priority:1},54:{syncType:"mnsync",cookieIndex:7,priority:7},55:{syncType:"mnsync",cookieIndex:6,priority:6},56:{syncType:"mnsync",cookieIndex:8,priority:8},57:{syncType:"mnsync",cookieIndex:9,priority:9},58:{syncType:"mnsync",cookieIndex:0,priority:1},59:{syncType:"mnsync",cookieIndex:10,priority:10},61:{syncType:"mnsync",cookieIndex:3,priority:4},62:{syncType:"mnsync",cookieIndex:4,priority:3},64:{syncType:"mnsync",cookieIndex:12,priority:12},65:{syncType:"mnsync",cookieIndex:14,priority:14},67:{syncType:"mnsync",cookieIndex:11,priority:11},68:{syncType:"mnsync",cookieIndex:0,priority:1},69:{syncType:"mnsync",cookieIndex:0,priority:1},70:{syncType:"mnsync",cookieIndex:13,priority:13},106:{syncType:"mnsync",cookieIndex:6,priority:6},107:{syncType:"mnsync",cookieIndex:4,priority:4},71:{syncType:"mnsync",cookieIndex:10,priority:10},72:{syncType:"mnsync",cookieIndex:0,priority:1},74:{syncType:"mnsync",cookieIndex:0,priority:1},75:{syncType:"mnsync",cookieIndex:13,priority:13},76:{syncType:"mnsync",cookieIndex:14,priority:14},77:{syncType:"mnsync",cookieIndex:15,priority:15}};return{initiateCookieSync:x,getCookieData:T}});_mNDefine("gptmanager",[window,"_mNRP","config","util","bidmanager","dfpmanager","abtestmanager","entitymanager","logmanager","storagemanager","bid","placementmanager","placementconst","gptslotmanager"],function(e,t,n,i,r,o,a,s,u,g,l,d,c,f){"use strict";function h(){function n(){return x.rm}function r(){return x.dm&&x.srm}function a(e){function t(){return n===a.STATUS.TICK||n===a.STATUS.ACCEPT}var n,r=[],o=[],s=[];this.index=e,this.add=function(e){return r.push(e),this},this.addGSlot=function(e){return i.merge(o,e),this},this.addNGSlots=function(e){return i.merge(s,e),this},this.hasGSlot=function(){return o.length>0},this.getMetaForAllSlots=function(){return i.merge([],o,s)},this.isGuaranteedFetchInProgress=function(){return t()&&this.hasGSlot()},this.get=function(){return r},this.status=function(e){return void 0===e?n:(n=e,this)}}function g(){var e={},t=-1;this.get=function(t){return e[t]||{}},this.create=function(){t+=1,e[t]=new a(t),e[t].status(a.STATUS.ACCEPT)},this.current=function(){return e[t]},this.pos=function(){return t},this.schedule=function(e,t){i.isSet(e)&&(i.isSet(t)&&t>0?(setTimeout(i.getProxy(m,[e]),t),e.status(a.STATUS.TICK)):m(e))},this.clean=function(t){delete e[t]}}function l(){var e=C();i.each(e,function(e,t){var n=e.getSlotElementId(),r=F.isFetchDone(e);if(!N[n]){var o=S(e);N[n]=!0,i.each(o,function(t){i.isSet(t)&&i.isSet(t.id())&&(r===!0&&(O[n]=!0),B[n]=B[n]||{g:n,slots:[],targeted:r},B[n].slots.push({m:t.id(),dfpsl:e}))})}})}function h(e,n){t.execSafe(o.setTargetingForAdUnitsGPTAsync,n),i.each(e,function(e){e()})}function m(e){e.status(a.STATUS.WIRE);var t=e.getMetaForAllSlots();h(e.get(),t),e.hasGSlot()&&L===!1&&(L=!0),e.status(a.STATUS.DONE),M.clean(e.index)}function p(e,t){if(!i.isSet(M.current()))return!1;var n=M.current();return!e||n.isGuaranteedFetchInProgress()&&0===t.length}function v(t,n,r,o){var a,u,g=[],l=[],f=s.getGuaranteedFunctionDelay()||0,h=s.getNonGuaranteedFunctionDelay()||0,m=!1;i.each(t,function(e){var t=d.getById(e.m),n=e.dfpsl,i=n.getSlotElementId();return O[i]=!0,B[i].targeted=!0,t.get(c.GUARANTEED)?void l.push(e):void g.push(e)}),g=y(g),a=l.length>0,p(o,g)||(M.create(),m=!0);var S=M.current();if(S.add(i.getProxy(r.m,n,r.s)).addGSlot(l).addNGSlots(g),m!==!1){if(a&&L===!1&&0===g.length)u=f;else if(g.length>0){var v=i.map(g,function(e){return e.m});e.advBidxc.getBidsForSlots(v),u=a&&L===!1?i.getMaxValue([h,f]):h}M.schedule(S,u)}}function T(e){return i.any(B,function(t,n){return t.g===e?t:void 0})}function y(e){var t=[],n={};return i.each(e,function(e){var i=e.m;n[i]||(t.push(e),n[i]=!0)}),t}function I(e){var t=[];return i.each(e,function(e){var n=T(e.getSlotElementId());i.isSet(n)&&n.targeted===!0&&i.each(n.slots,function(e){t.push(e)})}),y(t)}function A(e){var t=B;return e&&(t=[],i.each(e,function(e){var n="object"==typeof e?e.getSlotElementId():e,r=T(n);i.isSet(r)&&t.push(r)})),t}function b(e){var t=[],n=A(e);return i.each(n,function(e,n){e.targeted!==!0&&i.each(e.slots,function(e){t.push(e)})}),t}function E(e){var t=e[0];return i.isArray(t)?i.filter(t,function(e){return i.isSet(e)}):[]}function P(e){var t=i.map(e,function(e){return e.dfpsl});return t}function G(e,t){var n=s.getGoogleRefreshDelay();return i.isSet(n)?setTimeout(i.getProxy(h,[e,t]),n):h(e,t)}var R,D,x={srm:!1,dm:!0,rm:!1,index:!1},F=this,L=!1,N={},B={},C=f.getAllSlots;this.getPubadsSettings=function(){return x},this.resetFirstGSlotFiredFlag=function(){L=!1},a.STATUS={ACCEPT:0,TICK:1,WIRE:2,DONE:3};var M=new g;this.isPubadsDefined=function(){return i.isSet(e.googletag)&&i.isFunction(e.googletag.pubads)},this.isFetchDone=function(e){return i.any(e,function(e,t){return i.isStringSet(e)&&e.length>0&&-1!==e.indexOf("gampad")?!0:void 0})||!1},this.setGoogleDisplay=function(e,t){R={m:e,s:t}},this.setGoogleRefresh=function(e,t){D={m:e,s:t}},this.display=function(){var e=Array.prototype.slice.call(arguments);if(i.triggerEvent("display::gpt::before","command",!0),l(),n())return R.m.apply(R.s,e);var t,o,a=r();return a?(t=b(),o=P(t),u.advGptSlots.addNew(o,{isRefresh:0})):(t=b([e[0]]),o=P(t),u.advGptSlots.addNew(o,{isRefresh:0})),v(t,e,R,!a)},this.refresh=function(){var t,r=E(Array.prototype.slice.call(arguments)),o=[],a=r;l(),0===r.length?(t=[],a=C()):t=[r];var s=I(a);if(s.length>0){var g=P(s);u.advGptSlots.addNew(g,{isRefresh:1});var d=i.map(s,function(e){return e.m});return e.advBidxc.refresh(d),o.push(i.getProxy(D.m,t,D.s)),G(o,s)}u.advGptSlots.addNew(a,{isRefresh:0});var c=b(a);return n()&&c.length>0?v(c,t,D,!0):void D.m.apply(D.s,t)},this.disableInitialLoad=function(){x={srm:!1,dm:!1,rm:!0}},this.enableSingleRequestMode=function(){x.rm||(x.srm=!0)},this.getGoogleSlots=C,this.getSlotMetaById=T}function m(e){return 1===w[e]}function p(e){return O[e]}function S(e){var t=d.getAllPlacements();return i.filter(t,function(t){return o.isValidSlotCodeCheckByBidder(t,e)?!0:void 0})}function v(e){var t=S(e),n=i.any(t,function(e){return e.isGloballyTargeted()?void 0:e});return n?n.code():void 0}function T(){W.setGoogleDisplay(e.googletag.display,e.googletag),e.googletag.display=W.display}function y(){W.setGoogleRefresh(e.googletag.pubads().refresh,e.googletag.pubads()),e.googletag.pubads().refresh=W.refresh}function I(){var t=e.googletag.pubads().enableSingleRequest;e.googletag.pubads().enableSingleRequest=function(){return W.enableSingleRequestMode(),t.apply(this,Array.prototype.slice.call(arguments))}}function A(){if(e.google_DisableInitialLoad===!0)return W.disableInitialLoad();var t=e.googletag.pubads().disableInitialLoad;e.googletag.pubads().disableInitialLoad=function(){return W.disableInitialLoad(),t.apply(this,Array.prototype.slice.call(arguments))}}function b(){e.googletag&&e.googletag.cmd||(e.googletag=e.googletag||{},e.googletag.cmd=e.googletag.cmd||[]);var t=function(){e.googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=e.slot.getSlotElementId();S(e.slot).length>0&&i.isSet(t)&&(w[t]=1),o.setSlotRenderTime(e.slot.getSlotElementId(),i.clock.getTime("init"));var n=o.getSlotInfo(e.slot),r=f.pattern();u.advGptSlots.addSlotLogData(e.slot,n,r)}),A(),I(),T(),y(),e.advBidxc.setTargetingForAdUnitsGPTAsync=function(){}};i.isArray(e.googletag.cmd)?e.googletag.cmd.unshift(t):(U=!0,e.googletag.cmd.push(t))}function E(t,n){g.isBidPresentForPlacement(n)===!0&&e.googletag.pubads().refresh([t])}function P(e){var t=S(e);if(0!==t.length){var n=0,r=null;i.each(t,function(e){n=Math.max(n,s.getAutoRefreshTimeout(e.code())),e.isGloballyTargeted()||(r=e.code())}),0!==n&&i.isSet(r)&&setTimeout(i.getProxy(E,[e,r]),n)}}function G(e){var t=e.slot,o=t.getTargetingMap()||{},a=v(t),s=t.getResponseInformation()||{},g=o[n.bidderExTargetParams.PLACEMENT_ID]&&o[n.bidderExTargetParams.PLACEMENT_ID][0]||a,d=o[n.defaultExTargetParams.PAGE_ID]&&o[n.defaultExTargetParams.PAGE_ID][0]||r.getCurrentPage(),c=r.getWinningBidByCode(g,d,!1)||{},f=i.clock.time(g+d+"auctionTime");o.advertiserId=s.advertiserId||"",o.campaignId=s.campaignId||"",o.creativeId=s.creativeId||"",o.labelIds=s.labelIds||[],o.lineItemId=s.lineItemId||"",o.slotElementId=t.getSlotElementId(),o.dfpDivSize=i.isArray(e.size)?e.size.join("x"):"",o.auctionTime=f,o.originalBidPrice="",o.ltime="",o.rtime="",c&&i.isFunction(c.get)&&(o.originalBidPrice=c.get(l.Properties.ORIGINAL_CPM)||"",o.ltime=c.get(l.Properties.LOAD_TIME)||"",o.rtime=c.get(l.Properties.RESPONSE_TIME)||""),u.dfpAdDataLog.addDFPSlotData(o)}function R(e){var o=function(){var t=e.slot.getTargetingMap(),o=t[n.bidderExTargetParams.PLACEMENT_ID],a=t[n.defaultExTargetParams.PAGE_ID];i.isArray(a)&&i.isArray(o)&&i.isStringSet(a[0])&&i.isStringSet(o[0])&&r.storeBidIfNotRendered(o[0],a[0])};setTimeout(function(){setTimeout(function(){t.execSafe(o)},500)},500)}function D(e){return W.isPubadsDefined()&&W.isFetchDone(e)}function x(){if(W.isPubadsDefined()){var e=W.getGoogleSlots();i.isArray(e)&&e.length>0&&i.each(e,function(e){var t=S(e);i.each(t,function(t){i.isSet(t)&&d.checkGuaranteed(t)&&D(e)&&!t.isGloballyTargeted()&&d.disableRequest(t)})})}}function F(e){var t=d.getAllPlacements();return i.any(t,function(t){return!t.isGloballyTargeted()&&o.isValidSlotCodeCheckByBidder(t,e)?t:void 0})}function L(e,t){e(),u.mnetRefresh.dispatchRefresh(t)}function N(t){var n,r=s.require("refreshmanager"),o=s.getCustomUtilityWrapper(),a=t.slot,u=a.getSlotElementId(),g=F(a),l=15e3;if(i.isSet(r)&&i.isSet(o)&&i.isFunction(o.isAdToBeRefreshed)&&o.isAdToBeRefreshed(t,g)){g&&(n=g.id()),i.isFunction(o.getAutoRefreshTime)&&(l=o.getAutoRefreshTime());var d=i.getProxy(e.googletag.pubads().refresh,[[a]]);r.registerSlots({slotId:u,timeForSlot:l,callback:i.getProxy(L,[d]),extLoggingParams:{crid:n}})}}function B(){e.googletag.cmd.push(function(){e.googletag.pubads&&e.googletag.pubads().addEventListener("slotRenderEnded",function(e){e&&e.slot&&i.isFunction(e.slot.getTargetingMap)&&(G(e),a.isABTestEnabled("BID_NOT_WON")&&R(e),N(e))})})}function C(){O={},W.resetFirstGSlotFiredFlag()}function M(){e.googletag.cmd.push(function(){e.googletag.pubads().addEventListener("slotRenderEnded",u.gptSlots.addNewLazyloadedSlot)})}function _(){b(),x(),B(),i.hasWindowLoaded()?M():i.eventLib.addEvent(e,"load",M),i.addToEventQueue("resetAw","command",C)}var w={},U=!1,O={},W=new h;return{isSlotRendered:m,refreshAd:P,init:_,didWeLoadLate:D,hasDisplayFired:p,mnetPubadsProxy:W}});_mNDefine("bidmanager",["util","config","bid","mnetHbConsole","entitymanager","placementmanager"],function(e,t,i,n,r,o){"use strict";function s(){return oe=oe||r.require("logmanager")}function u(e,t){return se[e]&&se[e][t]?se[e][t]:null}function a(t,i){e.clock.tick(t+i+"auctionTime")}function c(t,i){var n;if(n=u(i,t),null!==n){q(n);var r=n.bids.slice(1,2);v(t,i,r)}e.clock.time(t+i+"auctionTime")||e.clock.tock(t+i+"auctionTime")}function d(t,i){return e.clock.time(t+i+"auctionTime")||0}function l(t,i){return e.clock.getTime(t+i+"auctionTime")}function g(e,t){var i=r.getAuctionTimeForMnetBidderRequest(),n=l(e,t);return-1!==n&&n>i}function p(e){ge.status=e}function f(){return ge.status}function P(t,n){var r=n.get(i.Properties.CREATIVE_ID),o=n.get(i.Properties.BIDDER_ID);e.isSet(t)&&e.isSet(r)&&e.isSet(o)&&(ce[t]=ce[t]||{},ce[t][r]=ce[t][r]||{},ce[t][r][o]=!0)}function A(t,i,n){ce[t]=ce[t]||{},ce[t][i]=ce[t][i]||{},e.each(n,function(e,n){e&&(ce[t][i][n]=!1)})}function I(t,n,s){if(!e.isSet(t)||!e.isSet(n)||e.isEmptyObject(ce[t])||e.isEmptyObject(ce[t][n]))return[];var u=[],a=ce[t][n],c=o.getGuaranteedFlag(n),d=e.getCookieFlag();return e.each(a,function(t,a){if(e.isSet(a)&&t!==!0){var l=o.getProviderConfigById(n,a),g="1";e.isEmptyObject(l)||u.push((new i).status(i.Status.TIMEOUT).set(i.Properties.PLACEMENT_ID,l.code).set(i.Properties.IS_GUARANTEED_PLACEMENT,c).set(i.Properties.SIZE,l.sizes&&l.sizes[0].size||l.size||o.getDefaultSizeForId(n)).set(i.Properties.BIDDER_ID,l.prvid).set(i.Properties.CREATIVE_ID,l.crid).set(i.Properties.TO_CONSIDER,g).set(i.Properties.PAGE_ID,l.pageId).set(i.Properties.AUCTION_ID,r.getAuctionId(l.pageId,l.code)).set(i.Properties.ZERO_ADJUSTMENT,l.pvsh).set(i.Properties.FIRST_ADJUSTMENT,l.dpsh).set(i.Properties.SECOND_ADJUSTMENT,l.rvsh).set(i.Properties.DISPLAY_TIME,s).set(i.Properties.IS_COOKIE_ENABLED,d))}}),u}function E(){var t=[],i={};return e.each(se,function(n,r){e.each(n,function(e,n){i[n]!==!0&&(t.push(n),i[n]=!0)})}),t}function T(e,t){re=re||r.require("storagemanager"),re.storeBidsForReuse(e,t)}function D(e,t){return ae[e]=ae[e]||{},ae[e][t]}function S(e,t,i){ae[e]=ae[e]||{},ae[e][t]=i}function _(t,n){var o,s,a;o=u(n,t),s=q(o),null===s||e.isSet(D(n,t))||(a=s.get(i.Properties.RENDER_START_STATUS),a!==!0&&T(r.getPrefetchUrl(),[s]),S(n,t,a||!1))}function v(t,i,n){ue[t]=ue[t]||{},ue[t][i]=ue[t][i]||!1,ue[t][i]===!1&&n&&e.isArray(n)&&(ue[t][i]=!0,T(r.getPrefetchUrl(),n))}function C(t){e.isArray(t)||(t=[t]);var n=t.length+"";t.sort(k);for(var r=t.length-1;r>=0;r--)t[r].set(i.Properties.DOMINANT_BID_FLAG,r===t.length-1?"1":"0"),t[r].set(i.Properties.NUMBER_MULTI_SIZES,n)}function m(t,o,s){o=e.isSet(o)?o:"0",e.consoleLog("adding response ",s.serialize());var a=u(o,t);if(!(null!==a&&a.auctionClosed||t!==s.get(i.Properties.PLACEMENT_ID)||"0"===s.get(i.Properties.DOMINANT_BID_FLAG))){if(a.bidsReceivedCount++,ge.received++,P(o,s),s.get(i.Properties.THIRD_PARTY_TARGETS)||s.get(i.Properties.THIRD_PARTY_TARGETS_GLOBAL)){ne=ne||r.require("thirdpartymanager");var d=ne.addBidResponse(t,o,s);e.isSet(d)&&e.isSet(d.hasAnyWinningBid)&&d.hasAnyWinningBid===!0&&(a.hasAnyWinningBid=!0)}else a.bids.push(s),M(s);R(t,o)&&(a.auctionClosed=!0,c(t,o),n.event("Auc end for "+t),n.log(e.clock.time(t+o+"auctionTime"),"auctionTime","",t),e.triggerEvent("auctionEnd",t,{winner:q(a)}),B(o)&&e.triggerEvent("auctionEnd","global"))}}function h(t,i,n){var r={},o=d(t,i),u=L(t,i,!0);e.extend(r,{auctionTime:o,winningBid:null===u[0]?Z(i,t):u[0],secondWinner:u[1],minimal:null===u[0],tp:n||{}}),s().auctionDecisions.addNew(r)}function B(e){if(se.hasOwnProperty(e))for(var t in se[e])if(se[e].hasOwnProperty(t)&&se[e][t].auctionClosed===!1)return!1;return!0}function R(e,t){var i=u(t,e);return null!==i&&(Y(i)||r.isMnetBidderRequest()&&g(e,t))}function N(e){return{bidsReceivedCount:0,auctionClosed:!1,bids:[],bidsExpected:e.expectedBids||0,startTime:0,endTime:0,bidders:e.bidders,pageId:e.pageId,hasAnyWinningBid:!1,isBidderDisabled:e.isBidderDisabled}}function M(){}function y(t,i,n,r){if(!e.isStringSet(i)||!e.isStringSet(t))return r;var o=u(i,t);return null!==o&&o.hasOwnProperty(n)?o[n]:r}function b(e,t){return y(e,t,"bids",[])}function O(e,t){return y(e,t,"hasAnyWinningBid",!1)}function L(t,i,n,o){var s,a=u(i,t),c=r.require("adxhelper");return s=null!==a&&a.auctionClosed?q(a,n,o):n?[null,null]:null,e.isSet(c)&&c.isMnetAdxEnabled(t)&&ee()&&(s=ie.manipulateWinningBid(s,t,i)),s}function w(t,n){var r=L(t,n,!0);return null===r[1]||0===r[1].get(i.Properties.ORIGINAL_CPM)?-1:r[0].get(i.Properties.ORIGINAL_CPM)===r[1].get(i.Properties.ORIGINAL_CPM)?r[0].get(i.Properties.ORIGINAL_CPM):e.decimalLimit(r[1].get(i.Properties.ORIGINAL_CPM)+de)}function U(e){return!!(e&&e.get(i.Properties.CPM)&&e.get(i.Properties.CPM)>0&&e.get(i.Properties.BIDDER_NAME))}function F(e,t){var i=[];return U(e[0])?U(e[1])?i.push(e[0],e[1]):i.push(e[0],null):i.push(null,null),t?i:i[0]}function G(e,t){var n=0,r=0;if(t.get(i.Properties.CPM))try{n=parseFloat(t.get(i.Properties.CPM))}catch(o){}if(e.get(i.Properties.CPM))try{r=parseFloat(e.get(i.Properties.CPM))}catch(o){}return n-r}function k(e,t){return G(t,e)}function x(e){e&&e.bids&&!e.winnerDecided&&(e.winnerDecided=!0,e.bids.sort(G))}function W(t){if(t&&t.length>0)for(var n=0,o=t.length;o>n&&t[n];)if(e.isSet(t[n].get(i.Properties.TIMESTAMP))&&!r.isTimeStampExpired(t[n].get(i.Properties.TIMESTAMP),t[n].get(i.Properties.BIDDER_ID)))n++;else{var u=t.splice(n,1);U(u[0])&&e.isSet(u[0].get(i.Properties.TIMESTAMP))&&s().expiredBids.addNew(u[0])}}function q(e,t,n){var r=e.bids;if(n!==!0&&W(e.bids),0===r.length)return e.winnerDecided=!0,t?[null,null]:null;if(e.winnerDecided)return F(r,t);if(x(e),e.bids&&e.bids.length>0){var o=e.bids[0];U(o)&&(o.set(i.Properties.IS_WINNING_BID,"1"),e.hasAnyWinningBid=!0)}return F(r,t)}function z(e,t){var i=u(t,e);return null!==i&&i.auctionClosed?!0:!1}function Y(e){return e.bidsReceivedCount===e.bidsExpected}function H(t){var i=t.pageId;e.consoleLog(t),n.event("Auc for "+t.adunitCode+" regd"),se[i]=se[i]||{},se[i][t.adunitCode]=N(t),a(t.adunitCode,i),ge.count+=t.expectedBids;var r=o.getIdForCode(t.adunitCode);A(t.pageId,r,t.providers)}function V(t,i){var r=u(i,t);null===r||r.auctionClosed||(r.auctionClosed=!0,c(t,i),n.event("Auc end for "+t),n.log(e.clock.time(t+i+"auctionTime"),"auctionTime","",t),e.triggerEvent("auctionEnd",t,{winner:q(r)}))}function j(t,i){if(e.isStringSet(t)){if(e.isStringSet(i))V(i,t);else for(var n in se[t])se[t].hasOwnProperty(n)&&V(n,t);B(t)&&e.triggerEvent("auctionEnd","global")}}function Z(t,n){var s=u(t,n);if(e.isSet(s)&&e.isArray(s.bids)&&s.bids.length>0)return s.bids[0];var a=o.getByName(n),c=o.getMaxSizeById(a.id()),d=o.getGuaranteedFlag(a.id()),l=e.getCookieFlag();return(new i).set(i.Properties.PAGE_ID,t).set(i.Properties.PLACEMENT_ID,n).set(i.Properties.IS_GUARANTEED_PLACEMENT,d).set(i.Properties.BIDDER_ID,"0").set(i.Properties.CREATIVE_ID,a.id()||"").set(i.Properties.SIZE,c.join("x")).set(i.Properties.AUCTION_TYPE,i.AuctionType.HEADER_BID).set(i.Properties.PROVIDER_RESPONSE_TYPE,i.AuctionType.HEADER_BID).set(i.Properties.PROVIDER_NAME,"NO_BID").set(i.Properties.AUCTION_ID,r.getAuctionId(t,n)).set(i.Properties.IS_COOKIE_ENABLED,l)}function J(t,n,r){var o=b(t,n);e.each(o,function(e){e.set(i.Properties.DISPLAY_TIME,r)}),e.isSet(ne)&&ne.setDisplayTime(t,n,r)}function K(){le+=1;var t;try{t=window._mNRequire(["customutil"])[0]}catch(i){}if(e.isSet(t)&&e.isFunction(t.updatePageNo)){var n=parseInt(t.updatePageNo(le),10);n>0&&!se[n]&&Q(n)}}function Q(e){le=e}function X(){return le.toString()}function $(t,i){var n=i&&i.placements,r=i&&i.pageId;e.isArray(n)&&n.length>0&&e.each(n,function(t){e.isSet(r)&&e.isSet(t)&&(ce[r]=ce[r]||{},ce[r][t]={})}),ge={count:0,status:0,received:0}}function ee(){try{ie=ie||window._mNRequire(["mnetadxcontroller"])[0]}catch(e){}return ie}function te(t,i){var n=u(i,t);if(e.isSet(n)&&e.isSet(n.bids))for(var r=0;r<n.bids.length;r++)if(U(n.bids[r]))return!0;return!1}var ie,ne,re,oe,se={},ue={},ae={},ce={},de=.01,le=0,ge={count:0,status:0,received:0};return e.addToEventQueue("all:reset","command",$),{setStatus:p,getStatus:f,addBidResponse:m,registerAuction:H,getAllAdUnitCodesArray:E,getLateAuctionParticipants:I,auctionStatus:R,getAllBidsByAdUnit:b,getAnyBid:Z,shutDown:j,getWinningBidByCode:L,isAuctionClosedForAdUnitCode:z,getAuctionTime:d,getSecondPriceByCode:w,newAuction:K,refresh:$,checkAllAuctionsDone:B,forceCloseAuction:V,getCurrentPage:X,storeBidIfNotRendered:_,isAnyBidInForAdUnit:te,getAuctionTimeFromStart:l,callAuctionDecision:h,setDominantBid:C,updateCurrentPage:Q,hasAnyWinningBid:O,setDisplayTime:J}});_mNDefine("repository",["util"],function(n){"use strict";function t(){var t={},e=0;this.add=function(n){t[n.id()]=n,e+=1},this["delete"]=function(n){delete t[n.id()],e-=1},this.getById=function(n){return t[n]||null},this.where=function(e){var i=[];return n.each(t,function(t){var u=n.any(e,function(n,e){return t.get(e)!==n?!0:void 0});u!==!0&&i.push(t)}),i},this.len=function(){return e}}return t});_mNDefine("placementconst",function(){"use strict";return{CODE:"code",CUSTOM_TARGETS:"custTargs",ID:"crid",SIZES:"sizes",GUARANTEED:"g",HOMEPAGE:"hp",PROVIDERS:"prv",DFP_DIV_IDS:"dfpDivIds",DISABLE_IF_DISPLAYED:"disIfDef",GLOBAL_TARGETING:"gloTarget",AUTO_REFRESH:"aRef",VIEWPORT_SIZE_MAP:"viewportSizeMap"}});_mNDefine("placementrepo",["util","config","placementconst","providerconst","repository","providerrepo","entitymanager"],function(t,i,n,e,r,s,o){"use strict";function c(){var t={},i=0;this.config=function(i){return t=i,this},this.set=function(i,n){return t[i]=n,this},this.get=function(i){return t[i]},this.id=function(){return this.get(n.ID)},this.code=function(){return this.get(n.CODE)},this.isGloballyTargeted=function(){return"1"===this.get(n.GLOBAL_TARGETING)},this.isAutoRefresh=function(){return"1"===this.get(n.AUTO_REFRESH)},this.rincr=function(){return i+=1},this.rctr=function(){return i},this.reset=function(){i=0}}function u(){r.call(this)}function a(){var i=[];if(!t.isSet(window.advBidxc.misc)||!t.isStringSet(window.advBidxc.misc.disableBidders))return i;var n=window.advBidxc.misc.disableBidders+"",r=n.split(","),o=s.where({});return t.each(o,function(n){var s=n.get(e.ALIAS);if(t.isSet(s)){var o=t.any(r,function(i){return t.trim(i).toLowerCase()===s.toString().toLowerCase()?!0:void 0});t.isSet(o)&&i.push(n.id())}}),i}function d(){var i=o.getCustomUtilityWrapper(),n=[];return t.isSet(i)&&t.isFunction(i.getDisabledProviderIds)&&(n=i.getDisabledProviderIds()),n=n.concat(a())}function f(i,n){return 0===n.length?i:t.filter(i,function(i,e){return!t.checkItemExistsInArray(n,e)})}function h(){var e=i.adSlots||{},r=i.provider||{},s=d();t.each(e,function(t){var i=(new c).config(t);i.set(n.PROVIDERS,f(r[i.id()],s)),v.add(i)})}t.inherits(u,r);var v=new u;return h(),v});_mNDefine("disablebiddermanager",["util","entitymanager","providermanager"],function(i,e,d){"use strict";function r(i,e){return i.disableThirdPartyBidder&&d.isThirdPartyBidder(e)?!0:i.isCacheDisabled&&i.isHeaderBidingDisabled&&d.isInternalBidder(e)?!0:i.isDefaultBiddersFromApiDisabled&&d.isDefaultBidder(e)?!0:!1}function a(i){var d={};return d.forceCache=i,d.isCacheDisabled=e.isCacheDisabledForCustomer()||!1,d.isHeaderBidingDisabled=e.getHBStatus()||i||!1,d.disableThirdPartyBidder=!1,d.isDefaultBiddersFromApiDisabled=!1,i&&(d.disableThirdPartyBidder=!0),e.isHdHome()&&(d.isCacheDisabled=!0,d.isHeaderBidingDisabled=!0,d.disableThirdPartyBidder=!0,d.isDefaultBiddersFromApiDisabled=!0),d}return{shouldDisableBidder:r,disableBidders:a}});_mNDefine("placementmanager",["util","config","placementrepo","placementconst"],function(e,t,n,r){"use strict";function i(){if(!e.isSet(k))try{k=window._mNRequire(["entitymanager"])[0]}catch(t){k=null}return k}function u(e){return n.getById(e)}function o(e){n["delete"](e)}function a(e){return u(e).rincr()}function c(e){return u(e).rctr()}function f(e){var t={};return t[r.CODE]=e,n.where(t)[0]}function d(e){return"4"===e||"9"===e||"22"===e}function s(e,t){d(t)&&(t="10000");var n=O(e);return n[t]||{}}function g(){var t=[];i();var n=C();return e.each(n,function(n,i){var u=n.get(r.PROVIDERS);e.each(u,function(n,r){(n.test_mode!==!0||k.isTestModeForProvider(r))&&e.isSet(r)&&!e.checkItemExistsInArray(t,r)&&t.push(r)})}),t}function l(t){var n=g();return e.checkItemExistsInArray(n,t)}function v(t){return e.isSet(t)?f(t).id():""}function I(e){return n.getById(e).get(r.CODE)}function E(){var t={};return t[r.GUARANTEED]=!0,e.map(e.filter(n.where(t),function(e){return M(e.id())===!1}),function(e){return e.id()})}function P(){var t={};return t[r.GUARANTEED]=!0,e.map(e.filter(n.where(t),function(e){return M(e.id())===!1}),function(e){return e.code()})}function R(){return n.len()>0}function m(e){return n.getById(e).get(r.SIZES)}function A(e,t){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}function D(e){var t=m(e);return t.sort(A)[0]}function y(t){var n=m(t);return e.isArray(n)&&e.isArray(n[0])?n[0].join("x"):""}function h(e){var t=n.getById(e);return t?t.get(r.GUARANTEED):!1}function S(e){return e.get(r.GUARANTEED)!==!1}function B(e){return h(e)?1:0}function p(e,t){var n=u(e).get(r.PROVIDERS);return n[t].prf===!1}function C(){return n.where({})}function F(e,t){var n=u(e).get(r.PROVIDERS);return n[t].fp||0}function O(e){return u(e).get(r.PROVIDERS)}function N(e){var t=f(e);return t?t.get(r.PROVIDERS):null}function G(e){var n=N(e);return n[t.PROVIDER_IDS.MNET_ADX]||null}function V(e){var n=N(e);return n[t.PROVIDER_IDS.YBNCA_ADX_FAILOVER]||null}function _(t){e.isArray(t)&&t.length>0&&(q=t)}function b(){return e.map(q,function(e){return u(e)})}function T(t){var u={},o=n.where({});return i(),e.each(o,function(n){var i=n.get(r.PROVIDERS)[t];e.isSet(i)&&(i.test_mode!==!0||k.isTestModeForProvider(t))&&(u[n.id()]=i)}),u}function w(e){z[e.id()]=!0}function x(e){var t=u(e);return 1!==t.get(r.HOMEPAGE)||i().isHome()}function M(t){return e.isSet(t)&&(z[t]===!0||x(t)===!1)}function U(){z={}}var k,q=[],z={};return e.addToEventQueue("after:apiCallsSent","global",U),{hasValidConfig:R,isGuaranteedPlacement:h,checkGuaranteed:S,getGuaranteedFlag:B,getGuaranteedPlacementCodes:P,getGuaranteedPlacementIds:E,getCodeForId:I,getSizesById:m,getAllPlacements:C,getMnetAdxConfigByName:G,getYbncaAdxFailoverConfigByName:V,getMaxSizeById:D,getIdForCode:v,isProviderEnabled:l,disableRequest:w,isRequestDisabled:M,getByName:f,getById:u,getDefaultSizeForId:y,getProvidersByCode:N,getProvidersById:O,getProviderConfigById:s,enablePlacementsForAdapterRefresh:_,getPlacementsForAdapterRefresh:b,getEnabledProviderList:g,getProviderFpById:F,isProviderPrefetchDisabled:p,getAllPlacementsForProvider:T,incrRefreshCounter:a,getRefreshCount:c,deletePlacement:o}});_mNDefine("providerconst",function(){"use strict";return{ID:"prvid",NAME:"pvnm",PRICE_MACRO:"price_macro",IS_MNET:"mNet",CLIENT_BIDDER:"clientSide",DEFAULT_ADV_DOMAIN:"adv_dn",EXCHANGE_ID:"eid",ADAPTER:"bidder",TARGETING_BIDDER_NAME:"bidderName",NO_BID_RESPONSE:"noBid",ABP_D_HOST:"dHost",ABP_B_HOST:"abHost",ALIAS:"alias"}});_mNDefine("providerrepo",["util","config","providerconst","repository"],function(t,i,n,r){"use strict";function e(){var i={};this.config=function(n){return"object"!=typeof n||t.isEmptyObject(n)?i:(i=n,this)},this.set=function(t,n){return i[t]=n,this},this.get=function(t){return i[t]},this.id=function(){return this.get(n.ID)}}function o(){r.call(this)}function c(){var n=i.providerMap||{};t.each(n,function(t){u.add((new e).config(t))})}t.inherits(o,r);var u=new o;return c(),u});_mNDefine("providermanager",["util","config","providerconst","providerrepo"],function(e,t,r,n){"use strict";function i(e){return n.getById(e)}function d(t){var i=n.getById(t);return e.isSet(i)?i.get(r.NAME)||"":null}function o(t){var n=i(t);return e.isSet(n)?n.get(r.ADAPTER):null}function g(){return t.targetingKeys||{}}function u(t){var r=g();return e.isSet(t)&&e.isSet(r[t])?r[t]:{}}function a(r){return e.isSet(r.auto)&&e.getRandom(0,100)<=r.auto?t.PROVIDER_IDS.YBNCA_AUTO:t.PROVIDER_IDS.YBNCA}function f(e){var t=u(e);return t.name||""}function I(e){var t=i(e);return t.get(r.DEFAULT_ADV_DOMAIN)||""}function c(){return t.defaultBidderSetting.hasOwnProperty("openxbidder")&&t.defaultBidderSetting.openxbidder.jstag_url||""}function l(){return t.defaultBidderSetting.hasOwnProperty("openxbidder")&&t.defaultBidderSetting.openxbidder.oxLogUrl||""}function s(e){var t=u(e);return t.global||""}function S(e){e=e.toString();var n=i(e);return n.get(r.IS_MNET)===!0?t.PROVIDER_IDS.MEDIA_NET:e.toString()}function p(t){var n=i(t);return e.isSet(n)&&n.get(r.IS_MNET)===!1}return{getAdapterForId:o,getById:i,getTargetingKeysById:u,getTargetingBidderName:f,getOpenxJsTagUrl:c,isThirdPartyProvider:p,getGlobalTargetingKeysById:s,getOpenxLogUrl:l,getAdapterProviderForId:S,getDefaultAdvById:I,getYbncaWinner:a,getNameForId:d}});_mNDefine("bidreusemanager",["util","bid","entitymanager","storagemanager"],function(e,r,t,a){"use strict";function i(r){0===n.length&&e.eventLib.addEvent(window,"load",e.getProxy(d,[])),n.push(r)}function d(){var i=t.require("dfpmanager"),d=[];e.each(n,function(n){var g=n.pageId,o=n.code,s=n.prvid,u=t.require("providermanager").getTargetingBidderName(s);if(!e.isSet(i)||!i.isSlotAlreadyTargeted(g,o)){var m=t.require("thirdpartymanager").getBidForPlacementIdAndBidder(o,g,u);e.isSet(m)&&!t.isTimeStampExpired(m.get(r.Properties.TIMESTAMP),m.get(r.Properties.BIDDER_ID))&&(e.addToEventQueue("afterTargeting",o,e.getProxy(a.removeBidFromCache,[s,o])),d.push(m))}}),d.length>0&&a.storeBidsForReuse(t.getPrefetchUrl(),d)}var n=[];return{addBidReuseParams:i}});_mNDefine("init",["_mNRP","util","config","bid","entitymanager","placementmanager","bidmanager","storagemanager","adaptermanager"],function(e,i,t,n,r,o,a,d,c){"use strict";function s(e){var t,n;for(t=0,n=e.length;n>t;t++)i.isFunction(e[t])&&e[t].call(null)}function u(){void 0!==window.advBidxc&&window.advBidxc.exec?(i.isArray(window.advBidxc.exec)&&s(window.advBidxc.exec),window.advBidxc.exec=X):(window.advBidxc=window.advBidxc||{},window.advBidxc.exec=X)}function l(e){var t={};return i.each(e,function(e){t[e]=!0}),t}function g(t,o,d,s){d=i.isSet(d)?i.trim(d):"0",o=i.trim(i.decodeParam(o)),e.execSafe(function(e,t){var o=r.require("logmanager");i.consoleLog("rendering");var u,l=r.require("adxhelper");if(e&&t){if(u=a.getWinningBidByCode(t,d,!1,!0)){if(i.isSet(l)&&l.getMnetAdxPostBidDone(d,t)||r.setLastWinningBid(t,u),u.set(n.Properties.RENDER_START_STATUS,!0),i.consoleLog(u.name()),i.isSet(l)&&l.isAdxPostBidToBeDone(t,d)){if(i.isSet(u.get(n.Properties.SIZE))){var f=Q();return void f.postBid(e,u,g,Array.prototype.slice.call(arguments))}o.errorLogs.addNew({message:"placementId - "+t+", pageId - "+d+"bidderID - "+u.get(n.Properties.BIDDER_ID)+"cpm"+u.get(n.Properties.CPM),name:"WINNING_BID_NOT_VALID_ERROR"})}return c.renderAd(e,u,d,s)}o.errorLogs.addNewNoWinningBidError(t,d),r.isMnetBidderRequest()&&c.renderEmptyAd(e),i.consoleLog("no winning bid found")}},t,o)}function f(i){e.execSafe(Z.setTargetingForAdUnitsGPTAsync,!!i)}function m(e){return!(e.cache===!0||e.prf===!0)}function v(e,t){var n=o.getCodeForId(t),d={},c={},s=0,u=r.isForceCacheEnabled(),l=r.require("providermanager");return i.each(e,function(o,g){if(r.disableAllBidders()||o.test_mode===!0&&!r.isTestModeForProvider(g))return void delete e[g];if(u!==!0||!m(o)){"10000"===o.prvid&&(o.prvid=l.getYbncaWinner(o));var f=l.getAdapterForId(g);i.isSet(f)&&(o.code=n,o.crid=t,o.pageId=a.getCurrentPage(),d[f]=1,i.isSet(o.prvid)&&(c[o.prvid]=!0),s+=1)}}),[d,s,c]}function p(e,t){r.incrementBidRequestCount(),r.setForceCacheMode(t),i.each(e,function(e,t){if(e===!0){var n=o.getProvidersById(t),r=o.getCodeForId(t),d=v(n,t);i.clock.tick(r+a.getCurrentPage()+"displayTime"),a.registerAuction({adunitCode:r,expectedBids:d[1],pageId:a.getCurrentPage(),bidders:d[0],providers:d[2]}),i.addToEventQueue("auctionEnd",r,B)}}),c.getBidsNew(e)}function w(e){var t=!0,n=o.getAllPlacements();return i.each(n,function(n,r){t&&i.isSet(n.code())&&(t=a.isAuctionClosedForAdUnitCode(n.code(),e))}),t}function B(e,t){if(r.isAmpRequest())return void Y.triggerAMPDFP(e.src);var n=w(a.getCurrentPage());i.consoleLog("Auction Ends for ",e.src,t),i.consoleLog("All Auction closed :"+n),n&&P()}function b(){Z.triggerDFP()}function P(e){var t=r.getCustomUtilityWrapper();r.needsGptRequest()&&!r.isMnetBidderRequest()?i.isSet(t)&&i.isFunction(t.setAuctionComplete)&&1!=e?t.setAuctionComplete():b():i.isSet(t)&&i.isFunction(t.triggerDFP)&&t.triggerDFP()}function h(){if(r.isMnetBidderRequest()){var e=r.require("mnethbadaptercontroller");i.isSet(e)&&i.isFunction(e.callMnetBidderCallback)&&e.callMnetBidderCallback()}}function I(){if(r.isMnetBidderRequest()){var e=r.getAuctionTimeForMnetBidderRequest();setTimeout(function(){i.triggerEvent("auctionEnd","global")},e)}}function S(){i.addToEventQueue("auctionEnd","global",h),I()}function x(){i.addToEventQueue("auctionEnd","global",P),r.getGptRequestDelay()&&(i.isFunction(window.advBidxc.loadGPT)||clearTimeout(window.advBidxc.loadGPT),setTimeout(function(){P(!0)},r.getGptRequestDelay()))}function A(){return r.isDisableUrlRegex()||-1!==r.getPublisherUrl().indexOf("force_hbnobid=1")}function E(){return r.hasForcedRequestLimit()&&i.fromIE()&&parseInt(i.ua.split("msie")[1],10)<=9}function q(){var e=r.require("customutil");return i.isSet(e)&&i.isFunction(e.isCompletelyDisabled)?e.isCompletelyDisabled():!1}function T(){return K.disable===!0||A()||i.isMobile()&&!d.supportStorage()||E()||q()||i.inIframe&&!r.isBidxcEnabledInsideIframe()}function C(){r.doPrefetchOnLoad()?i.eventLib.addEvent(window,"load",function(){H()}):i.DOMLoadObserver.getInstance().onDOMLoad(function(){H()})}function D(){var e=r.require("antiadblock");i.isSet(e)&&e.init()}function F(){if(t&&t.inImageProd){var e=r.require("inimagemanager");i.isSet(e)&&e.init()}}function y(){var e=r.require("mnetcookiesyncmanager");i.addToEventQueue("idleTime","global",i.getProxy(e.initiateCookieSync,[]))}function R(){if(Y=r.require("ampdfpmanager"),T()||!o.hasValidConfig())return void a.setStatus(K.status.FAILED);var e=o.getGuaranteedPlacementIds(),i=l(e);y(),p(i),C()}function M(){if(Z=r.require("dfpmanager"),G(),T()||!o.hasValidConfig())return P(),void a.setStatus(K.status.FAILED);r.require("logmanager").initDebugLog.gatherSlotData(),r.isMnetBidderRequest()||(j=r.require("gptmanager"),j.init());var e=o.getGuaranteedPlacementIds(),i=l(e);y(),x(),S(),p(i),C(),F(),D()}function L(){if(r.isHeatmapEnabled()){var e=r.require("hmManager");i.isSet(e)&&e.init()}}function G(){var e=r.require("servicepartymanager");e&&e.init()}function N(){r.incrSessionDepth(),i.clock.tick("init");var e=r.require("dynamicsizingcontroller");e&&e.updateAndIntersectSizes(),r.isAmpRequest()?R():M(),u(),L()}function _(){var t=r.require("infinitescrollmanager"),n=r.require("customutil");if(r.isInfiniteScrollEnabled()){if(i.isSet(n)&&i.isFunction(n.parseSlotID))a.newAuction();else{if(!i.isSet(t)||!i.isFunction(t.init))return void e.pushError("Infinite Scroll manager is breaking");var d=t.init();if(d===!0)return}if(i.resetEvents(),i.triggerEvent("resetAw","command",!0),!T()&&o.hasValidConfig()){var c=o.getGuaranteedPlacementIds(),s=l(c);i.each(c,function(e){var i=o.getById(e);i.reset()}),p(s),W(!0)}}}function k(e){var t=a.getCurrentPage(),n=!0;i.resetGlobalEvents(),i.isSet(r.getGoogleRefreshDelay())&&(n=!1),e=e||o.getGuaranteedPlacementIds(),i.each(e,function(e){var n=o.getCodeForId(e);i.resetEventsByTag(n),Z.clearSlotsTargetedMap(t,n),Z.clearTargeting(n,t,!0)}),i.triggerEvent("all:reset","command",!0,{placements:e,pageId:t}),i.each(e,function(e){o.incrRefreshCounter(e)});var d=l(e);p(d,n),W(!1,!0)}function U(e){i.isArray(e)&&e.length>0&&p(l(e))}function O(e){return e&&(r.getRefreshPrefetchDelayTime()||100)||r.getPrefetchDelayTime()||0}function W(e,n){var r,o=!!(t&&t.cbInfo&&t.cbInfo.cacheDisabled);if(d.supportStorage()&&!o){if(r=O(n),!e&&r>0)return void setTimeout(function(){W(!0)},r);i.triggerEventWithBeforeAfter("prefetch","global"),i.triggerEvent("afterAuction","global")}}function H(){i.triggerEvent("idleTime","global"),r.isHdHome()&&r.disablePrefetchForHome()||W()}function Q(){try{J=J||window._mNRequire(["mnetadxcontroller"])[0]}catch(e){}return J}function V(e,t,n){var r=o.getCodeForId(t);if(i.isSet(r))return i.isSet(n)?c.renderExternal(e,n,r,null,"0"):void g(e,r,"0")}function z(e){i.isSet(e)&&i.isArray(e)||(e=o.getGuaranteedPlacementIds()),0!==e.length&&(o.enablePlacementsForAdapterRefresh(e),i.triggerEvent("all:reset","command",!0,{placements:e,pageId:a.getCurrentPage()}),S(),p(l(e)))}var Y,Z,j,J,K=t.headerBidder,X={};return X.push=function(e){i.isFunction(e)&&e.call(null)},window.advBidxc.renderExternal=c.renderExternal,window.advBidxc.renderSuccess=c.renderSuccess,window.advBidxc.renderAd=g,window.advBidxc.setTargetingForAdUnitsGPTAsync=f,window.advBidxc.next=_,window.advBidxc.refresh=k,window.advBidxc.getBidsForSlots=U,window.advBidxc.renderAdUnit=V,window.advBidxc.refreshMnetBids=z,{init:N}}),window._mNRequire(["_mNRP","util","mnetHbConsole","config","init"],function(e,i,t,n,r){"use strict";e.setType("HB"),i.clock.start(),1===n.features.seo?setTimeout(i.getProxy(r.init,[],r),0):r.init(),t.bootstrap()});} catch (err) {
    var errObj = {};
    var errStacktrace = '';
    var userAgent = encodeURIComponent(window.navigator.userAgent);
    if (err.stack) {errStacktrace = err.stack;}
    else if (err.s) {errStacktrace = err.s;}
    else if (err.stacktrace) {errStacktrace = err.stacktrace;}
    else errStacktrace = 'No StackTrace';
    var objTrace = '';
    for ( var x in err) {
        if (err.hasOwnProperty && err.hasOwnProperty(x)) {
            objTrace += x + " : '" + err[x] + "',";
        }
    }
    errObj.logLevel = 3;
    errObj.errorVal = {};
    errObj.errorVal.name = "bidExchange";
    errObj.errorVal.type = "HB";
    errObj.errorVal.message = "bidExchange encountered an error";
    errObj.errorVal.stack = errStacktrace;
    errObj.errorVal.objTrace = objTrace;
    var errorString = '';
    if (typeof JSON === "object" && typeof JSON.stringify !== "undefined") {
            errorString = JSON.stringify(errObj);
    } else {
        errorString = errObj.errorVal.name + '@#@' + errObj.errorVal.type + '@#@' + errStacktrace + '@#@' + objTrace;
    }
    errorString = encodeURIComponent("[" + errorString + "]");
    var urlSrc = 'http://qsearch.media.net/nerrping.php?userAgent=' + userAgent + '&requrl=' + encodeURIComponent(window.location.href) + '&cid=8CU66J63J&img=logo.gif&d=' + errorString;
    var imgx  = new Image();
    imgx.src = urlSrc;
}; 